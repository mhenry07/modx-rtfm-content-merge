<div class="info">
<b>API Function Definition</b>
<br />

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<td class='confluenceTd'>
Name
</td>
<td class='confluenceTd'>
runSnippet
</td>
</tr>

<tr>
<td class='confluenceTd'>
Versions
</td>
<td class='confluenceTd'>
&gt; 0.9.2
</td>
</tr>

<tr>
<td class='confluenceTd'>
Parameters
</td>
<td class='confluenceTd'>
string $snippetName [, array $params]
</td>
</tr>

<tr>
<td class='confluenceTd'>
Return success
</td>
<td class='confluenceTd'>
Output of a given snippet
</td>
</tr>

<tr>
<td class='confluenceTd'>
Return failure
</td>
<td class='confluenceTd'>
empty string (or false?)
</td>
</tr>

<tr>
<td class='confluenceTd'>
Return type
</td>
<td class='confluenceTd'>
string
</td>
</tr>

<tr>
<td class='confluenceTd'>
Object hierarchy
</td>
<td class='confluenceTd'>
<a href="display/Evo1/DocumentParser+Object" title="DocumentParser Object">DocumentParser</a>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<p>
Retrieves a snippet from the database (or cache) given the name of the snippet. Extra parameters may also be sent to the snippet via it's optional second parameter. This function is usually used to run a snippet from within other <a href="display/Evo1/Snippets" title="Snippets">Snippets</a> or even <a href="display/Evo1/Modules" title="Modules">Modules</a>.
</p>

<h2>
<a name="runSnippet-Examples" id="runSnippet-Examples"></a>Examples
</h2>

<pre class="brush: php">
    function runSnippet($snippetName, $params= array ()) {
  if (isset ($this-&gt;snippetCache[$snippetName])) {
      $snippet= $this-&gt;snippetCache[$snippetName];
      $properties= $this-&gt;snippetCache[$snippetName . "Props"];
  } else { // not in cache so let's check the db
      $sql= "SELECT * FROM " . $this-&gt;getFullTableName("site_snippets") . " WHERE " . $this-&gt;getFullTableName("site_snippets") . ".name='" . mysql_escape_string($snippetName) . "';";
      $result= $this-&gt;dbQuery($sql);
      if ($this-&gt;recordCount($result) == 1) {
          $row= $this-&gt;fetchRow($result);
          $snippet= $this-&gt;snippetCache[$row['name']]= $row['snippet'];
          $properties= $this-&gt;snippetCache[$row['name'] . "Props"]= $row['properties'];
      } else {
          $snippet= $this-&gt;snippetCache[$snippetName]= "return false;";
          $properties= '';
      }
  }
  // load default params/properties
  $parameters= $this-&gt;parseProperties($properties);
  $parameters= array_merge($parameters, $params);
  // run snippet
  return $this-&gt;evalSnippet($snippet, $parameters);
}

    
</pre>
<h2>
<a name="runSnippet-Notes" id="runSnippet-Notes"></a>Notes
</h2>

<p>
The paramaters array passed to this function should be of the form 'paramater' =&gt; 'value'; If you prefer a more readable function call, create an array first, such as:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
$params['param1'] = 'value1';
$params['param2'] = 'value2';

$html = $modx-&gt;runSnippet('mysnippet', $params);
</pre>
</div>
</div>
<p>
There are many ways to roll your own code but for this tutorial we are going to code our module so that it can make use of the MODx APIs.
</p>

<p>
When a module is first executed the code stored inside the PHP field is evaluated or called from within the execute_module.inc.php file. This means that our module can reference the $modx variable when it's executed.
</p>

<p>
For example:
</p>

<pre class="brush: php">
    $doc = $modx-&gt;getDocument(1);
return $doc['pagetitle'];

    
</pre>
<p>
This time we are using the return keyword to render text on the screen.
</p>

<p>
Using the echo keyword might be more convenient for your specific need.
</p>

<p>
For example:
</p>

<pre class="brush: php">
    &lt;script language="JavaScript" type="text/javascript"&gt;

   function postForm(opcode){

        document.module.opcode.value=opcode;

        document.module.submit();

   }

&lt;/script&gt;



&lt;form name="module" method="post"&gt;

&lt;input name="opcode" type="hidden" value="" /&gt;

&lt;!-- content goes here --&gt;

&lt;/form&gt;

    
</pre>
<p>
<b>Note:</b> The opcode field can be used as a function directive for calling an action from within the module.
</p>

<p>
When sending information back to the server you can use:
</p>

<pre class="brush: php">
    /* A simple module */



$opcode = isset($_POST['opcode']) ? $_POST['opcode']:'';



// action directive

switch($opcode) {

        case 'save':

                // save code here

                echo 'Save action';

        break;



        case 'delete':

                // delete code here

                echo 'Delete action';

        break;



        case 'search':

                // search code here

                echo 'Search action';

        break;



        default: // display module page

                echo '&lt;html&gt;';

                echo '&lt;head&gt;&lt;/head&gt;';

                echo '&lt;body&gt;';

                echo '&lt;script language="JavaScript" type="text/javascript"&gt;';

                echo '   function postForm(opcode){';

                echo '        document.module.opcode.value=opcode;';

                echo '        document.module.submit();';

                echo '   }';

                echo '&lt;/script&gt;';

                echo '&lt;form name="module" method="post"&gt;';

                echo '&lt;input name="opcode" type="hidden" value="" /&gt;';

                echo '&lt;h1&gt;Phone book&lt;/h1&gt;';

                echo '&lt;h3&gt;Manage your contacts with ease&lt;/h3&gt;';

                echo '&lt;hr /&gt;';

                echo '&lt;a href="javascript:;" onclick="postForm(\'save\');return
false;"&gt;Save&lt;/a&gt; | ';
                echo '&lt;a href="javascript:;" onclick="postForm(\'delete\');return
false;"&gt;Delete&lt;/a&gt; | ';
                echo '&lt;a href="javascript:;" onclick="postForm(\'search\');return
false;"&gt;Search List&lt;/a&gt; | ';
                echo '&lt;a href="javascript:;" onclick="postForm(\'\');return
false;"&gt;Main&lt;/a&gt;';
                echo '&lt;/form&gt;';

                echo '&lt;/body&gt;';

                echo '&lt;/html&gt;';

        break;


}



    
</pre>
<h1>
<a name="logEvent-API%3AlogEvent"></a>API:logEvent
</h1>

<div class='panelMacro'>
<table class='infoMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
<b>API Quick reference</b>
<br />

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<td class='confluenceTd'>
Variable name:
</td>
<td class='confluenceTd'>
logEvent
</td>
</tr>

<tr>
<td class='confluenceTd'>
Modx versions:
</td>
<td class='confluenceTd'>
0.9.x + Evolution
</td>
</tr>

<tr>
<td class='confluenceTd'>
Variable type:
</td>
<td class='confluenceTd'>
void
</td>
</tr>

<tr>
<td class='confluenceTd'>
Object parent:
</td>
<td class='confluenceTd'>
<a href="/display/Evo1/DocumentParser+Object" title="DocumentParser Object">DocumentParser</a>
</td>
</tr>
</tbody>
</table>
</div>
</td>
</tr>
</table>
</div>

<h2>
<a name="logEvent-Description"></a>Description
</h2>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
void logEvent(<span class="code-object">int</span> $evtid, <span class="code-object">int</span> $type, string $msg [, $source= 'Parser']);
</pre>
</div>
</div>

<ul>
<li>$evtid - Event ID
</li>

<li>$type - types: 1 = information, 2 = warning, 3 = error
</li>

<li>$msg - message to be logged
</li>

<li>$source - source of the event (module, snippet name, etc.)
</li>
</ul>

<p>
Displays a javascript alert alert message in the web browser
</p>

<h2>
<a name="logEvent-Usage%2FExamples"></a>Usage / Examples
</h2>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
$modx-&gt;logEvent($my_msg_cnt, 3, 'There was an error!', 'MySnippet'); 
</pre>
</div>
</div>

<h2>
<a name="logEvent-Related"></a>Related
</h2>

<h2>
<a name="logEvent-Notes"></a>Notes
</h2>

<p>
Compared to other systems, it is a bit odd that the error levels are numbered the way they are.
</p>

<h2>
<a name="logEvent-FunctionSource"></a>Function Source
</h2>

<p>
<tt>API Source File | manager/includes/document.parser.class.inc.php | 1285</tt>
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
# Add an a alert message to the system event log
    function logEvent($evtid, $type, $msg, $source= 'Parser') {
        $msg= mysql_escape_string($msg);
        $source= mysql_escape_string($source);
        $evtid= intval($evtid);
        <span class="code-keyword">if</span> ($type &lt; 1)
            $type= 1;
        <span class="code-keyword">else</span>
            <span class="code-keyword">if</span> ($type &gt; 3)
                $type= 3; <span class="code-comment">// Types: 1 = information, 2 = warning, 3 = error
</span>        $sql= <span class="code-quote">"INSERT INTO "</span> . $<span class="code-keyword">this</span>-&gt;getFullTableName(<span class="code-quote">"event_log"</span>) . <span class="code-quote">"(eventid,type,createdon,source,description,user) "</span> .
        <span class="code-quote">"VALUES($evtid,$type,"</span> . time() . <span class="code-quote">",'$source','$msg','"</span> . $<span class="code-keyword">this</span>-&gt;getLoginUserID() . <span class="code-quote">"')"</span>;
        $ds= $<span class="code-keyword">this</span>-&gt;dbQuery($sql);
        <span class="code-keyword">if</span> (!$ds) {
            echo <span class="code-quote">"Error <span class="code-keyword">while</span> inserting event log into database."</span>;
            exit;
        }

    }
</pre>
</div>
</div>
<h2>
<a name="select-API%3ADB%3Aselect"></a>API:DB:select
</h2>

<div class="info">
<b>API Quick reference</b>
<br />

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<td class='confluenceTd'>
Variable name:
</td>
<td class='confluenceTd'>
select
</td>
</tr>

<tr>
<td class='confluenceTd'>
Modx versions:
</td>
<td class='confluenceTd'>
0.9.x + Evolution
</td>
</tr>

<tr>
<td class='confluenceTd'>
Input parameters:
</td>
<td class='confluenceTd'>
([string $fields [, string $from [, string $where [, string $orderby [, string $limit]]]]])
</td>
</tr>

<tr>
<td class='confluenceTd'>
Return if successful:
</td>
<td class='confluenceTd'>
resource
</td>
</tr>

<tr>
<td class='confluenceTd'>
Return type:
</td>
<td class='confluenceTd'>
resource
</td>
</tr>

<tr>
<td class='confluenceTd'>
Return on failure:
</td>
<td class='confluenceTd'>
false
</td>
</tr>

<tr>
<td class='confluenceTd'>
Object parent:
</td>
<td class='confluenceTd'>
<a href="display/Evo1/DocumentParser+Object" title="DocumentParser Object">DocumentParser</a> -&gt; <a href="display/Evo1/DBAPI" title="DBAPI">DBAPI</a>
</td>
</tr>
</tbody>
</table>
</div>
</div>

<h2>
<a name="select-Description" id="select-Description"></a>Description
</h2>

<pre class="brush: php">
    $results = $modx-&gt;db-&gt;select("field1, field2", "table", "field = value", "field to order by", "limit value"); 
    
</pre>
<p>
This example login function uses the select function to get the id of a user given the username and password.
</p>

<pre class="brush: php">
    $userId = $modx-&gt;getLoginUserID();
$table = $modx-&gt;getFullTableName("user_messages");
$messages = $modx-&gt;db-&gt;select("subject, message, sender", $table, "recipient = $userId", "postdate DESC", "10"); 
    
</pre>
<p>
This will return the subject, message and sender of the latest 10 messages for the current user.
</p>

<h2>
<a name="select-Related" id="select-Related"></a>Related
</h2>

<p>
<span class="error">[getRecordCount]</span>(), <a href="display/Evo1/query" title="query">query</a>(), <span class="error">[getRow]</span>(), <span class="error">[makeArray]</span>().
</p>

<h2>
<a name="select-Notes" id="select-Notes"></a>Notes
</h2>

<p>
One could easily use mysql_query($qry) instead of this function, however it is preferred to use this function, especially for modx table calls, to ensure future compatibility should their be any changes to the way modx queries the database (eg: changing to mysqli_query(), or using another database type altogether).
</p>

<h2>
<a name="select-FunctionSource" id="select-FunctionSource"></a>Function Source
</h2>

<p>
File: manager/includes/extenders/dbapi.class.inc.php
<br />
Line: 169
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
function select($fields = <span class="code-quote">"*"</span>, $from = <span class="code-quote">"", $where = "</span><span class="code-quote">", $orderby = "</span><span class="code-quote">", $limit = "</span>") {
   <span class="code-keyword">if</span> (!$from)
      <span class="code-keyword">return</span> <span class="code-keyword">false</span>;
   <span class="code-keyword">else</span> {
      $table = $from;
      $where = ($where != <span class="code-quote">"") ? "</span>WHERE $where<span class="code-quote">" : "</span>";
      $orderby = ($orderby != <span class="code-quote">"") ? "</span>ORDER BY $orderby <span class="code-quote">" : "</span>";
      $limit = ($limit != <span class="code-quote">"") ? "</span>LIMIT $limit<span class="code-quote">" : "</span>";
      <span class="code-keyword">return</span> $<span class="code-keyword">this</span>-&gt;query(<span class="code-quote">"SELECT $fields FROM $table $where $orderby $limit"</span>);
   }
}
</pre>
</div>
</div>
<p>
<br class="atl-forced-newline" />
</p>

<p>
The xPDOQuery extends the xPDOCriteria class and allows you to abstract out complex SQL queries into an OOP format. This allows encapsulation of SQL calls so that they can work in multiple database types, and be easy to read and dynamically build.
</p>

<div class="plugin_pagetree">
<div style="margin-left: 2em" class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
<div class="plugin_pagetree_children">
</div>
</div>

<fieldset class="hidden">
<input type="hidden" name="treeId" value="" /> <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false" /> <input type="hidden" name="treePageId" value="9797710" /> <input type="hidden" name="noRoot" value="false" /> <input type="hidden" name="rootPageId" value="9797710" /> <input type="hidden" name="rootPage" value="" /> <input type="hidden" name="startDepth" value="4" /> <input type="hidden" name="spaceKey" value="XPDO10" /> <input type="hidden" name="i18n-pagetree.loading" value="Loading..." /> <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page." /> <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information." /> <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2FXPDO10%2FxPDOQuery" />
<fieldset class="hidden">
<input type="hidden" name="ancestorId" value="9797710" />
</fieldset>
</fieldset>
</div>

<h2>
<a name="xPDOQuery-Examples" id="xPDOQuery-Examples"></a>Examples
</h2>

<p>
Grab the first 4 Boxes with:
</p>

<ol>
<li>Owners that have the letter 'a' in their names
</li>

<li>A width of at least 10
</li>

<li>A height that is not 2
</li>

<li>sorted by the Box name, ascending and then by the Box height, descending
</li>
</ol>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
$query = $xpdo-&gt;newQuery('Box');
$query-&gt;innerJoin('Owner','User'); 
<span class="code-comment">// the Owner is actually a User object, defined as Owner in the relationship alias
</span>$query-&gt;where(array(
    'Owner.name:LIKE' =&gt; '%a%',
    'Box.width:&gt;=' =&gt; 10,
    'Box.height:!=' =&gt; 2,
));
$query-&gt;sortby('Box.name','ASC');
$query-&gt;sortby('Box.height','DESC');
$query-&gt;limit(4);
$boxes = $xpdo-&gt;getCollection('Box',$query);
</pre>
</div>
</div>

<h2>
<a name="xPDOQuery-SeeAlso" id="xPDOQuery-SeeAlso"></a>See Also
</h2>

<ul>
<li>
<a href="/display/XPDO10/Retrieving+Objects" title="Retrieving Objects">Retrieving Objects</a>
</li>

<li>
<a href="/display/XPDO10/xPDO.newQuery" title="xPDO.newQuery">xPDO.newQuery</a>
</li>
</ul>
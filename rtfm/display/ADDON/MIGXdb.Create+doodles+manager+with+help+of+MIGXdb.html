<div>
<ul>
<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreatingadoodlesmanagerwithhelpofMIGXdb'>Creating a doodles-manager with help of MIGXdb</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Requirements'>Requirements</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreateanewPackageandschemafile'>Create a new Package and schema-file</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-TheSchema'>The Schema</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-ParseSchema'>Parse Schema</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreateTable%28s%29'>Create Table(s)</a>
</li>
</ul>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreatetheConfiguration'>Create the Configuration</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Settings'>Settings</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CMPSettings'>CMP-Settings</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Columns'>Columns</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Formtabs'>Formtabs</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-MIGXdbSettings'>MIGXdb-Settings</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-dbfilters'>db-filters</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Contextmenues'>Contextmenues</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Actionbuttons'>Actionbuttons</a>
</li>
</ul>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreateamenutoyourCMP'>Create a menu to your CMP</a>
</li>

<li>
<a href='#MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Done'>Done</a>
</li>
</ul>
</div>

<h2>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreatingadoodlesmanagerwithhelpofMIGXdb"></a>Creating a doodles-manager with help of MIGXdb
</h2>

<p>
In this Tutorial we will learn how to create a doodles-manager with help of MIGXdb.
<br />
The result at the end will be somelike the same as its done here, but without doing one line of coding: <a href="/display/revolution20/Developing+an+Extra+in+MODX+Revolution" title="Developing an Extra in MODX Revolution">Developing an Extra in MODX Revolution</a>
</p>

<p>
First we will create a db-schema and its table(s), if not allready done.
<br />
Then we will create and configure a MIGXdb-CMP to manage our doodles (db-records).
</p>

<h2>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Requirements"></a>Requirements
</h2>

<p>
First off we will need to install <a href="/display/ADDON/MIGX" title="MIGX">MIGX</a> by package-management and do some <a href="/display/ADDON/MIGXdb.Configuration" title="MIGXdb.Configuration">basic configurations</a>.
</p>

<h2>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreateanewPackageandschemafile"></a>Create a new Package and schema-file
</h2>

<p>
Go to Components-&gt;MIGX-&gt;Tab 'Package Manager'
</p>

<p>
add a name for your new package into the field 'packageName:'. For our example we use 'doodles'.
<br />
Click 'Create Package'
<br />
This should create a directory under your core-path with an empty schema-file in its correct place.
</p>

<p>
Still having 'doodles' in the field packageName we want to fill the textarea-field 'schema'.
<br />
Go to the tab 'xml schema' and add this code:
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-TheSchema"></a>The Schema
</h3>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-xml">
<span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;</span>
<span class="code-tag">&lt;model package=<span class="code-quote">"doodles"</span> baseClass=<span class="code-quote">"xPDOObject"</span> platform=<span class="code-quote">"mysql"</span> defaultEngine=<span class="code-quote">"MyISAM"</span> version=<span class="code-quote">"1.1"</span>&gt;</span>
    <span class="code-tag">&lt;object class=<span class="code-quote">"Doodle"</span> table=<span class="code-quote">"doodles"</span> extends=<span class="code-quote">"xPDOSimpleObject"</span>&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"name"</span> dbtype=<span class="code-quote">"varchar"</span> precision=<span class="code-quote">"255"</span> phptype=<span class="code-quote">"string"</span> null=<span class="code-quote">"false"</span> default=""/&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"description"</span> dbtype=<span class="code-quote">"text"</span> phptype=<span class="code-quote">"string"</span> null=<span class="code-quote">"false"</span> default=""/&gt;</span>
 
        <span class="code-tag">&lt;field key=<span class="code-quote">"createdon"</span> dbtype=<span class="code-quote">"datetime"</span> phptype=<span class="code-quote">"datetime"</span> null=<span class="code-quote">"true"</span>/&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"createdby"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> attributes=<span class="code-quote">"unsigned"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"editedon"</span> dbtype=<span class="code-quote">"datetime"</span> phptype=<span class="code-quote">"datetime"</span> null=<span class="code-quote">"true"</span>/&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"editedby"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> attributes=<span class="code-quote">"unsigned"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"deleted"</span> dbtype=<span class="code-quote">"tinyint"</span> precision=<span class="code-quote">"1"</span> attributes=<span class="code-quote">"unsigned"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"published"</span> dbtype=<span class="code-quote">"tinyint"</span> precision=<span class="code-quote">"1"</span> attributes=<span class="code-quote">"unsigned"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>  
 
        <span class="code-tag">&lt;aggregate alias=<span class="code-quote">"CreatedBy"</span> class=<span class="code-quote">"modUser"</span> local=<span class="code-quote">"createdby"</span> foreign=<span class="code-quote">"id"</span> cardinality=<span class="code-quote">"one"</span> owner=<span class="code-quote">"foreign"</span>/&gt;</span>
        <span class="code-tag">&lt;aggregate alias=<span class="code-quote">"EditedBy"</span> class=<span class="code-quote">"modUser"</span> local=<span class="code-quote">"editedby"</span> foreign=<span class="code-quote">"id"</span> cardinality=<span class="code-quote">"one"</span> owner=<span class="code-quote">"foreign"</span>/&gt;</span>
    <span class="code-tag">&lt;/object&gt;</span>
<span class="code-tag">&lt;/model&gt;</span>
</pre>
</div>
</div>

<p>
by clicking 'Save Schema' we should have our schema-file created. You can test it by clicking 'Load Schema'
</p>

<div class='panelMacro'>
<table class='noteMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
I've added two fields to the original doodles-schema: published, deleted
<br />
These fields are required by the default getlist-processor of MIGXdb.
<br />
If you had already created the doodles-table you can add these fields to your existing schema and go to the tab 'add fields' to add the new fields to your map and table.
<p>
Of course you can create your own processors under your own processor-path.
</p>
</td>
</tr>
</table>
</div>

<p>
<a href="/display/xPDO20/Defining+a+Schema" title="Defining a Schema">Read more about creating schemas</a>
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-ParseSchema"></a>Parse Schema
</h3>

<p>
Create xpdo-classes and maps from schema by clicking 'Parse Schema' on the tab 'Parse Schema'
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreateTable%28s%29"></a>Create Table(s)
</h3>

<p>
Create tables from schema by clicking 'Create Tables' on the tab 'Create Tables'
<br />
This schould create our table.
</p>

<h2>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreatetheConfiguration"></a>Create the Configuration
</h2>

<p>
Now we want to create our configuration for the MIGXdb-CMP.
</p>

<p>
Go to the main-tab 'MIGX'
</p>

<p>
There should be an grid with some buttons.
</p>

<p>
We click the 'Add item' - button
</p>

<p>
In the opening window we add:
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Settings"></a>Settings
</h3>

<p>
Name: doodles - this is the name of our configuration. Make sure to use unique configuration-names.
<br />
"Add Item" Replacement: Add Doodle - this is the text on our 'Add Item' - Button
<br />
unique MIGX ID: doodles - Its a good idea to have a unique MIGX - id for all your MIGX-configs.
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CMPSettings"></a>CMP-Settings
</h3>

<p>
Tab Caption: Doodles
<br />
Tab Description: Manage your doodles here. You can edit them by either double-clicking on the grid or right-clicking on the respective row.
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Columns"></a>Columns
</h3>

<p>
click 'add item' for four columns:
</p>

<p>
Header: ID
<br />
field: id
</p>

<p>
Header: Name
<br />
field: name
</p>

<p>
Header: Description
<br />
field: description
</p>

<p>
field: deleted
<br />
show in grid: no
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Formtabs"></a>Formtabs
</h3>

<p>
click 'add item' to add a new formtab
</p>

<p>
Caption: Doodle
</p>

<p>
We add two fields to our tab:
<br />
click 'add item'
</p>

<p>
fieldname: name
<br />
Caption: Name
</p>

<p>
fieldname: description
<br />
Caption: Desription
<br />
inputTVtype: textarea
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-MIGXdbSettings"></a>MIGXdb-Settings
</h3>

<p>
package: doodles
<br />
classname: Doodle
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-dbfilters"></a>db-filters
</h3>

<p>
click 'add item'
<br />
filter name: search
<br />
filter type: textbox
<br />
getlist where:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
{<span class="code-quote">"name:LIKE"</span>:<span class="code-quote">"%[[+search]]%"</span>,<span class="code-quote">"OR:description:LIKE"</span>:<span class="code-quote">"%[[+search]]%"</span>}
</pre>
</div>
</div>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Contextmenues"></a>Contextmenues
</h3>

<p>
check: update , recall_remove_delete
</p>

<h3>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Actionbuttons"></a>Actionbuttons
</h3>

<p>
check: add item , toggletrash
</p>

<h2>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-CreateamenutoyourCMP"></a>Create a menu to your CMP
</h2>

<p>
System -&gt; Actions
</p>

<p>
menu-tree:
<br />
Components-&gt;MIGX-&gt;right-click-&gt;Place Action here
</p>

<p>
Lexicon-key: doodles
<br />
Action: migx-index
<br />
parameters &amp;configs=doodles
</p>

<p>
click 'save'
</p>

<h2>
<a name="MIGXdb.CreatedoodlesmanagerwithhelpofMIGXdb-Done"></a>Done
</h2>

<p>
refresh the manager
<br />
go to Components-&gt;MIGX-&gt;doodles
</p>

<p>
There is it, your new doodles-manager!
</p>
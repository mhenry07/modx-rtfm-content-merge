<div class="error">
<span class="error">Unknown macro: {div}</span>
<p>
<img class="emoticon" src="images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0" /><b>Language Variants</b>
</p>

<table class="tableview" width="100%">
<tr>
<td>
<span class="icon icon-page">Page:</span> <a href="display/ADDON/YAMS+Setup+%28de%29">YAMS Setup (de)</a>
</td>
</tr>

<tr>
<td>
<span class="icon icon-page">Page:</span> <a href="display/ADDON/Configurar+YAMS">Configurar YAMS</a>
</td>
</tr>

<tr>
<td>
<span class="icon icon-page">Page:</span> <a href="display/ADDON/YAMS+Setup">YAMS Setup</a>
</td>
</tr>
</table>
</div>

<h2>
<a name="YAMSSetup-SettingupYAMS."></a>Setting up YAMS.
</h2>

<p>
These instructions explain how to set up a new site or convert an existing site to be multilingual in a way that will cause the least disruption. In theory it is possible to convert a site to a multilingual one without having to take it offline except while reloading the server config. If everything goes smoothly, then at no point should the website be broken during the setup process.
</p>

<p>
These instructions are for people who are starting from scratch and want to develop a multilingual site, or those or have a monolingual site and would like to add additional languages.
</p>

<h2>
<a name="YAMSSetup-Startingfromscratchorfromamonolingualsite"></a>Starting from scratch or from a mono-lingual site
</h2>

<p>
It will be assumed that the YAMS module, plugin and snippet are already installed according to <a href="display/ADDON/YAMS+Installation" title="YAMS Installation">the instructions</a>. Installing the <a href="http://modxcms.com/extras/package/255" class="external-link" rel="nofollow">ManagerManager</a> plugin and configuring it to use the YAMS rules is highly recommended, since YAMS can use it to organise the multiple language fields into separate tabs and to hide redundant document variable fields on the document view.
</p>

<p>
YAMS has been designed to work with friendly URLs or friendly alias paths.
</p>

<p>
The default YAMS install does nothing. Multilingual functionality has to be configured manually by specifying document templates as multilingual.
</p>

<h2>
<a name="YAMSSetup-StepbyStepYAMSSetup"></a>Step by Step YAMS Setup
</h2>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Step
</th>
<th class='confluenceTh'>
Action
</th>
<th class='confluenceTh'>
Description
</th>
</tr>

<tr>
<td class='confluenceTd'>
1
</td>
<th class='confluenceTh'>
Backup
</th>
<td class='confluenceTd'>
It's always wise to take a backup before modifying a site.
</td>
</tr>

<tr>
<td class='confluenceTd'>
2
</td>
<th class='confluenceTh'>
Decide on URL format
</th>
<td class='confluenceTd'>
Before starting to configure YAMS it is necessary to decide how the language of the documents will be identified from the URL. YAMS will operate in different modes, depending on how the URLs are configured: <b>Server Name</b> mode, <b>Root Name</b> mode, <b>Unique Multilingual Aliases</b> mode and <b>Query Param</b> mode. These modes are described in detail on the <a href="display/ADDON/YAMS+Language+Modes" title="YAMS Language Modes">modes page</a>. Examples of how different language versions of a single document could be configured are given below:
<h3>
<a name="YAMSSetup-UsingUniqueMultilingualAliases"></a>Using Unique Multilingual Aliases
</h3>

<ul>
<li>Each language variant is referred to with a different name.
</li>

<li>Every language variant of every document has a unique name.
</li>

<li>Can be used with or without friendly alias paths.
</li>

<li>Document language determined from the document alias. <b>Example:</b>
</li>

<li>
<a href="http://server_name/home.html" class="external-link" rel="nofollow">http://server_name/home.html</a>
</li>

<li>
<a href="http://server_name/accueil.html" class="external-link" rel="nofollow">http://server_name/accueil.html</a>
<h3>
<a name="YAMSSetup-UsingServerNameandRootNamemodes"></a>Using Server Name and Root Name modes
</h3>
</li>

<li>Can be used with or without unique or non-unique multilingual aliases.
</li>

<li>Can be used with or without friendly alias paths. <b>Examples:</b>
</li>

<li>Server name mode only. Eg:
<ul>
<li>
<a href="http://en.server_name.com/mydoc.html" class="external-link" rel="nofollow">http://en.server_name.com/mydoc.html</a>
</li>

<li>
<a href="http://fr.server_name.com/mydoc.html" class="external-link" rel="nofollow">http://fr.server_name.com/mydoc.html</a>
</li>
</ul>
</li>

<li>Root name mode only. Eg:
<ul>
<li>
<a href="http://server_name.com/en/mydoc.html" class="external-link" rel="nofollow">http://server_name.com/en/mydoc.html</a>
</li>

<li>
<a href="http://server_name.com/fr/mydoc.html" class="external-link" rel="nofollow">http://server_name.com/fr/mydoc.html</a>
</li>
</ul>
</li>

<li>Root name mode only, with one language at root. Eg:
<ul>
<li>
<a href="http://server_name.com/mydoc.html" class="external-link" rel="nofollow">http://server_name.com/mydoc.html</a>
</li>

<li>
<a href="http://server_name.com/fr/mydoc.html" class="external-link" rel="nofollow">http://server_name.com/fr/mydoc.html</a>
</li>
</ul>
</li>

<li>Server name mode, root name mode, friendly alias paths, multilingual aliases and &gt;7bit URLs. Eg:
<ul>
<li>
<a href="http://en.server_name.com/england/folder/mydoc.html" class="external-link" rel="nofollow">http://en.server_name.com/england/folder/mydoc.html</a>
</li>

<li>
<a href="http://fr.server_name.com/la-france/r%C3%A9pertoire/mon-doc.html" class="external-link" rel="nofollow">http://fr.server_name.com/la-france/r√©pertoire/mon-doc.html</a>
<h3>
<a name="YAMSSetup-UsingQueryParammode"></a>Using Query Param mode
</h3>
</li>
</ul>
</li>

<li>This is the fallback if it is not possible to determine the language of the doc any other way.
</li>

<li>Can be used with or without friendly aliases and friendly alias paths.
</li>

<li>The name of the query parameter is customisable. <b>Example:</b>
</li>

<li>
<a href="http://server_name.com/mydoc.html?yams_lang=en" class="external-link" rel="nofollow">http://server_name.com/mydoc.html?yams_lang=en</a>
</li>

<li>
<a href="http://server_name.com/mydoc.html?yams_lang=fr" class="external-link" rel="nofollow">http://server_name.com/mydoc.html?yams_lang=fr</a>
</li>
</ul>
</td>
</tr>

<tr>
<td class='confluenceTd'>
3
</td>
<th class='confluenceTh'>
Configure Language Settings
</th>
<td class='confluenceTd'>
The second step is to configure the language settings for each language group that will be used on multilingual documents. This is done on the 'Language Settings' tab of the module interface. Each language group has an id. This is used, for example, in the multilingual versions of the template variables for that language. Eg: <tt>description_<em>id</em></tt>, where <tt><em>id</em></tt> = <tt>en</tt>, <tt>fr</tt> or <tt>de</tt> A language group can be set up to represent a group of languages (en), a specific localised language (en-gb) or a selection of localised languages (en,en-gb,en-us,...) by specifying a comma separated list of language tags. In addition to the language group id and URL settings for each language group, it is possible to specify a language direction, text associated with each language and a MODx language name. One language group must be chosen as the default language group. This language will be assumed for monolingual documents.
</td>
</tr>

<tr>
<td class='confluenceTd'>
4
</td>
<th class='confluenceTh'>
Update Friendly URLs config
</th>
<td class='confluenceTd'>
Next the server needs to be configured to handle the chosen language configuration. This can be done by copying the generated code from the 'Server Config' tab into the .htaccess file. It may be necessary to restart/reload the server. The server config file will have to be updated any time a language group is activated or deactivated, its server or root name is changed, or the query parameter is renamed. At this stage the website should still be functioning normally. By default all pages are considered monolingual (or non-multilingual), so no change in the website will be observed at this stage.
</td>
</tr>

<tr>
<td class='confluenceTd'>
5
</td>
<th class='confluenceTh'>
Check URLs
</th>
<td class='confluenceTd'>
YAMS will automatically recognise and convert MODx style internal URLs that are surrounded by quotes to multilingual URLs that point to the correct language variant. The URL formats recognised and automatically handled by YAMS are: "<tt>[(site_url)][~<em>something</em>~]</tt>" or "<tt>[(base_url)][~<em>something</em>~]</tt>" and "<tt>[~<em>something</em>~]</tt>". The multilingual URLs generated by the YAMS always consist of the complete URL, including server name and full path. As a result they are not affected by the base href setting. The URLs are also configurable using the controls on the 'Other Params' tab. For example, it is possible to request that weblink URLs always resolve to their destination URL, or to request that the filename of the site start document of the default language is not output. URLs of physical resources like images, style and javascript files are not affected by YAMS. Relative URLs to such resources can be affected by the base href setting however, especially when using server name mode. The recommended method is to use the <tt>(yams_server)</tt> placeholder as follows:

<pre class="brush: php">
    [[YAMS? &amp;get=`list`]]
    
</pre>
<p>
or
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[YAMS? &amp;get=`selectform`]]
</pre>
</div>
</div>

<p>
can be used to include a list based or form based language selection tool into multilingual templates. These commands can now be modified using custom templates. See <a href="display/ADDON/YAMS+Snippet" title="YAMS Snippet">the YAMS Snippet page</a> for full details.
</p>
</td>
</tr>

<tr>
<td class='confluenceTd'>
13
</td>
<th class='confluenceTh'>
All Done
</th>
<td class='confluenceTd'>
The site is now up and running as a multilingual site. The redirection mode and http status codes can be updated. Make sure that any search engine site maps contain a list of all documents, and not just those of a single language. See the 'How To?' tab for more details about how to achieve this.
</td>
</tr>
</tbody>
</table>
</div>
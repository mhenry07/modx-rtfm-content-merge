<p>
<br class="atl-forced-newline" />
</p>

<div>
<ul>
<li>
<a href='#Analytics-WhatisAnalytics%3F'>What is Analytics?</a>
</li>

<li>
<a href='#Analytics-Requirements'>Requirements</a>
</li>

<li>
<a href='#Analytics-History'>History</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#Analytics-Download'>Download</a>
</li>
</ul>
</li>

<li>
<a href='#Analytics-Usage'>Usage</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#Analytics-AnalyticsProperties'>Analytics Properties</a>
</li>
</ul>
</li>

<li>
<a href='#Analytics-Troubleshooting'>Troubleshooting</a>
</li>

<li>
<a href='#Analytics-DevelopmentandBugreporting'>Development and Bug reporting</a>
</li>
</ul>
</div>

<h2>
<a name="Analytics-WhatisAnalytics%3F"></a>What is Analytics?
</h2>

<p>
Analytics is a MODX Revolution extra to insert an optimized and minified Google Analytics asynchronous js tracking code on your pages. It will ignore traffic from users logged into the manager.
<br />
<a href="https://support.google.com/analytics/bin/answer.py?hl=en&amp;answer=2558867&amp;topic=2558810&amp;ctx=topic" class="external-link" rel="nofollow">Enhanced Link Attribution</a> is supported, enable it from your GA account.
</p>

<h2>
<a name="Analytics-Requirements" id="Analytics-Requirements"></a>Requirements
</h2>

<ul>
<li>MODx Revolution 2.1.5 or later
</li>

<li>PHP5 or later
</li>
</ul>

<h2>
<a name="Analytics-History" id="Analytics-History"></a>History
</h2>

<p>
Analytics was first released on February 5th, 2012 by <a href="http://modx.com/extras/author/yogooo" class="external-link" rel="nofollow">yogooo</a>. The idea of making this extra emerged after reading <a href="http://modx.com/extras/author/MarkH" class="external-link" rel="nofollow">Mark Hamstra</a>'s blog post: <a href="http://www.markhamstra.com/modx-blog/2012/01/hiding-google-analytics-code-from-manager-users/" class="external-link" rel="nofollow">Hiding Google Analytics code for MODX Manager users</a>.
</p>

<h3>
<a name="Analytics-Download" id="Analytics-Download"></a>Download
</h3>

<p>
The extra can be retrieved through the <a href="http://rtfm.modx.com/display/revolution20/Package+Management" class="external-link" rel="nofollow">Package Manager</a>, or downloaded manually from the <a href="http://modx.com/extras/package/analytics" class="external-link" rel="nofollow">Repository</a>.
</p>

<h2>
<a name="Analytics-Usage" id="Analytics-Usage"></a>Usage
</h2>

<p>
The minimum tag is as follows:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Analytics? &amp;setAccount=`UA-XXXXX-X`]]
</pre>
</div>
</div>

<p>
Always call the snippet uncached.
</p>

<h3>
<a name="Analytics-AnalyticsProperties" id="Analytics-AnalyticsProperties"></a>Analytics Properties
</h3>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default
</th>
</tr>

<tr>
<td class='confluenceTd'>
debug
</td>
<td class='confluenceTd'>
A simple debug mode to ouput debug messages as html comments.
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
setAccount
</td>
<td class='confluenceTd'>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiBasicConfiguration.html#_gat.GA_Tracker_._setAccount" class="external-link" rel="nofollow">_setAccount</a> parameter.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
trackPageview
</td>
<td class='confluenceTd'>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiBasicConfiguration.html#_gat.GA_Tracker_._trackPageview" class="external-link" rel="nofollow">_trackPageview</a> parameter.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
setDomainName
</td>
<td class='confluenceTd'>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiDomainDirectory.html#_gat.GA_Tracker_._setDomainName" class="external-link" rel="nofollow">_setDomainName</a> parameter.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
setCookiePath
</td>
<td class='confluenceTd'>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiDomainDirectory.html#_gat.GA_Tracker_._setCookiePath" class="external-link" rel="nofollow">_setCookiePath</a> parameter.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>
</tbody>
</table>
</div>

<p>
For more on Google Analytics parameters, read <a href="https://code.google.com/apis/analytics/docs/gaJS/gaJSApi.html" class="external-link" rel="nofollow">Google Analytics Tracking Code documentation</a>.
</p>

<p>
Properties can be set in the snippet call, property sets or via custom system settings.
<br />
To set them up via system settings: create your own system settings and name the keys such as gaq_analyticsParameter. Ex.: gaq_setAccount, gaq_setDomainName, etc.
<br />
If you set up your site settings in a resource, you can use <a href="http://rtfm.modx.com/display/ADDON/getResourceField" class="external-link" rel="nofollow">getResourceField</a> to retrieve the values and pass them through the snippet call.
</p>

<h2>
<a name="Analytics-Troubleshooting" id="Analytics-Troubleshooting"></a>Troubleshooting
</h2>

<ul>
<li>Turn on debug mode.
</li>

<li>Make sure you have set up your tracking ID with setAccount.
</li>

<li>Make sure you are logged out from the manager. Remember it doesn't track traffic from users logged into the manager.
</li>
</ul>

<h2>
<a name="Analytics-DevelopmentandBugreporting" id="Analytics-DevelopmentandBugreporting"></a>Development and Bug reporting
</h2>

<p>
Feature requests and bugs can be filed on <a href="https://github.com/yogoo/Analytics/issues" class="external-link" rel="nofollow">github</a>.
</p>
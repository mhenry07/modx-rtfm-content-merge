<div>
<ul>
<li>
<a href="extras/revo/analytics#Analytics-WhatisAnalytics%3F">What is Analytics?</a>
</li>

<li>
<a href="extras/revo/analytics#Analytics-Requirements">Requirements</a>
</li>

<li>
<a href="extras/revo/analytics#Analytics-History">History</a>
<ul>
<li>
<a href="extras/revo/analytics#Analytics-Download">Download</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/analytics#Analytics-Usage">Usage</a>
<ul>
<li>
<a href="extras/revo/analytics#Analytics-AnalyticsProperties">Analytics Properties</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/analytics#Analytics-Troubleshooting">Troubleshooting</a>
</li>

<li>
<a href="extras/revo/analytics#Analytics-DevelopmentandBugreporting">Development and Bug reporting</a>
</li>
</ul>
</div>

<h2 id="Analytics-WhatisAnalytics?">
What is Analytics?
</h2>

<p>
Analytics is a MODX Revolution extra to insert an optimized and minified Google Analytics asynchronous js tracking code on your pages. It will ignore traffic from users logged into the manager.
<br />
<a href="https://support.google.com/analytics/bin/answer.py?hl=en&amp;answer=2558867&amp;topic=2558810&amp;ctx=topic">Enhanced Link Attribution</a> is supported, enable it from your GA account.
</p>

<h2 id="Analytics-Requirements">
Requirements
</h2>

<ul>
<li>MODx Revolution 2.1.5 or later
</li>

<li>PHP5 or later
</li>
</ul>

<h2 id="Analytics-History">
History
</h2>

<p>
Analytics was first released on February 5th, 2012 by <a href="http://modx.com/extras/author/yogooo">yogooo</a>. The idea of making this extra emerged after reading <a href="http://modx.com/extras/author/MarkH">Mark Hamstra</a>'s blog post: <a href="http://www.markhamstra.com/modx-blog/2012/01/hiding-google-analytics-code-from-manager-users/">Hiding Google Analytics code for MODX Manager users</a>.
</p>

<h3 id="Analytics-Download">
Download
</h3>

<p>
The extra can be retrieved through the <a href="http://rtfm.modx.com/display/revolution20/Package+Management">Package Manager</a>, or downloaded manually from the <a href="http://modx.com/extras/package/analytics">Repository</a>.
</p>

<h2 id="Analytics-Usage">
Usage
</h2>

<p>
The minimum tag is as follows:
</p>

<pre class="brush: php">
&#91;&#91;!Analytics? &amp;setAccount=`UA-XXXXX-X`&#93;&#93;
</pre>
<p>
Always call the snippet uncached.
</p>

<h3 id="Analytics-AnalyticsProperties">
Analytics Properties
</h3>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
debug
</td>
<td>
A simple debug mode to ouput debug messages as html comments.
</td>
<td>
0
</td>
</tr>

<tr>
<td>
setAccount
</td>
<td>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiBasicConfiguration.html#_gat.GA_Tracker_._setAccount">_setAccount</a> parameter.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
trackPageview
</td>
<td>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiBasicConfiguration.html#_gat.GA_Tracker_._trackPageview">_trackPageview</a> parameter.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
setDomainName
</td>
<td>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiDomainDirectory.html#_gat.GA_Tracker_._setDomainName">_setDomainName</a> parameter.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
setCookiePath
</td>
<td>
Google Analytics <a href="http://code.google.com/apis/analytics/docs/gaJS/gaJSApiDomainDirectory.html#_gat.GA_Tracker_._setCookiePath">_setCookiePath</a> parameter.
</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<p>
For more on Google Analytics parameters, read <a href="https://code.google.com/apis/analytics/docs/gaJS/gaJSApi.html">Google Analytics Tracking Code documentation</a>.
</p>

<p>
Properties can be set in the snippet call, property sets or via custom system settings.
<br />
To set them up via system settings: create your own system settings and name the keys such as gaq_analyticsParameter. Ex.: gaq_setAccount, gaq_setDomainName, etc.
<br />
If you set up your site settings in a resource, you can use <a href="http://rtfm.modx.com/display/ADDON/getResourceField">getResourceField</a> to retrieve the values and pass them through the snippet call.
</p>

<h2 id="Analytics-Troubleshooting">
Troubleshooting
</h2>

<ul>
<li>Turn on debug mode.
</li>

<li>Make sure you have set up your tracking ID with setAccount.
</li>

<li>Make sure you are logged out from the manager. Remember it doesn't track traffic from users logged into the manager.
</li>
</ul>

<h2 id="Analytics-DevelopmentandBugreporting">
Development and Bug reporting
</h2>

<p>
Feature requests and bugs can be filed on <a href="https://github.com/yogoo/Analytics/issues">github</a>.
</p>
<p>
The Login controller is used for either showing a login form, or when discuss.sso_mode is enabled (recommended), to redirect the user to the login page.
</p>

<div>
<ul>
<li>
<a href="extras/revo/discuss/discuss.controllers/discuss.controllers.login#Discuss.Controllers.login-BasicInformation">Basic Information</a>
</li>

<li>
<a href="extras/revo/discuss/discuss.controllers/discuss.controllers.login#Discuss.Controllers.login-Options">Options</a>
</li>

<li>
<a href="extras/revo/discuss/discuss.controllers/discuss.controllers.login#Discuss.Controllers.login-ControllerTemplate">Controller Template</a>
</li>

<li>
<a href="extras/revo/discuss/discuss.controllers/discuss.controllers.login#Discuss.Controllers.login-SystemEvents">System Events</a>
</li>
</ul>
</div>

<h2>
<a name="Discuss.Controllers.login-BasicInformation" id="Discuss.Controllers.login-BasicInformation"></a>Basic Information
</h2>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<td class='confluenceTd'>
Since Version
</td>
<td class='confluenceTd'>
1.0
</td>
</tr>

<tr>
<td class='confluenceTd'>
Controller File
</td>
<td class='confluenceTd'>
controllers/web/login.class.php
</td>
</tr>

<tr>
<td class='confluenceTd'>
Controller Class Name
</td>
<td class='confluenceTd'>
DiscussLoginController
</td>
</tr>

<tr>
<td class='confluenceTd'>
Controller Template
</td>
<td class='confluenceTd'>
pages/login.tpl (if sso_mode=0)
</td>
</tr>

<tr>
<td class='confluenceTd'>
Manifest Name
</td>
<td class='confluenceTd'>
login
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="Discuss.Controllers.login-Options" id="Discuss.Controllers.login-Options"></a>Options
</h2>

<p>
The Login controller does not have any manifest options.
</p>

<p>
The usage of the Login controller depends on 2 system settings. If the <b>discuss.login_resource_id</b> is set and discuss.sso_mode is enabled, the Login controller will simply redirect requests to the resource specified by the login_resource_id setting with a &amp;discuss=1 query string.
</p>

<p>
If either sso_mode is disabled or no login_resource_id is set, the Login controller will use the pages/login.tpl template to display a login form.
</p>

<h2>
<a name="Discuss.Controllers.login-ControllerTemplate" id="Discuss.Controllers.login-ControllerTemplate"></a>Controller Template
</h2>

<p>
There are no specific placeholders to use in this controller template.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Login?
    &amp;loginTpl=`disLoginTpl`
    &amp;logoutTpl=`disLogoutTpl`
    &amp;preHooks=`preHook.DiscussLogin`
    &amp;postHooks=`postHook.DiscussLogin`
]]
</pre>
</div>
</div>

<p>
Please note that the disLoginTpl and disLogoutTpl chunks are currently (1.1.0) not included in the package, but can be any valid <a href="display/ADDON/Login.Login" title="Login.Login">Login chunk</a>. In order to properly sync user data to Discuss, you will need to have the preHook.DiscussLogin as prehook and postHook.DiscussLogin as posthook - also when using a third party auth scheme.
</p>

<p>
<a href="http://rtfm.modx.com/display/ADDON/Discuss.Installation#Discuss.Installation-SettingupLogin%2CRegister%26UpdateProfilepageswithDiscuss" class="external-link" rel="nofollow">Follow these instructions to set up login on your site using sso_mode (recommended).</a>
</p>

<h2>
<a name="Discuss.Controllers.login-SystemEvents" id="Discuss.Controllers.login-SystemEvents"></a>System Events
</h2>

<p>
No custom system events trigger on this controller.
</p>
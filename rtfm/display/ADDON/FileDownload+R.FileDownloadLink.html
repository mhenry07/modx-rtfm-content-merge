<div>
<ul>
<li>
<a href='#FileDownloadR.FileDownloadLink-Main'>Main</a>
</li>

<li>
<a href='#FileDownloadR.FileDownloadLink-Saltforhash'>Salt for hash</a>
</li>

<li>
<a href='#FileDownloadR.FileDownloadLink-Additional'>Additional</a>
</li>

<li>
<a href='#FileDownloadR.FileDownloadLink-Template'>Template</a>
</li>

<li>
<a href='#FileDownloadR.FileDownloadLink-Headers'>Headers</a>
</li>

<li>
<a href='#FileDownloadR.FileDownloadLink-Example'>Example</a>
</li>
</ul>
</div>

<p>
FileDownloadLink is a snippet for a single downloadable file.
<br />
It's just like providing the link to the direct file.
<br />
But in this case, FileDownloadLink will hide the real path of the file with the hashed link and count the downloading action.
</p>

<p>
Basic usage is [[!FileDownloadLink?]]
</p>

<h1>
<a name="FileDownloadR.FileDownloadLink-Main" id="FileDownloadR.FileDownloadLink-Main"></a>Main
</h1>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Example
</th>
<th class='confluenceTh'>
Default Value
</th>
<th class='confluenceTh'>
Options
</th>
</tr>

<tr>
<td class='confluenceTd'>
getFile
</td>
<td class='confluenceTd'>
You may only have ONE file path on this parameter
</td>
<td class='confluenceTd'>
&amp;getFile=`assets/files/readme.txt`
</td>
<td class='confluenceTd'>
empty
</td>
<td class='confluenceTd'>
string
</td>
</tr>

<tr>
<td class='confluenceTd'>
userGroups
</td>
<td class='confluenceTd'>
This will make the download link active for users that belong to the specified groups. Multiple groups can be specified by using a comma delimited list.
</td>
<td class='confluenceTd'>
&amp;userGroups=`Administrator, Registered Member`
</td>
<td class='confluenceTd'>
empty
</td>
<td class='confluenceTd'>
string
</td>
</tr>

<tr>
<td class='confluenceTd'>
toArray
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
Returns the result as an array instead, not parsed in the templates.
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
&amp;toArray=`1`
</td>
<td class='confluenceTd'>
0
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
bool: 0/1
<br class="atl-forced-newline" />
</td>
</tr>
</tbody>
</table>
</div>

<h1>
<a name="FileDownloadR.FileDownloadLink-Saltforhash" id="FileDownloadR.FileDownloadLink-Saltforhash"></a>Salt for hash
</h1>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default Value
</th>
<th class='confluenceTh'>
Options
</th>
</tr>

<tr>
<td class='confluenceTd'>
saltText
</td>
<td class='confluenceTd'>
This text will be added to the file's hashed link to disguise the direct path
</td>
<td class='confluenceTd'>
FileDownload
</td>
<td class='confluenceTd'>
string
</td>
</tr>
</tbody>
</table>
</div>

<p>
The link is a hashed text of the saltText, context, and filename/dirname combination.
<br />
So if you change the saltText value after a while, it will not block the content's appearance from the page, but the database will start the counter from zero again since it will not find the same hashed value.
</p>

<h1>
<a name="FileDownloadR.FileDownloadLink-Additional" id="FileDownloadR.FileDownloadLink-Additional"></a>Additional
</h1>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Example
</th>
<th class='confluenceTh'>
Default Value
</th>
<th class='confluenceTh'>
Options
</th>
</tr>

<tr>
<td class='confluenceTd'>
noDownload
</td>
<td class='confluenceTd'>
This property will make the list only displays files without their download links.
<br class="atl-forced-newline" />
note: this is different from the Evo's version
</td>
<td class='confluenceTd'>
&amp;noDownload=`1`
</td>
<td class='confluenceTd'>
0
</td>
<td class='confluenceTd'>
bool: 0/1
</td>
</tr>

<tr>
<td class='confluenceTd'>
chkDesc
</td>
<td class='confluenceTd'>
Allows descriptions to be added to the file listing included in a chunk.
</td>
<td class='confluenceTd'>
&amp;chkDesc=`fileDesc`
</td>
<td class='confluenceTd'>
fileDescription
</td>
<td class='confluenceTd'>
chunk's name
</td>
</tr>

<tr>
<td class='confluenceTd'>
dateFormat
</td>
<td class='confluenceTd'>
PHP's date formatting for the list
</td>
<td class='confluenceTd'>
&amp;dateFormat=`m/d/Y`
</td>
<td class='confluenceTd'>
Y-m-d
</td>
<td class='confluenceTd'>
string
</td>
</tr>

<tr>
<td class='confluenceTd'>
countDownloads
</td>
<td class='confluenceTd'>
Tracking the downloading
</td>
<td class='confluenceTd'>
&amp;countDownloads=`1`
</td>
<td class='confluenceTd'>
0
</td>
<td class='confluenceTd'>
bool: 0/1
</td>
</tr>

<tr>
<td class='confluenceTd'>
imgTypes
</td>
<td class='confluenceTd'>
A chunk name to define the associations between file extension and image
</td>
<td class='confluenceTd'>
&amp;imgTypes=`fdImages`
</td>
<td class='confluenceTd'>
fdImages
</td>
<td class='confluenceTd'>
chunk's name
</td>
</tr>

<tr>
<td class='confluenceTd'>
imgLocat
</td>
<td class='confluenceTd'>
Path to the images to associate with each file extension.
</td>
<td class='confluenceTd'>
&amp;imgLocat=`assets/filetypes`
</td>
<td class='confluenceTd'>
assets/components/filedownload/img/filetype
</td>
<td class='confluenceTd'>
web accessible path
</td>
</tr>
</tbody>
</table>
</div>

<h1>
<a name="FileDownloadR.FileDownloadLink-Template" id="FileDownloadR.FileDownloadLink-Template"></a>Template
</h1>

<p>
The template for this snippet is a plain href link with FileDownloadLink's placeholders, not a chunk or a template file.
<br />
If you like to see the available placeholders, just initiate the &amp;toArray=`1` parameter.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Example
</th>
<th class='confluenceTh'>
Default Value
</th>
<th class='confluenceTh'>
Options
</th>
</tr>

<tr>
<td class='confluenceTd'>
tplCode
</td>
<td class='confluenceTd'>
file template
</td>
<td class='confluenceTd'>
&amp;tplCode=`&lt;a href="[[+link]]"&gt;[[+filename]]&lt;/a&gt;`
</td>
<td class='confluenceTd'>
&lt;a href="[[+link]]"&gt;[[+filename]]&lt;/a&gt;
</td>
<td class='confluenceTd'>
HTML code
</td>
</tr>
</tbody>
</table>
</div>

<h1>
<a name="FileDownloadR.FileDownloadLink-Headers" id="FileDownloadR.FileDownloadLink-Headers"></a>Headers
</h1>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default Value
</th>
<th class='confluenceTh'>
Options
</th>
</tr>

<tr>
<td class='confluenceTd'>
fileCss
</td>
<td class='confluenceTd'>
FileDownload's Cascading Style Sheet file for the page header
</td>
<td class='confluenceTd'>
assets/components/filedownload/css/fd.css
</td>
<td class='confluenceTd'>
web path
</td>
</tr>

<tr>
<td class='confluenceTd'>
fileJs
</td>
<td class='confluenceTd'>
ileDownload's Javascript file for the page header
</td>
<td class='confluenceTd'>
assets/components/filedownload/js/fd.js
</td>
<td class='confluenceTd'>
web path
</td>
</tr>
</tbody>
</table>
</div>

<h1>
<a name="FileDownloadR.FileDownloadLink-Example" id="FileDownloadR.FileDownloadLink-Example"></a>Example
</h1>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!FileDownloadLink?
&amp;getFile=`[[++core_path]]downloads/Document1.doc`
&amp;tplCode=`
&lt;a href=<span class="code-quote">"[[+link]]"</span> title=<span class="code-quote">"[[+filename]]"</span>&gt;
    &lt;span class=<span class="code-quote">"gradient curve-four"</span> style=<span class="code-quote">"display: block; text-align: center;"</span>&gt;
        &lt;img src=<span class="code-quote">"[[+image]]"</span> alt="" /&gt;Download <span class="code-keyword">this</span> Document1.doc&lt;hr /&gt;
        [[+date]]&lt;br /&gt;([[+count]] downloads)
    &lt;/span&gt;
&lt;/a&gt;`
&amp;dateFormat=`d-m-Y`
&amp;toArray=`0`
]]
</pre>
</div>
</div>

<p>
<span class="image-wrap" style=""><img src="/download/attachments/35586646/filedownloadlink.jpg?version=1&amp;modificationDate=1315759899000" style="border: 0px solid black" /></span>
</p>
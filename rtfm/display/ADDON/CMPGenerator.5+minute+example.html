<p>
Complete these steps after you have installed CMPGenerator.
</p>

<ol>
<li>Created table modx_test with your favorite SQL GUI or command prompt:
</li>
</ol>

<pre class="brush: php">
    &lt;?php
/**
 * mytest table
 */
$output = '';// this is what the snippet will return

// add package so xpdo can be used:
$package_path = $modx-&gt;getOption('core_path').'components/mytest/model/';
// see the scheme file and the xml model element and you will see the attribute package and that must match here
$modx-&gt;addPackage('mytest', $package_path);

// lets add some data!
// see the scheme file and the xml object element and you will see the attribute class and that must match here
$myRow = $modx-&gt;newObject('Test');

$data = array(
        'name' =&gt; 'MODX Revolution',
        'description' =&gt; 'A great CMS product...'
    );
$myRow-&gt;fromArray($data);

if ( !$myRow-&gt;save() ) {
    $output .= '&lt;p&gt;Could not create row&lt;/p&gt;';
} else {
    $output .= '&lt;p&gt;Created row successfully&lt;/p&gt;';
}

// now lets show the data in a quick and dirty table:
$output .= '
&lt;table&gt;
    &lt;tr&gt;
        &lt;th&gt;ID&lt;/th&gt;
        &lt;th&gt;Name&lt;/th&gt;
        &lt;th&gt;Description&lt;/th&gt;
    &lt;/tr&gt;';

// Note for all HTML you should be using Chunks see: http://rtfm.modx.com/display/revolution20/Chunks#Chunks-ProcessingChunkviatheAPI
/* build query */
$query = $modx-&gt;newQuery('Test');
$rows = $modx-&gt;getIterator('Test', $query);

/* iterate */
$list = array();
foreach ($rows as $row) {
    // from object to array you can also do $row-&gt;get('name');
    $row_array = $row-&gt;toArray();

    $output .= '
    &lt;tr&gt;
        &lt;td&gt;'.$row_array['id'].'&lt;/td&gt;
        &lt;td&gt;'.$row_array['name'].'&lt;/td&gt;
        &lt;td&gt;'.$row_array['description'].'&lt;/td&gt;
    &lt;/tr&gt;';
}
$output .= '
&lt;/table&gt;';

return $output;
    
</pre>
<ol>
<li>Now put the snippet in a resource and run it a few times.
</li>
</ol>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!mytest]]
</pre>
</div>
</div>

<p>
You should see something like this (note my test page has CSS assigned to tables):
<br />
<span class="image-wrap" style=""><img src="download/attachments/37683291/snippet-output.png?version=1&amp;modificationDate=1325784884000" style="border: 1px solid black" /></span>
</p>
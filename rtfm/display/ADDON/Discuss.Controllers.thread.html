<p>
The Thread (thread/index) controller is the one that shows an entire thread of posts to the user.
</p>

<div>
<ul>
<li>
<a href='#Discuss.Controllers.thread-BasicInformation'>Basic Information</a>
</li>

<li>
<a href='#Discuss.Controllers.thread-Options'>Options</a>
</li>

<li>
<a href='#Discuss.Controllers.thread-ControllerTemplate'>Controller Template</a>
</li>

<li>
<a href='#Discuss.Controllers.thread-SystemEvents'>System Events</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#Discuss.Controllers.thread-OnDiscussRenderThread'>OnDiscussRenderThread</a>
</li>
</ul>
</li>
</ul>
</div>

<h2>
<a name="Discuss.Controllers.thread-BasicInformation" id="Discuss.Controllers.thread-BasicInformation"></a>Basic Information
</h2>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<td class='confluenceTd'>
Since Version
</td>
<td class='confluenceTd'>
1.0
</td>
</tr>

<tr>
<td class='confluenceTd'>
Controller File
</td>
<td class='confluenceTd'>
controllers/web/thread/index.class.php
</td>
</tr>

<tr>
<td class='confluenceTd'>
Controller Class Name
</td>
<td class='confluenceTd'>
DiscussThreadController
<br class="atl-forced-newline" />
</td>
</tr>

<tr>
<td class='confluenceTd'>
Controller Template
</td>
<td class='confluenceTd'>
pages/thread/index.tpl
</td>
</tr>

<tr>
<td class='confluenceTd'>
Manifest Name
</td>
<td class='confluenceTd'>
thread/index
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="Discuss.Controllers.thread-Options" id="Discuss.Controllers.thread-Options"></a>Options
</h2>

<p>
If you don't know what the manifest is, please go back to the <a href="/display/ADDON/Discuss.Getting+Started" title="Discuss.Getting Started">Getting Started</a> document. The options below need to go into the "board" options array of the manifest.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Key
</th>
<th class='confluenceTh'>
Default
</th>
<th class='confluenceTh'>
Description
</th>
</tr>

<tr>
<td class='confluenceTd'>
showPosts
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
true
</td>
<td class='confluenceTd'>
To show posts.. you'll want this enabled. Posts go into [<span class="error">[+posts]</span>]
</td>
</tr>

<tr>
<td class='confluenceTd'>
limit
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
10
</td>
<td class='confluenceTd'>
Amount of posts per page
</td>
</tr>

<tr>
<td class='confluenceTd'>
discuss.post_sort_dir
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
ASC
</td>
<td class='confluenceTd'>
The sort order for posts: ASC or DESC
</td>
</tr>

<tr>
<td class='confluenceTd'>
sortAnswerFirst
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
false
</td>
<td class='confluenceTd'>
If enabled, Q&amp;A threads will sort posts marked as answer on top.
</td>
</tr>

<tr>
<td class='confluenceTd'>
postAttachmentRowTpl
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
post/disPostAttachment
</td>
<td class='confluenceTd'>
Chunk to wrap each attachment in.
</td>
</tr>

<tr>
<td class='confluenceTd'>
postTpl
</td>
<td class='confluenceTd'>
post/disThreadPost
</td>
<td class='confluenceTd'>
The chunk to wrap individual posts in.
</td>
</tr>

<tr>
<td class='confluenceTd'>
rowCls
</td>
<td class='confluenceTd'>
dis-post
</td>
<td class='confluenceTd'>
A class to add to the post row
</td>
</tr>

<tr>
<td class='confluenceTd'>
childrenCls
</td>
<td class='confluenceTd'>
dis-board-post
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
actionLinkTpl
</td>
<td class='confluenceTd'>
disActionLink
</td>
<td class='confluenceTd'>
Tpl chunk for the action links.
</td>
</tr>

<tr>
<td class='confluenceTd'>
rowSeparator
</td>
<td class='confluenceTd'>
line break
</td>
<td class='confluenceTd'>
separator to use between rows
</td>
</tr>

<tr>
<td class='confluenceTd'>
showViewing
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
Show the readers based on sessions. Makes the [<span class="error">[+readers]</span>] placeholder available.
</td>
</tr>

<tr>
<td class='confluenceTd'>
showBreadcrumbs
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
Show breadcrumbs on this controller.
</td>
</tr>

<tr>
<td class='confluenceTd'>
showTitleInBreadcrumbs
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
showPaginationIfOnePage
</td>
<td class='confluenceTd'>
true
</td>
<td class='confluenceTd'>
Wether 1 page pagination should show up or not.
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="Discuss.Controllers.thread-ControllerTemplate" id="Discuss.Controllers.thread-ControllerTemplate"></a>Controller Template
</h2>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;!-- thread/index.html --&gt;
[[+top]]

[[+aboveThread]]
&lt;div class=<span class="code-quote">"status [[+locked:is=`1`:then=`locked`:<span class="code-keyword">else</span>=`unlocked`]]"</span>&gt;
    &lt;div class=<span class="code-quote">"f1-f12 h-group [[+answered:notempty=`answered`]]"</span>&gt;
        &lt;h1 class=<span class="code-quote">"Category"</span> post=<span class="code-quote">"[[+id]]"</span>&gt;
            [[+answered:notempty=`&lt;span class=<span class="code-quote">"tag solved"</span>&gt;[[%discuss.solved]]&lt;/span&gt;`:<span class="code-keyword">default</span>=``]]
            &lt;a href=<span class="code-quote">"[[+url]]"</span> title=<span class="code-quote">"[[+title]]"</span>&gt;[[+title]]&lt;/a&gt;
        &lt;/h1&gt;
    &lt;/div&gt;
    &lt;div class=<span class="code-quote">"f1-f9"</span>&gt;
        &lt;div class=<span class="code-quote">"a-dis-actionbuttons h-group"</span>&gt;
            Subscribe: &lt;a href=<span class="code-quote">"[[~[[*id]]]]thread/feed.xml?thread=[[+id]]"</span>&gt;RSS&lt;/a&gt;
                    [[+actionlink_subscribe:notempty=`
                    &lt;a href=<span class="code-quote">"[[+actionlink_subscribe]]"</span>&gt;By email&lt;/a&gt;`]]
                    [[+actionlink_unsubscribe:notempty=`
                    &lt;a href=<span class="code-quote">"[[+actionlink_unsubscribe]]"</span>&gt;Stop emails&lt;/a&gt;`]]
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div class=<span class="code-quote">"f1-f9"</span>&gt;
        &lt;header class=<span class="code-quote">"dis-cat-header dark-gradient h-group sticky-bar top"</span>&gt;
            [[+pagination:<span class="code-keyword">default</span>=``]]
            [[- USER LOGGED IN ]]
            [[!+discuss.user.id:notempty=`
            &lt;div class=<span class="code-quote">"post-box"</span>&gt;
                [[+locked:is=`1`:then=``:<span class="code-keyword">else</span>=`&lt;a class=<span class="code-quote">"dis-action-reply Button"</span> href=<span class="code-quote">"[[+actionlink_reply]]"</span>&gt;Reply to thread&lt;/a&gt;`]]
                &lt;a class=<span class="code-quote">"Button"</span> href=<span class="code-quote">"[[+actionlink_unread]]"</span>&gt;Mark as unread&lt;/a&gt;
                [[+moderators]]
            &lt;/div&gt;`]]
            [[- USER NOT LOGGED IN ]]
            [[!+discuss.user.id:is=``:then=`
            &lt;div class=<span class="code-quote">"post-box"</span>&gt;
                &lt;a href=<span class="code-quote">"[[~[[*id]]]]login"</span> class=<span class="code-quote">"Button dis-action-login"</span> &gt;Login to Post&lt;/a&gt;
            &lt;/div&gt;`]]
        &lt;/header&gt;
        &lt;ul class=<span class="code-quote">"dis-list h-group"</span>&gt;
            [[+posts]]
        &lt;/ul&gt;
        [[+pagination:notempty=`
        &lt;div class=<span class="code-quote">"paginate stand-alone bottom horiz-list"</span>&gt;[[+pagination]]&lt;/div&gt;`]]
        [[$thread-login-post]]
        [[+locked:notempty=`&lt;p class=<span class="code-quote">"m-notice"</span>&gt;[[%discuss.thread_locked]]&lt;/p&gt;`:<span class="code-keyword">default</span>=`[[+quick_reply_form]]`]]
        [[+belowThread]]
        [[+discuss.error_panel]]
    &lt;/div&gt;&lt;!-- Close Content From Wrapper --&gt;

    [[+bottom]]

    [[+sidebar]]
&lt;/div&gt;
&lt;!--close thread/index.html --&gt;

</pre>
</div>
</div>

<h2>
<a name="Discuss.Controllers.thread-SystemEvents" id="Discuss.Controllers.thread-SystemEvents"></a>System Events
</h2>

<h3>
<a name="Discuss.Controllers.thread-OnDiscussRenderThread" id="Discuss.Controllers.thread-OnDiscussRenderThread"></a>OnDiscussRenderThread
</h3>

<p>
All currently set placeholders are available through the $placeholders array. The return value or $modx-&gt;event-&gt;output() value is expected to be an array of placeholders to override. Using a plugin on this event is the only way to put a value in the top, bottom, aboveThread and belowThread placeholders.
</p>
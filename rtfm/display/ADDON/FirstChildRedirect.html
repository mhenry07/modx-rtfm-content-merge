<div>
<ul>
<li>
<a href="extras/revo/firstchildredirect#FirstChildRedirect-Installation%26bugs">Installation &amp; bugs</a>
</li>

<li>
<a href="extras/revo/firstchildredirect#FirstChildRedirect-Snippetusage">Snippet usage</a>
</li>
</ul>
</div>

<p>
FirstChildRedirect is a snippet that will redirect a certain resource to its first child resource. There is a version for both Revolution and Evolution, of which the Revolution one allows more easy customization.
</p>

<h2>
<a name="FirstChildRedirect-Installation%26bugs"></a>Installation &amp; bugs
</h2>

<p>
FirstChildRedirect can be installed through the MODX Revolution Package Manager, or installed manually by downloading the package from the MODX Extras website, uploading it to core/packages and adding a new package through the package manager from a local search.
</p>

<p>
FirstChildRedirect is also available for MODX Evolution, however that does not support all additional parameters as described below.
</p>

<h2>
<a name="FirstChildRedirect-Snippetusage" id="FirstChildRedirect-Snippetusage"></a>Snippet usage
</h2>

<p>
The snippet is really easy to use, just call uncached it in the content or template of the container resource you want to redirect to its first child.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!FirstChildRedirect]]
</pre>
</div>
</div>

<p>
Alternatively, you can specify one or more parameters in the snippet call which influence how the redirect will be handled.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Parameter
</th>
<th class='confluenceTh'>
Evo/Revo
</th>
<th class='confluenceTh'>
Details
</th>
<th class='confluenceTh'>
Default
</th>
</tr>

<tr>
<td class='confluenceTd'>
&amp;docid
</td>
<td class='confluenceTd'>
Yes/Yes
</td>
<td class='confluenceTd'>
Setting a docid parameter to another resource's ID will tell the snippet to use that resource as the container to look in for the first child.
</td>
<td class='confluenceTd'>
current resource ID (ie [[*id]]
</td>
</tr>

<tr>
<td class='confluenceTd'>
&amp;default
</td>
<td class='confluenceTd'>
No*/Yes
</td>
<td class='confluenceTd'>
The resource to redirect to when there are no children resources found. This can be either a resource ID or one of the following settings: site_start, site_unavailable_page, error_page or unauthorized_page. * In Evolution, this also defaults to site_start and can be modified in the actual snippet code if required. Just find $modx-&gt;config['site_start'] and replace that by an ID or one of the system settings mentioned.
</td>
<td class='confluenceTd'>
site_start setting
</td>
</tr>

<tr>
<td class='confluenceTd'>
&amp;sortBy
</td>
<td class='confluenceTd'>
No/Yes
</td>
<td class='confluenceTd'>
Any valid resource fieldname to sort the children found on.
</td>
<td class='confluenceTd'>
menuindex setting
</td>
</tr>

<tr>
<td class='confluenceTd'>
&amp;sortDir
</td>
<td class='confluenceTd'>
No/Yes
</td>
<td class='confluenceTd'>
Either 'desc' for descending (redirects to highest menuindex or &amp;sortBy field found) or 'asc' for ascending (redirects to lowest menuindex or &amp;sortBy field found).
</td>
<td class='confluenceTd'>
"asc"
</td>
</tr>

<tr>
<td class='confluenceTd'>
&amp;responseCode
</td>
<td class='confluenceTd'>
No/Yes
</td>
<td class='confluenceTd'>
The response code (status code) for sending the redirect. Defaults to a 301 ("HTTP/1.1 301 Moved Permanently") but also contains shortcuts for 302 (temporarily) - you can also specify the complete response code (including the HTTP part and name) for others. <em>Added in 2.3.1.</em>
</td>
<td class='confluenceTd'>
301
</td>
</tr>
</tbody>
</table>
</div>
<!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://rtfm.modx.com/display/ADDON/FirstChildRedirect"
    dc:identifier="http://rtfm.modx.com/display/ADDON/FirstChildRedirect"
    dc:title="FirstChildRedirect"
    trackback:ping="http://rtfm.modx.com/rpc/trackback/35095303"/>
</rdf:RDF>
-->

<fieldset class="hidden parameters">
<legend>Labels parameters</legend> <input type="hidden" id="editLabel" value="Edit" /> <input type="hidden" id="addLabel" value="Add Labels" /> <input type="hidden" id="domainName" value="http://rtfm.modx.com" /> <input type="hidden" id="pageId" value="35095303" /> <input type="hidden" id="spaceKey" value="ADDON" />
</fieldset>

<div id="labels-section" class="pageSection">
<div id="default-labels-header" class="section-header">
<h2 id="labels-section-title" class="section-title hidden">
Labels
</h2>
</div>

<div class="labels-editor">
<div id="labelsList">
</div>
<span class="errorMessage error" id="errorSpan"></span>
<form method="get" action="" id="add-labels-form">
<div id="labelInputSpan" class="labels-input">
<div id="labelOperationErrorContainer" class="hidden">
<span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
</div>

<div class="caption">
Enter labels to add to this page:
</div>

<div id="label-input-fields">
<input autocomplete="off" id="labelsString" name="labelsString" value="" size="40" /> <input id="add-labels-editor-button" type="submit" class="add-labels" value="Add" /> <input id="close-labels-editor-button" type="submit" class="hide-labels-editor" value="Done" />
</div>

<div id="waitImageAndStatus">
<img class="waiting" alt="Please wait" src="s/1911/69/_/images/icons/wait.gif" />&nbsp; <span id="labelOperationStatus" class="smalltext"></span>
</div>

<div id="labelsAutocompleteList" class="aui-dd-parent">
</div>

<div class="labels-tip">
<div id="suggestedLabelsSpan">
</div>
Looking for a label? Just start typing.
</div>
</div>
</form>
</div>
</div>

<fieldset class="parameters hidden">
<input type="hidden" id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?" /> <input type="hidden" id="collapseTooltip" value="Click to toggle the display of this comment." />
</fieldset>

<div id="comments-section" class="pageSection">
<div class="section-header">
<h2 id="comments-section-title" class="section-title">
<a name="comments" id="comments">Comments (1)</a>
</h2>
&nbsp;
<ul id="comment-top-links" class="global-comment-actions">
<li id="comment-show-hide">
<a href="display/ADDON/FirstChildRedirect?showComments=false#comments" id="comments-hide" name="comments-hide">Hide Comments</a> <a href="display/ADDON/FirstChildRedirect?showComments=true#comments" id="comments-show" class="hidden" name="comments-show">Show Comments</a>
</li>

<li id="comments-expand-collapse">
<a href="extras/revo/firstchildredirect#" id="comments-collapse" name="comments-collapse">Collapse All</a> <span id="collapse-wait" class="hidden">Collapsing…</span> <span id="expand-wait" class="hidden">Expanding…</span> <a href="extras/revo/firstchildredirect#" class="hidden" id="comments-expand" name="comments-expand">Expand All</a>
</li>
</ul>
</div>

<ol class="comment-threads top-level" id="page-comments">
<li id="comment-thread-36634955" class="comment-thread">
<div class="comment" id="comment-36634955">
<p class="comment-user-logo">
<img class="userLogo logo anonymous" src="s/1911/69/_/images/icons/profilepics/anonymous.png" alt="User icon: sepiariver" title="sepiariver" />
</p>

<p class="date" title="Nov 28, 2011 14:01">
Nov 28, 2011
</p>

<div class="comment-header comment-toggle">
<h4 class="author">
<a href="display/~sepiariver" class="url fn">YJ Tso</a> says:
</h4>
<span class="excerpt">Using &amp;sortBy=`RAND()` seems to work in 2.1.3 :) This is good for A/B Split...</span>
</div>

<div class="comment-body">
<div class="comment-content wiki-content">
<p>
Using &amp;sortBy=`RAND()` seems to work in 2.1.3 :)
</p>

<p>
This is good for A/B Split Testing, for example.
</p>
</div>

<div class="comment-actions">
<ul id="comment-actions-secondary">
<li class="first comment-permalink">
<a title="Permanent link to this comment" href="display/ADDON/FirstChildRedirect?focusedCommentId=36634955#comment-36634955" id="comment-permalink-36634955" name="comment-permalink-36634955"><span>Permalink</span></a>
</li>
</ul>

<ul id="comment-actions-primary">
</ul>
</div>
</div>
</div>
</li>
</ol>
</div>
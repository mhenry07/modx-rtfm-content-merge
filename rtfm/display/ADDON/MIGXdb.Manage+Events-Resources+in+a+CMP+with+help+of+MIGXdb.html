<div>
<ul>
<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-ManageEventsResourcesinaCMPwithhelpofMIGXdb">Manage Events-Resources in a CMP with help of MIGXdb</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Requirements">Requirements</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreatetheConfiguration">Create the Configuration</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Createaparentresourceforourevents.">Create a parent-resource for our events.</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreatesomeeventTVs">Create some event-TVs</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreateaTemplateforourevents.">Create a Template for our events.</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-SettheTemplateforourevents.">Set the Template for our events.</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-RegistertheTVsforourprocessors%28getlist%2Cfields%29">Register the TVs for our processors (getlist,fields)</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-dropdownTVforoureventsfilter">dropdown-TV for our events-filter</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-snippetforoureventsfilter">snippet for our events-filter</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Filters">Filters</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-DropdownFilterforfilteringcurrent%2Cupcoming%2Cexpiredevents">Dropdown Filter for filtering current,upcoming,expired events</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-TextboxFilterforsearchinginsomefields">Textbox Filter for searching in some fields</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Hidingchildsfromtree">Hiding childs from tree</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-events-resources-in-a-cmp-with-help-of-migxdb#MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreateamenutoyourCMP">Create a menu to your CMP</a>
</li>
</ul>
</div>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-ManageEventsResourcesinaCMPwithhelpofMIGXdb" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-ManageEventsResourcesinaCMPwithhelpofMIGXdb"></a>Manage Events-Resources in a CMP with help of MIGXdb
</h2>

<p>
Often we have the problem with lots of Resources, in the Resource-Tree to be very confused at some point and we wish, we would have a better way to manage them in a paginated grid view.
</p>

<p>
In this Tuorial we will learn how to create a CMP (custom manager page),
<br />
where you can manage events, which are child-resources of a resource-folder.
</p>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Requirements" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Requirements"></a>Requirements
</h2>

<p>
First off we will need to install <a href="display/ADDON/MIGX" title="MIGX">MIGX</a> by package-management, if not allready done, and do some <a href="display/ADDON/MIGXdb.Configuration" title="MIGXdb.Configuration">basic configurations</a>.
<br />
Minimum Required version: MIGX 2.3.2 (10.09.2012)
</p>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreatetheConfiguration" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreatetheConfiguration"></a>Create the Configuration
</h2>

<p>
Now we want to create our configuration for the MIGXdb-TV.
</p>

<p>
Go to the main-tab 'MIGX'
</p>

<p>
There should be an grid with some buttons.
</p>

<p>
We click 'Add item'
</p>

<p>
In the opening window we add:
</p>

<p>
Name: events - this is the name of our configuration. Make sure to use unique configuration-names.
<br />
"Add Item" Replacement: Add Event - this is the text on our 'Add Item' - Button
<br />
unique MIGX ID: events - Its a good idea to have a unique MIGX - id for all your MIGX-configs.
</p>

<p>
Click 'Done'
</p>

<p>
We should see a new created record in our grid.
<br />
We could edit this record and add grid-columns and tabs and other stuff by right-clicking and choose 'edit', but we want to go the faster way by just importing our example-configuration.
</p>

<p>
Right-Click our record and choose 'Export/Import'
</p>

<p>
Add this code into the one field 'Json' :
</p>

<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%">
</table>

<pre class="brush: php">
    {"parent":"XX"}
</pre>
<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreatesomeeventTVs" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreatesomeeventTVs"></a>Create some event-TVs
</h2>

<p>
Create two date-TVs with names: 'eventstart' and 'eventend'
<br />
Create a text-TV with name: 'location'
</p>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreateaTemplateforourevents." id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreateaTemplateforourevents."></a>Create a Template for our events.
</h2>

<p>
Create a template with some basic content and place at least this placeholders somewhere in this template:
</p>

<pre class="brush: php">
&lt;?php
$this-&gt;customconfigs['includeTVs'] = 1;
$this-&gt;customconfigs['includeTVList'] = 'eventstart,eventend,location';
</pre>
<div class="info">
All TVs you want to edit or you want to show in the grid needs to be in the includeTVList - customconfig
</div>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-dropdownTVforoureventsfilter" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-dropdownTVforoureventsfilter"></a>dropdown-TV for our events-filter
</h2>

<p>
Create a new TV:
</p>

<p>
Name: eventsfiltercombo
<br />
Type: listbox
<br />
Input-option-values:
<br />
current||upcoming||expired
</p>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-snippetforoureventsfilter" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-snippetforoureventsfilter"></a>snippet for our events-filter
</h2>

<p>
Create a snippet:
</p>

<p>
Name: migxFilterevents
<br />
content:
</p>

<pre class="brush: php">
[[migxFilterevents]]
</pre>
<p>
getcombo processor: getTVcombo
<br />
getcombo textfield: eventsfiltercombo (this is used in our getTVcombo-processor to get the input-options of the TV 'eventsfiltercombo' for our filter-dropdown)
</p>

<h3>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-TextboxFilterforsearchinginsomefields" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-TextboxFilterforsearchinginsomefields"></a>Textbox Filter for searching in some fields
</h3>

<p>
you can add additional filters, for example this one:
</p>

<p>
filter Name: search
<br />
label: search
<br />
empty text: search...
<br />
getlist-where:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
{"pagetitle:LIKE":"%[[+search]]%","OR:longtitle:LIKE":"%[[+search]]%","OR:content:LIKE":"%[[+search]]%"}<br />                
</pre>
</div>
</div>

<p>
Save them all with clicking 'Done' on all windows
</p>

<p>
Now you should be able to filter the child-resources by searching and/or choosing current,upcoming,expired from dropdown
</p>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Hidingchildsfromtree" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-Hidingchildsfromtree"></a>Hiding childs from tree
</h2>

<p>
Hiding our child-resources from resource-tree is very easy.
</p>

<p>
go to the MIGX-Configurator and add a new field to one of the formtabs:
</p>

<p>
Fieldname: show_in_tree
<br />
Caption: Show in Tree
<br />
inputTVtype: listbox
</p>

<p>
inputOptionValues: no==0||yes==1
</p>

<p>
You can also show the status of this field in the grid by adding a new column:
</p>

<p>
Header: Show in Tree
<br />
Field: show_in_tree
<br />
width: 20
<br />
Renderer: this.RenderCrossTick
</p>

<h2>
<a name="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreateamenutoyourCMP" id="MIGXdb.ManageEvents-ResourcesinaCMPwithhelpofMIGXdb-CreateamenutoyourCMP"></a>Create a menu to your CMP
</h2>

<p>
System -&gt; Actions
</p>

<p>
menu-tree:
<br />
Components-&gt;MIGX-&gt;right-click-&gt;Place Action here
</p>

<p>
Lexicon-key: Events Manager
<br />
Action: migx-index
<br />
parameters &amp;configs=events
</p>

<p>
click 'save'
</p>

<p>
Now we have created a very basic event-resources-management, which should allready work for basic requirements.
<br />
This can easy be extended to your needs.
</p>
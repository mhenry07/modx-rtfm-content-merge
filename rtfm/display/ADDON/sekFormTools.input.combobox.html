<h2>
<a name="sekFormTools.input.combobox-Whatisinput.combobox%3F"></a>What is input.combobox?
</h2>

<p>
Add a combobox to a form quickly and easily using this snippet.
</p>

<h2>
<a name="sekFormTools.input.combobox-Usage" id="sekFormTools.input.combobox-Usage"></a>Usage
</h2>

<p>
Example for input.combobox using a value list:
</p>

<pre class="brush: php">
    [[input.combobox? &amp;object=`[{"name": "sekftStates", "sortby": "state_name", "value": "state_abbr", "label": "state_name"}]`]]
    
</pre>
<h2>
<a name="sekFormTools.input.combobox-Properties" id="sekFormTools.input.combobox-Properties"></a>Properties
</h2>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default
</th>
<th class='confluenceTh'>
Required
</th>
<th class='confluenceTh'>
Version
</th>
</tr>

<tr>
<td class='confluenceTd'>
input_id
</td>
<td class='confluenceTd'>
The id to assign to the input box. While not required, it is best to give all fields an input id.
</td>
<td class='confluenceTd'>
</td>
<td class='confluenceTd'>
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
name
</td>
<td class='confluenceTd'>
The name to assign to the input box.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
value
</td>
<td class='confluenceTd'>
The value to assign to the input box.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
object
</td>
<td class='confluenceTd'>
JSON array of options to return a combobox list.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
snippet
</td>
<td class='confluenceTd'>
A snippet call to return a custom JSON list.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
value_list
</td>
<td class='confluenceTd'>
Create a custom list for the combobox.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
filter
</td>
<td class='confluenceTd'>
JSON array to filter the combo list.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
helper_snippet
</td>
<td class='confluenceTd'>
Name of the snippet to call by ajax request to change option list.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>
</tbody>
</table>
</div>

<h3>
<a name="sekFormTools.input.combobox-object" id="sekFormTools.input.combobox-object"></a>object
</h3>

<p>
The object property has several parts to quickly define combo box options from a modx table.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default
</th>
<th class='confluenceTh'>
Required
</th>
<th class='confluenceTh'>
Version
</th>
</tr>

<tr>
<td class='confluenceTd'>
name
</td>
<td class='confluenceTd'>
The name of the modx table called by the object name.
</td>
<td class='confluenceTd'>
</td>
<td class='confluenceTd'>
Yes
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
sortby
</td>
<td class='confluenceTd'>
The table field to sort by.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
groupby
</td>
<td class='confluenceTd'>
Simply group values together ?(most likely to be used if the value and label fields are the same).
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.4
</td>
</tr>

<tr>
<td class='confluenceTd'>
value
</td>
<td class='confluenceTd'>
The table field that will be used as the value for the option.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
Yes
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
label
</td>
<td class='confluenceTd'>
The table field that will be used as the label for the option.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
Yes
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>
</tbody>
</table>
</div>

<h3>
<a name="sekFormTools.input.combobox-filter" id="sekFormTools.input.combobox-filter"></a>filter
</h3>

<p>
The filter property has several parts to filter the data returned by the object property.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default
</th>
<th class='confluenceTh'>
Required
</th>
<th class='confluenceTh'>
Version
</th>
</tr>

<tr>
<td class='confluenceTd'>
input_id
</td>
<td class='confluenceTd'>
The id of an input field that will dynamically change the options list.
</td>
<td class='confluenceTd'>
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
name
</td>
<td class='confluenceTd'>
The object name to base filter on.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
field
</td>
<td class='confluenceTd'>
The field that will be used to filter the results.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
Yes
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>

<tr>
<td class='confluenceTd'>
value
</td>
<td class='confluenceTd'>
The value to filter on.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
<td class='confluenceTd'>
</td>
<td class='confluenceTd'>
&gt;0.0.1
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="sekFormTools.input.combobox-Examples" id="sekFormTools.input.combobox-Examples"></a>Examples
</h2>

<p>
Some additional examples
</p>

<h3>
<a name="sekFormTools.input.combobox-ValueList" id="sekFormTools.input.combobox-ValueList"></a>Value List
</h3>

<p>
The simplest way to create a quick combo box.
</p>

<pre class="brush: php">
    [[!input.combobox?
      &amp;object=`{"name": "sekftUSCities", "sortby": "city_name", "value": "city_name", "label": "city_name"}`
    ]]
    
</pre>
<p>
You can even filter the data by using the filter option. Here we just want to grab all the cities with the state id of 62, which in this case is Kansas.
</p>

<pre class="brush: php">
    [[!input.combobox?
      &amp;object=`{"name": "sekftUSCities", "sortby": "city_name", "value": "city_name", "label": "city_name"}`
      &amp;filter=`{"name": "sekftStates", "field": "state_abbr", "value": "KS"}`
    ]]
    
</pre>
<p>
The combo box can also be filter live using jquery. please view the <a href="display/ADDON/sekFormTools+Advanced+Examples" title="sekFormTools Advanced Examples">Advanced Examples</a> for more information.
</p>

<h3>
<a name="sekFormTools.input.combobox-Snippet" id="sekFormTools.input.combobox-Snippet"></a>Snippet
</h3>

<p>
If more advanced filters are needed, a custom snippet can be called to fill the combo box.
</p>

<pre class="brush: php">
    $items = $modx-&gt;getCollection('sekftStates');
$itemListArray = array();
foreach ($items as $item) {
  $itemArray = $item-&gt;toArray();
  $itemList = array();
  $itemList['value'] = $itemArray['id'];
  $itemList['label'] = $itemArray['state_name'];
  $itemListArray[] = $itemList;
}
return $modx-&gt;toJSON($itemListArray);
    
</pre>
<p>
Similarly, a large list of values can be placed in an array within a snippet.
</p>

<pre class="brush: php">
    $itemListArray = array(
  array(
    'value' =&gt; '1',
    'label' =&gt; 'One'
  ),
  array(
    'value' =&gt; '2',
    'label' =&gt; 'Two'
  ),
  array(
    'value' =&gt; '3',
    'label' =&gt; 'Three'
  ),
  array(
    'value' =&gt; '4',
    'label' =&gt; 'Four'
  )
);
return $modx-&gt;toJSON($itemListArray);
    
</pre>
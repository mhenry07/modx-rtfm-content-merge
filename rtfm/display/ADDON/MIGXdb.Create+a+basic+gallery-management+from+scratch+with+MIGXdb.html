<div>
<ul>
<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatingabasicgallerymanagementfromscratchwithMIGXdb'>Creating a basic gallery-management from scratch with MIGXdb</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Requirements'>Requirements</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreateanewPackageandschemafile'>Create a new Package and schema-file</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-TheSchema'>The Schema</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-ParseSchema'>Parse Schema</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreateTable%28s%29'>Create Table(s)</a>
</li>
</ul>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatetheConfiguration'>Create the Configuration</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatetheMIGXdbTV'>Create the MIGXdb - TV</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Addingextendedfields'>Adding extended fields</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Makingsomegalleries.'>Making some galleries.</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Addingasearchfieldtoourgrid'>Adding a search-field to our grid</a>
</li>

<li>
<a href='#MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-ListingtheImagesonFrontend.'>Listing the Images on Frontend.</a>
</li>
</ul>
</div>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatingabasicgallerymanagementfromscratchwithMIGXdb" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatingabasicgallerymanagementfromscratchwithMIGXdb"></a>Creating a basic gallery-management from scratch with MIGXdb
</h2>

<p>
In this Tutorial we will learn how to create your own gallery-management with help of MIGXdb.
<br />
First we will create a db-schema and its table(s).
<br />
Then we will create and configure a MIGXdb-TV to manage our images (db-records).
<br />
In the next step we will create some Resources (galleries) and add some images with our MIGXdb - TV.
<br />
At last we will show our images at frontend with a snippet.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Requirements" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Requirements"></a>Requirements
</h2>

<p>
First off we will need to install <a href="/display/ADDON/MIGX" title="MIGX">MIGX</a> by package-management and do some <a href="/display/ADDON/MIGXdb.Configuration" title="MIGXdb.Configuration">basic configurations</a>.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreateanewPackageandschemafile" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreateanewPackageandschemafile"></a>Create a new Package and schema-file
</h2>

<p>
Go to Components-&gt;MIGX-&gt;Tab 'Package Manager'
</p>

<p>
add a name for your new package into the field 'packageName:'. For our example we use 'mygallery'.
<br />
Click 'Create Package'
<br />
This should create a directory under your core-path with an empty schema-file in its correct place.
</p>

<p>
Still having 'mygallery' in the field packageName we want to fill the textarea-field 'schema'.
<br />
Go to the tab 'xml schame' and add this code:
</p>

<h3>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-TheSchema" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-TheSchema"></a>The Schema
</h3>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-xml">
<span class="code-tag">&lt;?xml version=<span class="code-quote">"1.0"</span> encoding=<span class="code-quote">"UTF-8"</span>?&gt;</span>
<span class="code-tag">&lt;model package=<span class="code-quote">"mygallery"</span> baseClass=<span class="code-quote">"xPDOObject"</span> platform=<span class="code-quote">"mysql"</span> defaultEngine=<span class="code-quote">"MyISAM"</span> version=<span class="code-quote">"1.1"</span>&gt;</span>
        <span class="code-tag">&lt;object class=<span class="code-quote">"myGallery"</span> table=<span class="code-quote">"migx_gallery"</span> extends=<span class="code-quote">"xPDOSimpleObject"</span> &gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"title"</span> dbtype=<span class="code-quote">"varchar"</span> precision=<span class="code-quote">"255"</span> phptype=<span class="code-quote">"string"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"" index="</span>index" /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"description"</span> dbtype=<span class="code-quote">"text"</span> phptype=<span class="code-quote">"string"</span> index=<span class="code-quote">"fulltext"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"resource_id"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"11"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"resource_ids"</span> dbtype=<span class="code-quote">"text"</span> phptype=<span class="code-quote">"string"</span> null=<span class="code-quote">"false"</span> default="" /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"image"</span> dbtype=<span class="code-quote">"varchar"</span> precision=<span class="code-quote">"255"</span> phptype=<span class="code-quote">"string"</span> null=<span class="code-quote">"false"</span> default="" /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"extended"</span> dbtype=<span class="code-quote">"text"</span> phptype=<span class="code-quote">"json"</span> null=<span class="code-quote">"false"</span> default="" /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"pos"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>        
        
        <span class="code-tag">&lt;field key=<span class="code-quote">"published"</span> dbtype=<span class="code-quote">"tinyint"</span> precision=<span class="code-quote">"1"</span> attributes=<span class="code-quote">"unsigned"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"createdby"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"createdon"</span> dbtype=<span class="code-quote">"datetime"</span> phptype=<span class="code-quote">"datetime"</span> null=<span class="code-quote">"false"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"editedby"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"editedon"</span> dbtype=<span class="code-quote">"datetime"</span> phptype=<span class="code-quote">"datetime"</span> null=<span class="code-quote">"false"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"deleted"</span> dbtype=<span class="code-quote">"tinyint"</span> precision=<span class="code-quote">"1"</span> attributes=<span class="code-quote">"unsigned"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"deletedon"</span> dbtype=<span class="code-quote">"datetime"</span> phptype=<span class="code-quote">"datetime"</span> null=<span class="code-quote">"false"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"deletedby"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"publishedon"</span> dbtype=<span class="code-quote">"datetime"</span> phptype=<span class="code-quote">"datetime"</span> null=<span class="code-quote">"false"</span> /&gt;</span>
        <span class="code-tag">&lt;field key=<span class="code-quote">"publishedby"</span> dbtype=<span class="code-quote">"int"</span> precision=<span class="code-quote">"10"</span> phptype=<span class="code-quote">"integer"</span> null=<span class="code-quote">"false"</span> default=<span class="code-quote">"0"</span> /&gt;</span>

        <span class="code-tag">&lt;index alias=<span class="code-quote">"PRIMARY"</span> name=<span class="code-quote">"PRIMARY"</span> primary=<span class="code-quote">"true"</span> unique=<span class="code-quote">"true"</span>&gt;</span>
                <span class="code-tag">&lt;column key=<span class="code-quote">"id"</span> collation=<span class="code-quote">"A"</span> null=<span class="code-quote">"false"</span> /&gt;</span>
        <span class="code-tag">&lt;/index&gt;</span>
        
        <span class="code-tag">&lt;aggregate alias=<span class="code-quote">"Resource"</span> class=<span class="code-quote">"modResource"</span> local=<span class="code-quote">"resource_id"</span> foreign=<span class="code-quote">"id"</span> cardinality=<span class="code-quote">"one"</span> owner=<span class="code-quote">"foreign"</span> /&gt;</span>
        <span class="code-tag">&lt;aggregate alias=<span class="code-quote">"Creator"</span> class=<span class="code-quote">"modUser"</span> local=<span class="code-quote">"createdby"</span> foreign=<span class="code-quote">"id"</span> cardinality=<span class="code-quote">"one"</span> owner=<span class="code-quote">"foreign"</span> /&gt;</span>
        <span class="code-tag">&lt;/object&gt;</span>
    
<span class="code-tag">&lt;/model&gt;</span>
</pre>
</div>
</div>

<p>
by clicking 'Save Schema' we should have our schema-file created. You can test it by clicking 'Load Schema'
</p>

<p>
<a href="/display/xPDO20/Defining+a+Schema" title="Defining a Schema">Read more about creating schemas</a>
</p>

<h3>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-ParseSchema" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-ParseSchema"></a>Parse Schema
</h3>

<p>
Create xpdo-classes and maps from schema by clicking 'Parse Schema' on the tab 'Parse Schema'
</p>

<h3>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreateTable%28s%29"></a>Create Table(s)
</h3>

<p>
Create tables from schema by clicking 'Create Tables' on the tab 'Create Tables'
<br />
This schould create our table.
<br />
At this time we have only one table in our schema defined.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatetheConfiguration" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatetheConfiguration"></a>Create the Configuration
</h2>

<p>
Now we want to create our configuration for the MIGXdb-TV.
</p>

<p>
Go to the main-tab 'MIGX'
</p>

<p>
There should be an empty grid with some buttons.
</p>

<p>
We click 'Add item'
</p>

<p>
In the opening window we add:
</p>

<p>
Name: mygallery - this is the name of our configuration. Make sure to use unique configuration-names.
<br />
"Add Item" Replacement: Add Image - this is the text on our 'Add Item' - Button
<br />
unique MIGX ID: mygallery - Its a good idea to have a unique MIGX - id for all your MIGX-configs.
</p>

<p>
Click 'Done'
</p>

<p>
We should see a new created record in our grid.
<br />
We could edit this record and add grid-columns and tabs and other stuff by right-clicking and choose 'edit', but we want to go the quick way by just importing our example-configuration.
</p>

<p>
Right-Click our record and choose 'Export/Import'
</p>

<p>
Add this code into the one field 'Json' :
</p>

<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
</td>
</tr>
</tbody>
</table>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
{
  <span class="code-quote">"formtabs"</span>:[
    {
      <span class="code-quote">"MIGX_id"</span>:1,
      <span class="code-quote">"caption"</span>:<span class="code-quote">"Image"</span>,
      <span class="code-quote">"fields"</span>:[
        {
          <span class="code-quote">"MIGX_id"</span>:2,
          <span class="code-quote">"field"</span>:<span class="code-quote">"title"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Title"</span>,
          <span class="code-quote">"inputTV"</span>:"",
          <span class="code-quote">"inputTVtype"</span>:"",
          <span class="code-quote">"configs"</span>:""
        },
        {
          <span class="code-quote">"MIGX_id"</span>:1,
          <span class="code-quote">"field"</span>:<span class="code-quote">"image"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Image"</span>,
          <span class="code-quote">"inputTV"</span>:"",
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"image"</span>,
          <span class="code-quote">"configs"</span>:""
        },
        {
          <span class="code-quote">"MIGX_id"</span>:3,
          <span class="code-quote">"field"</span>:<span class="code-quote">"pos"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Position"</span>,
          <span class="code-quote">"inputTV"</span>:"",
          <span class="code-quote">"inputTVtype"</span>:"",
          <span class="code-quote">"configs"</span>:""
        }
      ]
    },
    {
      <span class="code-quote">"MIGX_id"</span>:2,
      <span class="code-quote">"caption"</span>:<span class="code-quote">"Description"</span>,
      <span class="code-quote">"fields"</span>:[
        {
          <span class="code-quote">"MIGX_id"</span>:1,
          <span class="code-quote">"field"</span>:<span class="code-quote">"description"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Description"</span>,
          <span class="code-quote">"inputTV"</span>:"",
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"textarea"</span>,
          <span class="code-quote">"configs"</span>:""
        }
      ]
    }
  ],
  <span class="code-quote">"contextmenus"</span>:<span class="code-quote">"update||publish||unpublish||recall_remove_delete"</span>,
  <span class="code-quote">"actionbuttons"</span>:<span class="code-quote">"addItem||toggletrash"</span>,
  <span class="code-quote">"columnbuttons"</span>:"",
  <span class="code-quote">"filters"</span>:"",
  <span class="code-quote">"extended"</span>:{
    <span class="code-quote">"migx_add"</span>:<span class="code-quote">"Add Image"</span>,
    <span class="code-quote">"packageName"</span>:<span class="code-quote">"mygallery"</span>,
    <span class="code-quote">"classname"</span>:<span class="code-quote">"myGallery"</span>,
    <span class="code-quote">"task"</span>:"",
    <span class="code-quote">"prefix"</span>:"",
    <span class="code-quote">"grid"</span>:"",
    <span class="code-quote">"check_resid"</span>:1,
    <span class="code-quote">"check_resid_TV"</span>:""
  },
  <span class="code-quote">"columns"</span>:[
    {
      <span class="code-quote">"MIGX_id"</span>:1,
      <span class="code-quote">"header"</span>:<span class="code-quote">"ID"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"id"</span>,
      <span class="code-quote">"renderer"</span>:"",
      <span class="code-quote">"sortable"</span>:<span class="code-quote">"<span class="code-keyword">false</span>"</span>,
      <span class="code-quote">"show_in_grid"</span>:1
    },
    {
      <span class="code-quote">"MIGX_id"</span>:2,
      <span class="code-quote">"header"</span>:<span class="code-quote">"Title"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"title"</span>,
      <span class="code-quote">"renderer"</span>:"",
      <span class="code-quote">"sortable"</span>:<span class="code-keyword">true</span>,
      <span class="code-quote">"show_in_grid"</span>:1
    },
    {
      <span class="code-quote">"MIGX_id"</span>:3,
      <span class="code-quote">"header"</span>:<span class="code-quote">"image"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"image"</span>,
      <span class="code-quote">"renderer"</span>:<span class="code-quote">"<span class="code-keyword">this</span>.renderImage"</span>,
      <span class="code-quote">"sortable"</span>:<span class="code-quote">"<span class="code-keyword">false</span>"</span>,
      <span class="code-quote">"show_in_grid"</span>:1
    },
    {
      <span class="code-quote">"MIGX_id"</span>:4,
      <span class="code-quote">"header"</span>:<span class="code-quote">"Published"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"published"</span>,
      <span class="code-quote">"renderer"</span>:<span class="code-quote">"<span class="code-keyword">this</span>.renderCrossTick"</span>,
      <span class="code-quote">"sortable"</span>:<span class="code-keyword">true</span>,
      <span class="code-quote">"show_in_grid"</span>:1
    },
    {
      <span class="code-quote">"MIGX_id"</span>:5,
      <span class="code-quote">"header"</span>:<span class="code-quote">"Position"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"pos"</span>,
      <span class="code-quote">"renderer"</span>:"",
      <span class="code-quote">"sortable"</span>:<span class="code-keyword">true</span>,
      <span class="code-quote">"show_in_grid"</span>:1
    },
    {
      <span class="code-quote">"MIGX_id"</span>:6,
      <span class="code-quote">"header"</span>:"",
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"deleted"</span>,
      <span class="code-quote">"renderer"</span>:"",
      <span class="code-quote">"sortable"</span>:<span class="code-quote">"<span class="code-keyword">false</span>"</span>,
      <span class="code-quote">"show_in_grid"</span>:<span class="code-quote">"0"</span>
    }
  ]
}
</pre>
</div>
</div>

<p>
click 'done'
</p>

<p>
you can check what it has done by right-clicking the record and choose 'edit' and go thrue the tabs and its nested grids.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatetheMIGXdbTV" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-CreatetheMIGXdbTV"></a>Create the MIGXdb - TV
</h2>

<p>
Create a new Template for our gallery-pages.
</p>

<p>
now we create our MIGXdb - TV.
<br />
Create a new TV.
<br />
Name: mygallery
</p>

<p>
Go to the tab: 'Input Options'
<br />
Under 'Configurations' add: 'mygallery'
</p>

<p>
This says MIGX to search for configurations with name 'mygallery' This can be configuration-records as we have done above or php-files as it is done for the MIGX-configs-CMP.
<br />
The MIGX-config-CMP is nothing else as a MIGXdb-CMP itself.
</p>

<p>
Add this TV to our gallery-template.
</p>

<p>
click 'Save' to save the new created TV.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Addingextendedfields" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Addingextendedfields"></a>Adding extended fields
</h2>

<p>
we want to add a URL to each image. This is very easy, because we can use the extended-field to store additional fields in it.
<br />
We just need to create a new Input-field to our Form.
</p>

<p>
Go to Components-&gt;MIGX
<br />
right-click on our mygallery-config, choose 'Edit'
</p>

<p>
Go to the Tab 'Formtabs'
<br />
click 'Add Item' -&gt;
<br />
caption: 'Extended Fields'
<br />
on Fields click 'Add Item' -&gt;
<br />
fieldname: extended.url
<br />
Caption: URL
<br />
inputTVtype: url
<br />
click done -&gt; done -&gt; done to close all windows and save out additions
</p>

<p>
Now we have created a new tab in our gallery-management-window with a new field to add a URL to our image
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Makingsomegalleries." id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Makingsomegalleries."></a>Making some galleries.
</h2>

<p>
Create a folder in the resource-tree 'Galleries' with your gallery-template.
<br />
Create Resources und this folder with the same gallery-template.
<br />
By clicking 'Load grid' this should load our db-grid where we can add,edit,delete records with images.
<br />
The created records should be automatically connected to our resources by the db-field 'resource_id' and we will see only the records connected to our resource in the grid.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Addingasearchfieldtoourgrid" id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-Addingasearchfieldtoourgrid"></a>Adding a search-field to our grid
</h2>

<p>
Go to Components-&gt;MIGX
<br />
right-click on our mygallery-config, choose 'Edit'
<br />
Tab 'db-filters'
<br />
click 'add item'
<br />
filter name: search
<br />
filter type: textbox
<br />
getlist where:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
{<span class="code-quote">"title:LIKE"</span>:<span class="code-quote">"%[[+search]]%"</span>,<span class="code-quote">"OR:description:LIKE"</span>:<span class="code-quote">"%[[+search]]%"</span>}
</pre>
</div>
</div>

<p>
click 'done' -&gt; 'done'
</p>

<p>
Now we have added a nice search-field to our grid for filtering grid-items.
</p>

<h2>
<a name="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-ListingtheImagesonFrontend." id="MIGXdb.Createabasicgallery-managementfromscratchwithMIGXdb-ListingtheImagesonFrontend."></a>Listing the Images on Frontend.
</h2>

<p>
For listing your images on the Frontend you can use the included snippet 'migx'
<br />
Some examples:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!migxLoopCollection?
&amp;packageName=`mygallery`
&amp;classname=`myGallery`
&amp;sortConfig=`[{<span class="code-quote">"sortby"</span>:<span class="code-quote">"pos"</span>,<span class="code-quote">"sortdir"</span>:<span class="code-quote">"ASC"</span>}]`
&amp;where=`{<span class="code-quote">"resource_id"</span>:<span class="code-quote">"[[*id]]"</span>,<span class="code-quote">"published"</span>:<span class="code-quote">"1"</span>}`
]]
</pre>
</div>
</div>

<p>
creates a printed array of all published images which belong to the active resource
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!migxLoopCollection?
&amp;packageName=`mygallery`
&amp;classname=`myGallery`
&amp;sortConfig=`[{<span class="code-quote">"sortby"</span>:<span class="code-quote">"RAND()"</span>}]`
&amp;where=`{<span class="code-quote">"resource_id"</span>:<span class="code-quote">"[[*id]]"</span>,<span class="code-quote">"published"</span>:<span class="code-quote">"1"</span>}`
&amp;tpl=`@CODE:&lt;img src=<span class="code-quote">"[[+image]]"</span> /&gt;`
]]
</pre>
</div>
</div>

<p>
lists all images in random order
</p>
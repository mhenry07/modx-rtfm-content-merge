<div>
<ul>
<li>
<a href="extras/revo/simplesearch/simplesearch.simplesearch/simplesearch.faceted-search-through-posthooks#SimpleSearch.FacetedSearchThroughPostHooks-DoingFacetedSearchinSimpleSearch">Doing Faceted Search in SimpleSearch</a>
</li>

<li>
<a href="extras/revo/simplesearch/simplesearch.simplesearch/simplesearch.faceted-search-through-posthooks#SimpleSearch.FacetedSearchThroughPostHooks-SettingupyourResource">Setting up your Resource</a>
</li>

<li>
<a href="extras/revo/simplesearch/simplesearch.simplesearch/simplesearch.faceted-search-through-posthooks#SimpleSearch.FacetedSearchThroughPostHooks-SettingupthePostHook">Setting up the PostHook</a>
</li>

<li>
<a href="extras/revo/simplesearch/simplesearch.simplesearch/simplesearch.faceted-search-through-posthooks#SimpleSearch.FacetedSearchThroughPostHooks-SeparateTemplatingPerFacet">Separate Templating Per Facet</a>
</li>
</ul>
</div>

<h2>
<a name="SimpleSearch.FacetedSearchThroughPostHooks-DoingFacetedSearchinSimpleSearch" id="SimpleSearch.FacetedSearchThroughPostHooks-DoingFacetedSearchinSimpleSearch"></a>Doing Faceted Search in SimpleSearch
</h2>

<p>
SimpleSearch 1.3.0+ allows faceted search results to be set through postHooks, allowing you to fine-grain your search results and even integrate other, non-MODX-Resource results into your search results. This basic tutorial shows you how to get started with setting up faceted search.
</p>

<p>
Basically, SimpleSearch puts all main, resource-based results into a 'default' facet. In postHooks, you can add other facets to the results and allow users to target their search into those facets. We're going to create a 'people' facet that searches our Users and creates results that have links to a profile Resource (ID 10).
</p>

<h2>
<a name="SimpleSearch.FacetedSearchThroughPostHooks-SettingupyourResource" id="SimpleSearch.FacetedSearchThroughPostHooks-SettingupyourResource"></a>Setting up your Resource
</h2>

<p>
First off, you'll want to have a place to show your results
</p>

<pre class="brush: php">
    
[[!SimpleSearch?
  &amp;toPlaceholder=`sisea.results`
  &amp;perPage=`20`
  &amp;postHooks=`PeopleFacetHook`
  &amp;facetLimit=`5`
]]

&lt;h2&gt;Search Results&lt;/h2&gt;
[[+sisea.results]]
    
</pre>
<h2>
<a name="SimpleSearch.FacetedSearchThroughPostHooks-SettingupthePostHook" id="SimpleSearch.FacetedSearchThroughPostHooks-SettingupthePostHook"></a>Setting up the PostHook
</h2>

<p>
Go ahead and make a Snippet named 'PeopleFacetHook', and put this in it:
</p>

<pre class="brush: php">
    
[[!SimpleSearch?
  &amp;toPlaceholder=`sisea.results`
  &amp;perPage=`20`
  &amp;postHooks=`PeopleFacetHook`
  &amp;tplpeople=`OurPeopleChunk`
  &amp;facetLimit=`5`
]]

&lt;h2&gt;Search Results&lt;/h2&gt;
[[+sisea.results]]

&lt;h2&gt;People&lt;/h2&gt;
[[+sisea.people.results]]

    
</pre>
<p>
It will default to the standard &amp;tpl if no facet-specific tpl is specified.
</p>

<p>
That's it! Your search is now faceted and can be drilled down, and has its own template for each facet.
</p>
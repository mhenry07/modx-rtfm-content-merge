<div>
<ul>
<li>
<a href="extras/revo/xfpc#xFPC-WhatisxFPC%3F">What is xFPC?</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/revo/xfpc#xFPC-Requirements">Requirements</a>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-History">History</a>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-Download%26Installation">Download &amp; Installation</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-ReadthisBEFOREuse%5C%21">Read this BEFORE use!</a>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-UsingxFPC">Using xFPC</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/revo/xfpc#xFPC-Usingthefullpagecache">Using the full-page-cache</a>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-Configurationparameters">Configuration parameters</a>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-xFPCAjaxsnippet%3AUsingdynamiccontentonyourwebpage">xFPCAjax snippet: Using dynamic content on your webpage</a>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-Usingperresourcecachelifetime">Using per-resource cache lifetime</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/xfpc#xFPC-Externalsources">External sources</a>
</li>
</ul>
</div>

<h2>
<a name="xFPC-WhatisxFPC%3F"></a>What is xFPC?
</h2>

<p>
xFPC means MODX Full Page Caching.
</p>

<p>
This component is a MODX full-page caching system. It even allows for dynamic content to be placed through an easy to use AJAX snippet. When the package is installed it will immediately start caching your webpages bringing your speed up to a few ms per page request.
</p>

<p>
You don't really need any technical skills to use and install this caching plugin. No modification of any server-side files is needed. Just install and go!
</p>

<p>
xFPC is created and maintained by <a href="http://www.scherpontwikkeling.nl" class="external-link" rel="nofollow">SCHERP Ontwikkeling</a>.
</p>

<p>
Here are some of the responses that I got within a few hours after publishing the first version:
</p>

<p>
@<b>jkenters</b>: "Yeah, totally awesome! Thanks for this! 500ms -&gt; 60ms :-)"
<br />
@<b>gallenkamp</b>: "How can I pay you for this? Dude, this is awesome! #MODX #xFPC"
<br />
@<b>FickleLife</b>: "I just installed #xFPC on a heavy site, it's way snappier. Impressed."&nbsp;
<br />
@<b>SteveJKing</b>: "By the power of Grayskull - The speed increase with #MODX #xFPC is amazing."
</p>

<h2>
<a name="xFPC-Requirements" id="xFPC-Requirements"></a>Requirements
</h2>

<p>
xFPC requires MODX® Revolution 2.2.0 or later.
</p>

<h2>
<a name="xFPC-History" id="xFPC-History"></a>History
</h2>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Version
</th>
<th class='confluenceTh'>
Release date
</th>
<th class='confluenceTh'>
Author
</th>
<th class='confluenceTh'>
Changes
</th>
</tr>

<tr>
<td class='confluenceTd'>
2.0.0-PL1
</td>
<td class='confluenceTd'>
November 17th, 2012
</td>
<td class='confluenceTd'>
<a href="http://www.scherpontwikkeling.nl/over-ons/patrick-nijkamp.html" class="external-link" rel="nofollow">Patrick Nijkamp</a> (<a href="http://www.scherpontwikkeling.nl" class="external-link" rel="nofollow">SCHERP Ontwikkeling</a>)
</td>
<td class='confluenceTd'>
Added Minify! Fixed paths.
</td>
</tr>

<tr>
<td class='confluenceTd'>
1.1.0-PL1
</td>
<td class='confluenceTd'>
November 15th, 2012
</td>
<td class='confluenceTd'>
<a href="http://www.scherpontwikkeling.nl/over-ons/patrick-nijkamp.html" class="external-link" rel="nofollow">Patrick Nijkamp</a> (<a href="http://www.scherpontwikkeling.nl" class="external-link" rel="nofollow">SCHERP Ontwikkeling</a>)
</td>
<td class='confluenceTd'>
Added new functionality
</td>
</tr>

<tr>
<td class='confluenceTd'>
1.0.0-PL1
</td>
<td class='confluenceTd'>
November 13th, 2012
</td>
<td class='confluenceTd'>
<a href="http://www.scherpontwikkeling.nl/over-ons/patrick-nijkamp.html" class="external-link" rel="nofollow">Patrick Nijkamp</a> (<a href="http://www.scherpontwikkeling.nl" class="external-link" rel="nofollow">SCHERP Ontwikkeling</a>)
</td>
<td class='confluenceTd'>
Initial release.
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="xFPC-Download%26Installation"></a>Download &amp; Installation
</h2>

<p>
Install the package through the MODX® package manager.
</p>

<h1>
<a name="xFPC-ReadthisBEFOREuse%5C%21"></a>Read this BEFORE use!
</h1>

<p>
If you don't read this, don't come complaining that stuff doesn't work, k?
</p>

<p>
What xFPC will NOT do:
</p>

<ul>
<li>Cache userpages (logged in pages)
</li>

<li>Cache manager pages
</li>
</ul>

<p>
What xFPC CAN do:
</p>

<ul>
<li>Give your website speed!
</li>

<li>Cache full pages and reduce the server load dramaticly
</li>

<li>Allow for contact form submissions and Quip updates (a POST generates a ban for the current URL forcing the cache to refresh)
</li>

<li>Allow for dynamic elements in the page (random pictures, quotes, text etc)
</li>
</ul>

<p>
A page will be cached <ins>after the first view</ins>. <b>Only for logged out users, so be sure you are logged out also from the manager!</b>
<br />
(or use a different browser for testing speed).
</p>

<h1>
<a name="xFPC-UsingxFPC" id="xFPC-UsingxFPC"></a>Using xFPC
</h1>

<h2>
<a name="xFPC-Usingthefullpagecache" id="xFPC-Usingthefullpagecache"></a>Using the full-page-cache
</h2>

<p>
Using the full page cache is simple, install the snippet and of it goes. It will start generating full page cache files in the core/cache/fpc/ directory.
<br />
When you clear your site cache, xFPC cache will also be cleared. If you save a resource (wether or not you have the 'clear cache' check set) it will also
<br />
clear the xFPC cache.
</p>

<p>
<b>When testing your cache speed, be sure that you are logged out of the manager and the front-end. If you are logged in to either of those the cache will be</b>
<br />
<b>disabled for you!</b>
</p>

<h2>
<a name="xFPC-Configurationparameters" id="xFPC-Configurationparameters"></a>Configuration parameters
</h2>

<p>
You can configure xFPC in the system settings:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Setting key
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Values
</th>
<th class='confluenceTh'>
Default Value
</th>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.cachelife
</td>
<td class='confluenceTd'>
A time in seconds for how long the cache is valid. If expired a new cachefile is generated.
</td>
<td class='confluenceTd'>
Time in seconds
</td>
<td class='confluenceTd'>
0 (unlimited)
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.exclude
</td>
<td class='confluenceTd'>
This setting allows you to exclude pages based on a URL string.
</td>
<td class='confluenceTd'>
Enter a keyword on each newline (eg. "members" will exclude every URL with members in it)
</td>
<td class='confluenceTd'>
(empty)
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.excludecss
</td>
<td class='confluenceTd'>
Exclude CSS files from combining
</td>
<td class='confluenceTd'>
Comma separated file list (only filenames, no paths)
</td>
<td class='confluenceTd'>
(empty)
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.excludejs
</td>
<td class='confluenceTd'>
Exclude JS file from combining
</td>
<td class='confluenceTd'>
Comma separated file list (only filenames, no paths)
</td>
<td class='confluenceTd'>
(empty)
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.combinecss
</td>
<td class='confluenceTd'>
Wether or not to combine CSS. <b>(will break relative URL paths, so use absolute paths)</b>
</td>
<td class='confluenceTd'>
1 = yes, 0 = no
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.combinejs
</td>
<td class='confluenceTd'>
Wether or not to combine JS.
</td>
<td class='confluenceTd'>
1 = yes, 0 = no
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.minifycss
</td>
<td class='confluenceTd'>
Wether or not to minify CSS using Minify.
</td>
<td class='confluenceTd'>
1 = yes, 0 = no
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.minifyjs
</td>
<td class='confluenceTd'>
Wether or not to minify JS using Minify.
</td>
<td class='confluenceTd'>
1 = yes, 0 = no
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.combinejsandcss
</td>
<td class='confluenceTd'>
<b>Experimental:</b> Wether or not to combine CSS into the JS.
</td>
<td class='confluenceTd'>
1 = yes, 0 = no
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
xfpc.lifetimetv
</td>
<td class='confluenceTd'>
The TV that holds the per-resource-cache time in seconds.
</td>
<td class='confluenceTd'>
A TV ID number
</td>
<td class='confluenceTd'>
(empty)
</td>
</tr>
</tbody>
</table>
</div>

<p>
<b>Note:</b> When you use minify CSS or JS (or both), xFPC will save the cached minified versions. This way it will serve minified files from the cache very fast.
</p>

<h2>
<a name="xFPC-xFPCAjaxsnippet%3AUsingdynamiccontentonyourwebpage"></a>xFPCAjax snippet: Using dynamic content on your webpage
</h2>

<p>
If you want dynamic content (like random text or random images) you can use the xFPCAjax snippet that comes with xFPC. It's very easy to use.
</p>

<p>
You can configure xFPCAjax snippet with the following properties:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Property
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Values
</th>
<th class='confluenceTh'>
Default Value
</th>
</tr>

<tr>
<td class='confluenceTd'>
resource
</td>
<td class='confluenceTd'>
Resource ID of the content to be shown
</td>
<td class='confluenceTd'>
An ID (number)
</td>
<td class='confluenceTd'>
false
</td>
</tr>

<tr>
<td class='confluenceTd'>
url
</td>
<td class='confluenceTd'>
In case you don't want to use resource ID (only site URLs will work)
</td>
<td class='confluenceTd'>
A URL string
</td>
<td class='confluenceTd'>
false
</td>
</tr>

<tr>
<td class='confluenceTd'>
showStaticContent
</td>
<td class='confluenceTd'>
Wether or not to show the content in static text as well
</td>
<td class='confluenceTd'>
1 = yes, 0 = no
</td>
<td class='confluenceTd'>
1
</td>
</tr>
</tbody>
</table>
</div>

<p>
Here we have an example case:
<br />
Imagine you have a random quote on your webpage from your clients saying how awesome you are. You used to do this with a snippet called [<span class="error">[!getRandomAwesomeQuote]</span>].
<br />
Since you are using xFPC the quote is static, since it cached your complete page. We can fix this.
</p>

<p>
Create a new resource, give it a blank empty template and place the [<span class="error">[!getRandomAwesomeQuote]</span>] snippet inside it's content field. Let's say the new resource
<br />
got the ID "300". You can hide this resource from the menu, but be sure to publish it.
<br />
Now back to the place where the <span class="error">[!getRandomAwesomeQuote]</span> used to be and replace this call with:
</p>

<pre class="brush: php">
    
&lt;div class="awesome-quote"&gt;[[!getRandomAwesomeQuote]]&lt;/div&gt;

    
</pre>
<p>
And your new template looks like this: (You have moved your dynamic snippet to a new resource with an empty template that has the ID 300)
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;div class=<span class="code-quote">"awesome-quote"</span>&gt;
[[xFPCAjax?
   &amp;resource=`300`
]]
&lt;/div&gt;
</pre>
</div>
</div>

<p>
<b>Note:</b> When you use AJAX the actual content will not be shown on non-javascript browsers. This has impact on Google viewing your webpage. Since Google will not parse AJAX request it does not see the content that is supposed to be in the dynamic placeholder. For this we introduced "showStaticContent". It will render the HTML in the source-code like normal, and in a JS enabled browser the content will be overwritten with the dynamic content. This way Google can still index your dynamic placeholders with the most information possible.
</p>

<h2>
<a name="xFPC-Usingperresourcecachelifetime" id="xFPC-Usingperresourcecachelifetime"></a>Using per-resource cache lifetime
</h2>

<p>
If you want some resources to have a shorter cache lifetime you can do this very easily:
</p>

<p>
Create a TV, name it something like "cacheLifetime" and note it's ID (let's say it's "10"). Assign the TV to the templates that need it.
<br />
Head over to your system settings and find the setting "xfpc.lifetimetv" and change the value to the tv ID: 10 (or the ID that you just created).
</p>

<p>
Now when editing a resource you can enter a time in seconds into the TV's value field and xFPC will respect your settings.
</p>

<h1>
<a name="xFPC-Externalsources" id="xFPC-Externalsources"></a>External sources
</h1>

<p>
Developers website: <a href="http://www.scherpontwikkeling.nl/portfolio/modx-addons/xfpc.html" class="external-link" rel="nofollow">http://www.scherpontwikkeling.nl/portfolio/modx-addons/xfpc.html</a>
</p>
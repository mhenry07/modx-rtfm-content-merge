<div>
<ul>
<li>
<a href="extras/revo/lingua#Lingua-Background">Background</a>
</li>

<li>
<a href="extras/revo/lingua#Lingua-CMP">CMP</a>
</li>

<li>
<a href="extras/revo/lingua#Lingua-Plugin">Plugin</a>
</li>

<li>
<a href="extras/revo/lingua#Lingua-Snippets">Snippets</a>
<ul>
<li>
<a href="extras/revo/lingua#Lingua-lingua.selector">lingua.selector</a>
<ul>
<li>
<a href="extras/revo/lingua#Lingua-Properties">Properties</a>
</li>

<li>
<a href="extras/revo/lingua#Lingua-DefaultChunks">Default Chunks</a>
<ul>
<li>
<a href="extras/revo/lingua#Lingua-lingua.selector.wrapper">lingua.selector.wrapper</a>
</li>

<li>
<a href="extras/revo/lingua#Lingua-lingua.selector.item">lingua.selector.item</a>
</li>
</ul>
</li>
</ul>
</li>

<li>
<a href="extras/revo/lingua#Lingua-lingua.cultureKey">lingua.cultureKey</a>
</li>

<li>
<a href="extras/revo/lingua#Lingua-lingua.getField">lingua.getField</a>
<ul>
<li>
<a href="extras/revo/lingua#Lingua-Properties">Properties</a>
<ul>
<li>
<a href="extras/revo/lingua#Lingua-Examples">Examples</a>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>

<p>
A MODX's Lexicon switcher for front-end interface.
<br />
This can be downloaded from Manager's Package Manager.
<br />
The extra page is <a href="http://modx.com/extras/package/lingua">http://modx.com/extras/package/lingua</a>.
<br />
Any issues can be reported to here: <a href="https://github.com/goldsky/Lingua/issues">https://github.com/goldsky/Lingua/issues</a>
</p>

<h2 id="Lingua-Background">
Background
</h2>

<p>
This package was written by goldsky, and first released on June 6, 2013, initially prepared for <a href="http://forums.modx.com/u/adamwintle">Adam Wintle</a> of <a href="http://www.monogon.co">Monogon</a> to create a chinese website.
</p>

<p>
This add-on was made to answer the need of creating a multilingual website without messing up with contexts.
<br />
The concept was based on <a href="http://modx.com/extras/package/translations">Translations</a> package, but independently developed start from the scratch and heading on different direction.
</p>

<h2 id="Lingua-CMP">
CMP
</h2>

<p>
The Custom Manager Page is provided to manage the list of languages and their settings.
</p>

<p>
<a class="confluence-thumbnail-link 942x634" href="download/attachments/46137393/Lingua_CMP.png"><img src="download/thumbnails/46137393/Lingua_CMP.png" style="border: 1px solid black" /></a>
</p>

<h2 id="Lingua-Plugin">
Plugin
</h2>

<p>
The plugin is used to manage the cookie and session of the selected language.
<br />
This plugin then provides a placeholder <strong>[[+lingua.cultureKey]]</strong> for the page.
<br />
But to get this value for other snippet, like language selection of a email hook, the developer can use <strong>[[!lingua.cultureKey]]</strong> below.
</p>

<h2 id="Lingua-Snippets">
Snippets
</h2>

<p>
For front-end usage, Lingua has some utility snippets.
<br />
ALL snippets have &amp;toArray to dump all the placeholders and &amp;toPlaceholder to hold the output and store it into the given placeholder's name.
</p>

<h3 id="Lingua-lingua.selector">
lingua.selector
</h3>

<p>
This snippet is the language selector on the front-end.
<br />
The chunks have <a href="http://twitter.github.io/bootstrap/javascript.html#dropdowns">twitter bootstrap's dropdown-toogle style</a> as default, just to give an idea of how they were prepared.
</p>

<p>
<a class="confluence-thumbnail-link 327x362" href="download/attachments/46137393/lingua.selector.png"><img src="download/thumbnails/46137393/lingua.selector.png" style="border: 1px solid black" /></a>
</p>

<p>
When the user clicks the link, then the page will be redirected back to the same page, but with additional REQUEST url to initiate the language session.
<br />
The REQUEST key can be defined in System Setting, but the default key is <strong><em>lang</em></strong>.
</p>

<h4 id="Lingua-Properties">
Properties
</h4>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Example
</th>
<th>
Default Value
</th>
<th>
Options
</th>
</tr>

<tr>
<td>
tplWrapper
</td>
<td>
the wrapper template chunk
</td>
<td>
&amp;tplWrapper=`chunkName`
</td>
<td>
lingua.selector.wrapper
</td>
<td>
chunk's name, @BINDINGs enabled
</td>
</tr>

<tr>
<td>
tplItem
</td>
<td>
the item template chunk
</td>
<td>
&amp;tplItem=`chunkName`
</td>
<td>
lingua.selector.item
</td>
<td>
chunk's name, @BINDINGs enabled
</td>
</tr>

<tr>
<td>
sortby
</td>
<td>
sort the output by a field name
</td>
<td>
&amp;tplItem=`lcid_string`
</td>
<td>
id
</td>
<td>
id, local_name, lang_code, lcid_string, lcid_dec
</td>
</tr>

<tr>
<td>
sortdir
</td>
<td>
the direction of the sorting
</td>
<td>
&amp;sortdir=`ASC`
</td>
<td>
asc
</td>
<td>
asc, desc
</td>
</tr>

<tr>
<td>
phsPrefix
</td>
<td>
placeholder's prefix to avoid conflict with other packages' placeholders
</td>
<td>
&amp;phsPrefix=`lingua.`
</td>
<td>
lingua.
</td>
<td>
(string)
</td>
</tr>

<tr>
<td>
codeField
</td>
<td>
the field of which will be used as the value of the options
</td>
<td>
&amp;codeField=`lang_code`
</td>
<td>
System Setting's <strong>lingua.code.field</strong>
</td>
<td>
id, local_name, lang_code, lcid_string, lcid_dec
</td>
</tr>
</tbody>
</table>

<p>
@BINDING in chunks means the developer can use:
</p>

<ul>
<li>chunk name
</li>

<li>@FILE:[[++core_path]]path/to/chunk/file.tpl
</li>

<li>@CODE:&lt;div&gt;[[+lingua.languages]]&lt;/div&gt;
</li>
</ul>

<h4 id="Lingua-DefaultChunks">
Default Chunks
</h4>

<h5 id="Lingua-lingua.selector.wrapper">
lingua.selector.wrapper
</h5>

<pre class="brush: php">
&lt;div class="container"&gt;
        &lt;div class="btn-group"&gt;
                &lt;button
                        class="btn btn-link btn-mini dropdown-toggle"
                        data-toggle="dropdown"
                        &gt;[[%lingua.select_language]]
                &lt;/button&gt;
                &lt;ul class="dropdown-menu"&gt;
                        [[+lingua.languages]]
                &lt;/ul&gt;
        &lt;/div&gt;
&lt;/div&gt;
</pre>
<h5 id="Lingua-lingua.selector.item">
lingua.selector.item
</h5>

<pre class="brush: php">
[[+lingua.cultureKey:is=`[[+lingua.lang_code]]`:then=``:else=`&lt;li&gt;
        &lt;a href="[[+lingua.url]]" title="[[+lingua.local_name]]"&gt;
                &lt;img src="[[+lingua.flag]]" alt=""/&gt; [[+lingua.local_name]]
        &lt;/a&gt;
&lt;/li&gt;`]]
</pre>
<p>
On this chunk, the default content tries to ignore the language of the current language using Output Filter.
</p>

<h3 id="Lingua-lingua.cultureKey">
lingua.cultureKey
</h3>

<p>
This snippet to get the current active language.
<br />
This snippet only contains
</p>

<pre class="brush: php">
return $modx-&gt;cultureKey;
</pre>
<p>
No! It's different to
</p>

<pre class="brush: php">
return $modx-&gt;getOption('cultureKey');
</pre>
<p>
This snippet is the most important part to grab the language's lexicons.
</p>

<pre class="brush: php">
[[!%login? &amp;namespace=`Login` &amp;language=`[[!lingua.cultureKey]]`]]
</pre>
<p>
<strong>Please notice the exclamation mark in front of the %login. The lexicon must be +UN+CACHED.</strong>
</p>

<h3 id="Lingua-lingua.getField">
lingua.getField
</h3>

<p>
This snippet is to get the value of the field of the current running language on the page.
<br />
The value will be switched to the selected active language.
</p>

<h4 id="Lingua-Properties">
Properties
</h4>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Example
</th>
<th>
Default Value
</th>
<th>
Options
</th>
</tr>

<tr>
<td>
<strong>field</strong>
</td>
<td>
any field to be selected
</td>
<td>
&amp;field=`date_format_lite`
</td>
<td>
&nbsp;
</td>
<td>
all available fields: id, active, local_name, lang_code, lcid_string, lcid_dec, date_format_lite, date_format_full, is_rtl, flag
</td>
</tr>

<tr>
<td>
codeField
</td>
<td>
the field of which will be used as the value of the options
</td>
<td>
&amp;codeField=`lang_code`
</td>
<td>
System Setting's <strong>lingua.code.field</strong>
</td>
<td>
id, local_name, lang_code, lcid_string, lcid_dec
</td>
</tr>
</tbody>
</table>

<h5 id="Lingua-Examples">
Examples
</h5>

<pre class="brush: php">
Created on: [[*createdon:date=`[[!lingua.getField? &amp;field=`date_format_lite`]]`]]
</pre>
<div>
<ul>
<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreateselectableandsortableAttributesListforwhateveryouneedit'>Create selectable and sortable Attributes List for whatever you need it</a>
</li>

<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-Requirements'>Requirements</a>
</li>

<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatetheAttributesBuilder'>Create the Attributes Builder</a>
</li>

<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatetheAttributesSelectorTV'>Create the Attributes Selector - TV</a>
</li>

<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatesomeAttributes'>Create some Attributes</a>
</li>

<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-SelectAttributesonResources'>Select Attributes on Resources</a>
</li>

<li>
<a href='#MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-Gettheselectedattributeslistatfrontend'>Get the selected attributes-list at frontend</a>
</li>
</ul>
</div>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreateselectableandsortableAttributesListforwhateveryouneedit" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreateselectableandsortableAttributesListforwhateveryouneedit"></a>Create selectable and sortable Attributes List for whatever you need it
</h2>

<p>
Lets say we have Resources, which are Products and each product can have different attributes and each attribut should have a title and a nice icon
<br />
We want also have a place where we can add as many attributes as we like to our attributes-list and we want select from this attributes-list in our product-resources.
<br />
Additional we want to be able to add some individual extra infos for each selected attribute and we want to have this list to be sortable by drag/drop.
</p>

<p>
In this Tutorial we will learn how we can use MIGX to create an attributes-list-builder where we can select from on each resource.
</p>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-Requirements" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-Requirements"></a>Requirements
</h2>

<p>
First off we will need to install <a href="/display/ADDON/MIGX" title="MIGX">MIGX</a> by Package Management and do some <a href="/display/ADDON/MIGXdb.Configuration" title="MIGXdb.Configuration">basic configurations</a>.
<br />
Version required: 2.5.2 +
</p>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatetheAttributesBuilder" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatetheAttributesBuilder"></a>Create the Attributes Builder
</h2>

<ol>
<li>Create a new TV
<ul>
<li>name: migx_attributes_builder
</li>

<li>Input Type: migx
</li>

<li>formtabs:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[{<span class="code-quote">"caption"</span>:<span class="code-quote">"Attribute"</span>,<span class="code-quote">"fields"</span>:[
{<span class="code-quote">"field"</span>:<span class="code-quote">"attribute"</span>,<span class="code-quote">"caption"</span>:<span class="code-quote">"Attribute"</span>},
{<span class="code-quote">"field"</span>:<span class="code-quote">"title"</span>,<span class="code-quote">"caption"</span>:<span class="code-quote">"Title"</span>},
{<span class="code-quote">"field"</span>:<span class="code-quote">"icon"</span>,<span class="code-quote">"caption"</span>:<span class="code-quote">"Icon"</span>,<span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"image"</span>}
]
}]
</pre>
</div>
</div>
</li>

<li>grid columns:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[
{<span class="code-quote">"header"</span>: <span class="code-quote">"Attribute"</span>, <span class="code-quote">"width"</span>: <span class="code-quote">"50"</span>, <span class="code-quote">"sortable"</span>: <span class="code-quote">"<span class="code-keyword">true</span>"</span>, <span class="code-quote">"dataIndex"</span>: <span class="code-quote">"attribute"</span>},
{<span class="code-quote">"header"</span>: <span class="code-quote">"Title"</span>, <span class="code-quote">"width"</span>: <span class="code-quote">"50"</span>, <span class="code-quote">"sortable"</span>: <span class="code-quote">"<span class="code-keyword">true</span>"</span>, <span class="code-quote">"dataIndex"</span>: <span class="code-quote">"title"</span>}, 
{<span class="code-quote">"header"</span>: <span class="code-quote">"Image"</span>, <span class="code-quote">"width"</span>: <span class="code-quote">"50"</span>, <span class="code-quote">"sortable"</span>: <span class="code-quote">"<span class="code-keyword">false</span>"</span>, <span class="code-quote">"dataIndex"</span>: <span class="code-quote">"icon"</span>,<span class="code-quote">"renderer"</span>: <span class="code-quote">"<span class="code-keyword">this</span>.renderImage"</span>}
]
</pre>
</div>
</div>
</li>
</ul>
</li>

<li>Create a new Template with this TV assigned to it
</li>

<li>Create a new Resource with this template
<ul>
<li>This Resource is used to Create all the Attributes for our TV
</li>
</ul>
</li>
</ol>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatetheAttributesSelectorTV" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatetheAttributesSelectorTV"></a>Create the Attributes Selector - TV
</h2>

<ol>
<li>Create a new chunk
<ul>
<li>name: getAttributeOptions
</li>

<li>content:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[getImageList? 
&amp;tvname=`migx_attributes_builder`
&amp;docid=`90`
&amp;toJsonPlaceholder=`json`
]]
[[+json]]
</pre>
</div>
</div>
</li>

<li>Change the Docid to our resource created above.
</li>
</ul>
</li>

<li>Create a new TV
<ul>
<li>name: migx_attributes
</li>

<li>Input Type: migx
</li>

<li>input option values: @CHUNK getAttributeOptions
</li>

<li>configs: migx_attributes
</li>
</ul>
</li>

<li>Add this TV to template(s) where you want select from our attributes-list.
</li>

<li>Create a new MIGX Configuration (Components-&gt;MIGX-&gt;Tab: MIGX -&gt; 'add item')
<ul>
<li>name: migx_attributes
</li>
</ul>
</li>

<li>Click 'Done' to save the new Configuration
</li>

<li>right-click on the new configuration and select 'import/export'
</li>

<li>copy/paste this code into the textarea:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
{
  <span class="code-quote">"formtabs"</span>:[
    {
      <span class="code-quote">"MIGX_id"</span>:1,
      <span class="code-quote">"caption"</span>:<span class="code-quote">"Attribute"</span>,
      <span class="code-quote">"print_before_tabs"</span>:<span class="code-quote">"0"</span>,
      <span class="code-quote">"fields"</span>:[
        {
          <span class="code-quote">"MIGX_id"</span>:4,
          <span class="code-quote">"field"</span>:<span class="code-quote">"active"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Active"</span>,
          <span class="code-quote">"description"</span>:"",
          <span class="code-quote">"description_is_code"</span>:<span class="code-quote">"0"</span>,
          <span class="code-quote">"inputTV"</span>:"",
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"listbox"</span>,
          <span class="code-quote">"configs"</span>:"",
          <span class="code-quote">"sourceFrom"</span>:<span class="code-quote">"config"</span>,
          <span class="code-quote">"sources"</span>:<span class="code-quote">"[]"</span>,
          <span class="code-quote">"inputOptionValues"</span>:<span class="code-quote">"yes==1||no==0"</span>,
          <span class="code-quote">"<span class="code-keyword">default</span>"</span>:""
        },
        {
          <span class="code-quote">"field"</span>:<span class="code-quote">"attribute"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Attribute"</span>,
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"hidden"</span>,
          <span class="code-quote">"MIGX_id"</span>:1
        },
        {
          <span class="code-quote">"field"</span>:<span class="code-quote">"title"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Title"</span>,
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"hidden"</span>,
          <span class="code-quote">"MIGX_id"</span>:2
        },
        {
          <span class="code-quote">"field"</span>:<span class="code-quote">"icon"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Icon"</span>,
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"hidden"</span>,
          <span class="code-quote">"MIGX_id"</span>:3
        },
        {
          <span class="code-quote">"MIGX_id"</span>:5,
          <span class="code-quote">"field"</span>:<span class="code-quote">"comment"</span>,
          <span class="code-quote">"caption"</span>:<span class="code-quote">"Comment"</span>,
          <span class="code-quote">"description"</span>:"",
          <span class="code-quote">"description_is_code"</span>:<span class="code-quote">"0"</span>,
          <span class="code-quote">"inputTV"</span>:"",
          <span class="code-quote">"inputTVtype"</span>:<span class="code-quote">"textarea"</span>,
          <span class="code-quote">"configs"</span>:"",
          <span class="code-quote">"sourceFrom"</span>:<span class="code-quote">"config"</span>,
          <span class="code-quote">"sources"</span>:<span class="code-quote">"[]"</span>,
          <span class="code-quote">"inputOptionValues"</span>:"",
          <span class="code-quote">"<span class="code-keyword">default</span>"</span>:""
        }
      ]
    }
  ],
  <span class="code-quote">"contextmenus"</span>:"",
  <span class="code-quote">"actionbuttons"</span>:"",
  <span class="code-quote">"columnbuttons"</span>:"",
  <span class="code-quote">"filters"</span>:<span class="code-quote">"[]"</span>,
  <span class="code-quote">"extended"</span>:{
    <span class="code-quote">"migx_add"</span>:"",
    <span class="code-quote">"formcaption"</span>:"",
    <span class="code-quote">"update_win_title"</span>:"",
    <span class="code-quote">"win_id"</span>:"",
    <span class="code-quote">"maxRecords"</span>:"",
    <span class="code-quote">"multiple_formtabs"</span>:"",
    <span class="code-quote">"extrahandlers"</span>:<span class="code-quote">"<span class="code-keyword">this</span>.handleColumnSwitch"</span>,
    <span class="code-quote">"packageName"</span>:"",
    <span class="code-quote">"classname"</span>:"",
    <span class="code-quote">"task"</span>:"",
    <span class="code-quote">"getlistsort"</span>:"",
    <span class="code-quote">"getlistsortdir"</span>:"",
    <span class="code-quote">"use_custom_prefix"</span>:<span class="code-quote">"0"</span>,
    <span class="code-quote">"prefix"</span>:"",
    <span class="code-quote">"grid"</span>:"",
    <span class="code-quote">"gridload_mode"</span>:1,
    <span class="code-quote">"check_resid"</span>:1,
    <span class="code-quote">"check_resid_TV"</span>:"",
    <span class="code-quote">"join_alias"</span>:"",
    <span class="code-quote">"has_jointable"</span>:<span class="code-quote">"yes"</span>,
    <span class="code-quote">"getlistwhere"</span>:"",
    <span class="code-quote">"joins"</span>:"",
    <span class="code-quote">"cmpmaincaption"</span>:"",
    <span class="code-quote">"cmptabcaption"</span>:"",
    <span class="code-quote">"cmptabdescription"</span>:"",
    <span class="code-quote">"cmptabcontroller"</span>:"",
    <span class="code-quote">"winbuttons"</span>:"",
    <span class="code-quote">"onsubmitsuccess"</span>:"",
    <span class="code-quote">"submitparams"</span>:""
  },
  <span class="code-quote">"columns"</span>:[
    {
      <span class="code-quote">"header"</span>:<span class="code-quote">"Attribute"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"attribute"</span>,
      <span class="code-quote">"MIGX_id"</span>:1
    },
    {
      <span class="code-quote">"header"</span>:<span class="code-quote">"Title"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"title"</span>,
      <span class="code-quote">"MIGX_id"</span>:2
    },
    {
      <span class="code-quote">"header"</span>:<span class="code-quote">"Icon"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"icon"</span>,
      <span class="code-quote">"renderer"</span>:<span class="code-quote">"<span class="code-keyword">this</span>.renderImage"</span>,
      <span class="code-quote">"MIGX_id"</span>:3
    },
    {
      <span class="code-quote">"MIGX_id"</span>:2,
      <span class="code-quote">"header"</span>:<span class="code-quote">"Active"</span>,
      <span class="code-quote">"dataIndex"</span>:<span class="code-quote">"active"</span>,
      <span class="code-quote">"width"</span>:"",
      <span class="code-quote">"sortable"</span>:<span class="code-quote">"<span class="code-keyword">false</span>"</span>,
      <span class="code-quote">"show_in_grid"</span>:1,
      <span class="code-quote">"renderer"</span>:<span class="code-quote">"<span class="code-keyword">this</span>.renderSwitchStatusOptions"</span>,
      <span class="code-quote">"clickaction"</span>:<span class="code-quote">"switchOption"</span>,
      <span class="code-quote">"selectorconfig"</span>:"",
      <span class="code-quote">"renderoptions"</span>:[
        {
          <span class="code-quote">"MIGX_id"</span>:1,
          <span class="code-quote">"name"</span>:<span class="code-quote">"published"</span>,
          <span class="code-quote">"value"</span>:1,
          <span class="code-quote">"clickaction"</span>:"",
          <span class="code-quote">"handler"</span>:"",
          <span class="code-quote">"image"</span>:<span class="code-quote">"assets\/components\/migx\/style\/images\/tick.png"</span>
        },
        {
          <span class="code-quote">"MIGX_id"</span>:2,
          <span class="code-quote">"name"</span>:<span class="code-quote">"unpublished"</span>,
          <span class="code-quote">"value"</span>:<span class="code-quote">"0"</span>,
          <span class="code-quote">"clickaction"</span>:"",
          <span class="code-quote">"handler"</span>:"",
          <span class="code-quote">"image"</span>:<span class="code-quote">"assets\/components\/migx\/style\/images\/cross.png"</span>
        }
      ]
    }
  ]
}
</pre>
</div>
</div>
</li>
</ol>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatesomeAttributes" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-CreatesomeAttributes"></a>Create some Attributes
</h2>

<p>
Go to edit the Attributes-Builder-Resource and add some Attributes
</p>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-SelectAttributesonResources" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-SelectAttributesonResources"></a>Select Attributes on Resources
</h2>

<p>
Now you should be able to select Attributes and sort them by drag/drop to a new position. You can also add additional infos, like a individual comment.
</p>

<h2>
<a name="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-Gettheselectedattributeslistatfrontend" id="MIGX.CreateselectableandsortableAttributesListforwhateveryouneedit-Gettheselectedattributeslistatfrontend"></a>Get the selected attributes-list at frontend
</h2>

<p>
Add this snippet-tag to your template/resource-content:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;ul&gt;
[[getImageList? 
    &amp;tvname=`migx_attributes` 
    &amp;where=`{<span class="code-quote">"active"</span>:<span class="code-quote">"1"</span>}`
    &amp;tpl=`@CODE:
      &lt;li &gt;
      &lt;img src=<span class="code-quote">"[[+icon]]"</span> alt=<span class="code-quote">"[[+title]]"</span> title=<span class="code-quote">"[[+title]]"</span> /&gt;
      &lt;span&gt;[[+title]]&lt;/span&gt;
      [[+comment:nl2br]]
      &lt;/li&gt; ` 
]]
&lt;/ul&gt;
</pre>
</div>
</div>
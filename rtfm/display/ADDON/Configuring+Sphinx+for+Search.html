<h2>
<a name="ConfiguringSphinxforSearch-RequirementsforSphinxSearchwithDiscuss" id="ConfiguringSphinxforSearch-RequirementsforSphinxSearchwithDiscuss"></a>Requirements for Sphinx Search with Discuss
</h2>

<p>
Discuss has only few requirements to work with Sphinx search:
</p>

<ul>
<li>Sphinx 2.0 or newer installed on server (current Discuss version tested on 2.0.8)
</li>

<li>Configured sources and indexes for discuss post table (Configuration example below)
</li>

<li>Configured MODx system settings correctly
</li>
</ul>

<p>
For more how to install Sphinx can be found from <a href="http://sphinxsearch.com/docs/" class="external-link" rel="nofollow">official Sphinx documentation</a>
</p>

<h2>
<a name="ConfiguringSphinxforSearch-ExampleConfiguration" id="ConfiguringSphinxforSearch-ExampleConfiguration"></a>Example Configuration
</h2>

<p>
<font color="#333333">Example configuration uses two indexes for Sphinx; the main index and delta index for faster and more frequent indexing. Using delta index is preferred when forum is active or there are considerable amount of posts which can cause indexer to take long re-indexing main index. Delta index can also keep search more up to date with results depending on indexing frequency.</font>
</p>

<pre>
    CREATE TABLE `modx_discuss_sphinx_delta` (
  `counter_id` int(11) NOT NULL,
  `max_doc_id` int(11) NOT NULL,
  PRIMARY KEY (`counter_id`)
)

    
</pre>
<p>
You can read more about delta index updates and merging to main index from official documentation for <a href="http://sphinxsearch.com/docs/manual-2.0.8.html#delta-updates" class="external-link" rel="nofollow">Delta Updates</a>
</p>

<h2>
<a name="ConfiguringSphinxforSearch-SettingSphinxtoDiscussSettings" id="ConfiguringSphinxforSearch-SettingSphinxtoDiscussSettings"></a>Setting Sphinx to Discuss Settings
</h2>

<p>
<font color="#222222">Go to</font> <a href="display/revolution20/System+Settings" title="System Settings"><font color="#222222">System Settings</font></a><font color="#222222">&nbsp;</font><font color="#222222">and change the following settings:</font>
</p>

<ul>
<li>
<font color="#222222"><b>discuss.search_class</b></font><font color="#222222">&nbsp;-&gt; Change to disSphinxSearch</font>
</li>

<li>
<font color="#222222"><b>discuss.sphinx.host_name</b></font> <font color="#222222">-&gt; Set to hostname where Sphinx server is running</font>
</li>

<li>
<font color="#222222"><b>discuss.sphinx.indexes</b></font> <font color="#222222">-&gt; List of indexes mentioned in the configuration file. The list can be separated with semicolon, comma or space</font>
</li>

<li>
<font color="#222222"><b>discuss.sphinx.port</b></font> <font color="#222222">-&gt; Set port number that Sphinx is listening to</font>
</li>
</ul>
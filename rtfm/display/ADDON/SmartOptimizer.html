<div>
<ul>
<li>
<a href='#SmartOptimizer-WhatisSmartOptimizer%3F'>What is SmartOptimizer?</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#SmartOptimizer-Requirements'>Requirements</a>
</li>

<li>
<a href='#SmartOptimizer-PublicReleases'>Public Releases</a>
</li>

<li>
<a href='#SmartOptimizer-Download'>Download</a>
</li>

<li>
<a href='#SmartOptimizer-Support%2CComments%2CDevelopmentandBugReporting'>Support, Comments, Development and Bug Reporting</a>
</li>
</ul>
</li>

<li>
<a href='#SmartOptimizer-Usage%3Athesnippetway'>Usage : the snippet way</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#SmartOptimizer-Properties'>Properties</a>
</li>

<li>
<a href='#SmartOptimizer-Examples'>Examples</a>
</li>
</ul>
</li>

<li>
<a href='#SmartOptimizer-Usage%3Atheoutputfilterway'>Usage : the output filter way</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#SmartOptimizer-Examples'>Examples</a>
</li>
</ul>
</li>

<li>
<a href='#SmartOptimizer-Usage%3Athe.htaccessway'>Usage : the .htaccess way</a>
</li>
</ul>
</div>

<h2>
<a name="SmartOptimizer-WhatisSmartOptimizer%3F"></a>What is SmartOptimizer?
</h2>

<p>
This extra is a MODx version of SmartOptimizer by <em>Ali Farhadi</em> :
</p>

<p>
"<em>SmartOptimizer (previously named JSmart) is a PHP library that enhances your website performance by optimizing the front end using techniques such as minifying, compression, caching, concatenation and embedding. All the work is done on the fly on demand.</em>"
</p>

<p>
To know more about SmartOptimizer : <a href="http://farhadi.ir/works/smartoptimizer" class="external-link" rel="nofollow">http://farhadi.ir/works/smartoptimizer</a>.
</p>

<h3>
<a name="SmartOptimizer-Requirements"></a>Requirements
</h3>

<ul>
<li>MODx Revolution 2.0.x or later
</li>

<li>PHP5 or later
</li>
</ul>

<h3>
<a name="SmartOptimizer-PublicReleases"></a>Public Releases
</h3>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Version
</th>
<th class='confluenceTh'>
Date
</th>
<th class='confluenceTh'>
Author
</th>
<th class='confluenceTh'>
Product
</th>
</tr>

<tr>
<td class='confluenceTd'>
1.0.0-pl
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
April 19, 2012
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
ben_omycode
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
Revolution
<br class="atl-forced-newline" />
</td>
</tr>

<tr>
<td class='confluenceTd'>
1.0.0-beta2
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
January 10, 2012
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
ben_omycode
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
Revolution
<br class="atl-forced-newline" />
</td>
</tr>

<tr>
<td class='confluenceTd'>
1.0.0-beta1
</td>
<td class='confluenceTd'>
December 20, 2011
</td>
<td class='confluenceTd'>
ben_omycode
</td>
<td class='confluenceTd'>
Revolution
</td>
</tr>
</tbody>
</table>
</div>

<h3>
<a name="SmartOptimizer-Download"></a>Download
</h3>

<p>
It can be downloaded from within the MODx Revolution manager via <a href="/display/revolution20/Package+Management" title="Package Management">Package Management</a>, or from the MODx Extras Repository, here: <a href="http://modx.com/extras/package/smartoptimizer" class="external-link" rel="nofollow">http://modx.com/extras/package/smartoptimizer</a>
</p>

<h3>
<a name="SmartOptimizer-Support%2CComments%2CDevelopmentandBugReporting"></a>Support, Comments, Development and Bug Reporting
</h3>

<p>
<b>Github</b> : <a href="https://github.com/benjamin-vauchel/smartoptimizer" class="external-link" rel="nofollow">https://github.com/benjamin-vauchel/smartoptimizer</a>
<br />
<b>Support/Comments</b> : <a href="http://forums.modx.com/thread/72679/support-comments-for-smartoptimizer" class="external-link" rel="nofollow">http://forums.modx.com/thread/72679/support-comments-for-smartoptimizer</a>
</p>

<h2>
<a name="SmartOptimizer-Usage%3Athesnippetway"></a>Usage : the snippet way
</h2>

<div class='panelMacro'>
<table class='infoMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
If you can't edit your .htaccess or if you want to ponctually use SmartOptimizer.
</td>
</tr>
</table>
</div>

<h3>
<a name="SmartOptimizer-Properties"></a>Properties
</h3>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
</tr>

<tr>
<td class='confluenceTd'>
files
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
path to your CSS or JS files
<br class="atl-forced-newline" />
</td>
</tr>
</tbody>
</table>
</div>

<h3>
<a name="SmartOptimizer-Examples"></a>Examples
</h3>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Before (without SmartOptimizer)
<br class="atl-forced-newline" />
</th>
<th class='confluenceTh'>
After (with SmartOptimizer)
<br class="atl-forced-newline" />
</th>
</tr>

<tr>
<td class='confluenceTd'>
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;!-- Your CSS files --&gt;
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"assets/css/file1.css"</span>/&gt;
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"assets/css/file2.css"</span>/&gt;

&lt;!-- Your JS files --&gt;
&lt;script src=<span class="code-quote">"assets/js/file.js"</span>&gt;&lt;/script&gt;
</pre>
</div>
</div>
</td>
<td class='confluenceTd'>
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;!-- Your CSS files --&gt;
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"[[SmartOptimizer? &amp;files=`assets/css/file1.css,file2.css`]]"</span>/&gt;

&lt;!-- Your JS files --&gt;
&lt;script src=<span class="code-quote">"[[SmartOptimizer? &amp;files=`assets/js/file.js`]]"</span>&gt;&lt;/script&gt;
</pre>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="SmartOptimizer-Usage%3Atheoutputfilterway"></a>Usage : the output filter way
</h2>

<div class='panelMacro'>
<table class='infoMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
If you can't edit your .htaccess or if you want to ponctually use SmartOptimizer.
</td>
</tr>
</table>
</div>

<h3>
<a name="SmartOptimizer-Examples"></a>Examples
</h3>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Before (without SmartOptimizer)
<br class="atl-forced-newline" />
</th>
<th class='confluenceTh'>
After (with SmartOptimizer)
<br class="atl-forced-newline" />
</th>
</tr>

<tr>
<td class='confluenceTd'>
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;!-- Your CSS files --&gt;
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"[[+link_to_css]]"</span>/&gt;

&lt;!-- Your JS files --&gt;
&lt;script src=<span class="code-quote">"[[+link_to_js]]"</span>&gt;&lt;/script&gt;
</pre>
</div>
</div>
</td>
<td class='confluenceTd'>
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;!-- Your CSS files --&gt;
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"[[+link_to_css:smartoptimizer]]"</span>/&gt;

&lt;!-- Your JS files --&gt;
&lt;script src=<span class="code-quote">"[[+link_to_js:smartoptimizer]]"</span>&gt;&lt;/script&gt;
</pre>
</div>
</div>
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="SmartOptimizer-Usage%3Athe.htaccessway"></a>Usage : the .htaccess way
</h2>

<div class='panelMacro'>
<table class='infoMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
Use this method if you want all your css and js files processed by SmartOptimizer
</td>
</tr>
</table>
</div>

<p>
Add this at the end of your .htaccess :
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;IfModule mod_expires.c&gt;
  &lt;FilesMatch <span class="code-quote">"\.(gif|jpg|jpeg|png|swf|css|js|html?|xml|txt|ico)$"</span>&gt;
    ExpiresActive On       
    ExpiresDefault <span class="code-quote">"access plus 10 years"</span>   
  &lt;/FilesMatch&gt;
&lt;/IfModule&gt;
&lt;IfModule mod_rewrite.c&gt;   
  RewriteEngine On  
  RewriteCond %{REQUEST_FILENAME} !-f   
  RewriteCond %{REQUEST_FILENAME} !-d   
  RewriteRule ^(.*\.(js|css))$ assets/components/smartoptimizer/connector.php?$1
  &lt;IfModule mod_expires.c&gt;      
    RewriteCond %{REQUEST_FILENAME} -f       
    RewriteRule ^(.*\.(js|css|html?|xml|txt))$ assets/components/smartoptimizer/connector.php?$1   
  &lt;/IfModule&gt;
  &lt;IfModule !mod_expires.c&gt;       
    RewriteCond %{REQUEST_FILENAME} -f       
    RewriteRule ^(.*\.(gif|jpg|jpeg|png|swf|css|js|html?|xml|txt|ico))$ assets/components/smartoptimizer/connector.php?$1   
  &lt;/IfModule&gt;
&lt;/IfModule&gt;
&lt;FilesMatch <span class="code-quote">"\.(gif|jpg|jpeg|png|swf|css|js|html?|xml|txt|ico)$"</span>&gt;
  FileETag none
&lt;/FilesMatch&gt;
</pre>
</div>
</div>

<p>
If you enabled friendly URLs, add also :
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
RewriteCond %{REQUEST_FILENAME} !(\.css)$
RewriteCond %{REQUEST_FILENAME} !(\.js)$
</pre>
</div>
</div>

<p>
Before :
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]
</pre>
</div>
</div>

<p>
Finally, call your stylesheets and scripts this way :
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"assets/css/file1.css,file2.css"</span>/&gt;
&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"assets/css/file1.css,file2.css"</span>/&gt;
</pre>
</div>
</div>
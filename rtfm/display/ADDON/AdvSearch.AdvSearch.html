<div>
<ul>
<li>
<a href="#AdvSearch.AdvSearch-AdvSearchSnippet">AdvSearch Snippet</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-Usage">Usage</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-AvailableProperties">Available Properties</a>
<ul>
<li>
<a href="#AdvSearch.AdvSearch-Designthequery">Design the query</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-Organizethesearchresults">Organize the search results</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-Designthepageresults">Design the page results</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-OverallAdvSearchdesign">Overall AdvSearch design</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-Custominstallation">Custom installation</a>
</li>
</ul>
</li>

<li>
<a href="#AdvSearch.AdvSearch-AdvSearchChunks">AdvSearch Chunks</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-Examples">Examples</a>
</li>

<li>
<a href="#AdvSearch.AdvSearch-SeeAlso">See Also</a>
</li>
</ul>
</div>

<h2 id="AdvSearch.AdvSearch-AdvSearchSnippet">
AdvSearch Snippet
</h2>

<p>
This snippet displays search results based on the search criteria sent.
</p>

<h2 id="AdvSearch.AdvSearch-Usage">
Usage
</h2>

<p>
Simply place the snippet in the Resource you would like to display search results in.
</p>

<pre class="brush: php">
[[!AdvSearch]]
</pre>
<h2 id="AdvSearch.AdvSearch-AvailableProperties">
Available Properties
</h2>

<h3 id="AdvSearch.AdvSearch-Designthequery">
Design the query
</h3>

<p>
To specify where to do the search and which results you want.
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
contexts
</td>
<td>
The contexts to search.
</td>
<td>
web
</td>
</tr>

<tr>
<td>
fields
</td>
<td>
A comma separated list of fields available with search results.
</td>
<td>
pagetitle,longtitle,alias,description,introtext,content
</td>
</tr>

<tr>
<td>
hideContainers
</td>
<td>
Search in container resources. 0 : search in all resources. 1 : will not search in any resources marked as a container.
</td>
<td>
0
</td>
</tr>

<tr>
<td>
hideMenu
</td>
<td>
Whether or not to return Resources that have hidemenu on. 0 : shows only visible Resources, 1 : shows only hidden Resources, 2 : shows both.
</td>
<td>
2
</td>
</tr>

<tr>
<td>
ids
</td>
<td>
A comma-separated list of IDs to restrict the search to. Use GetIds addon to specify complex id list.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
includeTVs
</td>
<td>
A comma separated list of TV names to include TV values as results.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
queryHook
</td>
<td>
A queryHook snippet name to change the default query.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
withFields
</td>
<td>
A comma separated list of fields where to do the search.
</td>
<td>
pagetitle,longtitle,alias,description,introtext,content
</td>
</tr>

<tr>
<td>
withTVs
</td>
<td>
A comma separated list of TV names where to do the search. TV values are added as results.
</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3 id="AdvSearch.AdvSearch-Organizethesearchresults">
Organize the search results
</h3>

<p>
To sort and limit the search results.
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
fieldPotency
</td>
<td>
Score and sort the results. Comma separated list of couples "field : potency".
</td>
<td>
createdon
</td>
</tr>

<tr>
<td>
perPage
</td>
<td>
The number of search results to show per page.
</td>
<td>
10
</td>
</tr>

<tr>
<td>
sortby
</td>
<td>
Comma separated list of couple "field <span class="error">[ASC]</span>" to sort by.
</td>
<td>
createdon DESC
</td>
</tr>

<tr>
<td>
showExtract
</td>
<td>
Show the search terms highlighted in one or several extracts. String as "n : comma separated list of fields". n : maximum number of extracts by result. The search term is searched in the concatenated fields.
</td>
<td>
1:content
</td>
</tr>
</tbody>
</table>

<h3 id="AdvSearch.AdvSearch-Designthepageresults">
Design the page results
</h3>

<p>
To style the look and feel of your page results.
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
containerTpl
</td>
<td>
The chunk that will be used to wrap all the search results, pagination and message.
</td>
<td>
SearchResults
</td>
</tr>

<tr>
<td>
tpl
</td>
<td>
The chunk that will be used to display the contents of each search result.
</td>
<td>
AdvSearchResult
</td>
</tr>

<tr>
<td>
pagingType
</td>
<td>
Type of pagination. type 0 or 1
</td>
<td>
1
</td>
</tr>

<tr>
<td>
pageTpl
</td>
<td>
The chunk to use for a pagination link.
</td>
<td>
PageLink
</td>
</tr>

<tr>
<td>
paging1Tpl
</td>
<td>
The chunk to use for the paging type 1
</td>
<td>
Paging1
</td>
</tr>

<tr>
<td>
paging0Tpl
</td>
<td>
The chunk to use for the paging type 0
</td>
<td>
Paging0
</td>
</tr>

<tr>
<td>
currentPageTpl
</td>
<td>
The chunk to use for the current pagination link. (Paging type 0)
</td>
<td>
CurrentPageLink
</td>
</tr>

<tr>
<td>
pagingSeparator
</td>
<td>
The separator to use between pagination links. (Paging type 0)
</td>
<td>
|
</td>
</tr>

<tr>
<td>
extractEllipsis
</td>
<td>
The string used to wrap extract results with. Defaults to an ellipsis.
</td>
<td>
...
</td>
</tr>

<tr>
<td>
extractLength
</td>
<td>
The number of characters for the content extraction of each search result.
</td>
<td>
200
</td>
</tr>

<tr>
<td>
extractTpl
</td>
<td>
The chunk that will be used to wrap each extract.
</td>
<td>
Extract
</td>
</tr>

<tr>
<td>
highlightClass
</td>
<td>
The CSS class name to add to highlighted terms in results.
</td>
<td>
advsea-highlight
</td>
</tr>

<tr>
<td>
highlightResults
</td>
<td>
Whether or not to highlight the search term in results.
</td>
<td>
1
</td>
</tr>

<tr>
<td>
highlightTag
</td>
<td>
The html tag to wrap the highlighted term with in search results.
</td>
<td>
span
</td>
</tr>

<tr>
<td>
placeholderPrefix
</td>
<td>
prefix of global placeholders.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
toPlaceholder
</td>
<td>
Whether to set the output to directly return, or set to a placeholder with this propertys name.
</td>
<td>
&nbsp;
</td>
</tr>
</tbody>
</table>

<h3 id="AdvSearch.AdvSearch-OverallAdvSearchdesign">
Overall AdvSearch design
</h3>

<p>
To design your own search
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
asId
</td>
<td>
Unique id for AdvSearch instance. Any combination of characters a-z, underscores, and numbers 0-9. Case sensitive.
</td>
<td>
as0
</td>
</tr>

<tr>
<td>
engine
</td>
<td>
Search engine selected among 'mysql' , 'zend' or 'all'. 'Zend' or 'all' mode request a repository with indexed resources.
</td>
<td>
mysql
</td>
</tr>

<tr>
<td>
init
</td>
<td>
defines if the search display all the results or none when the page is loaded at the first time. 'all' or 'none'
</td>
<td>
none
</td>
</tr>

<tr>
<td>
maxWords
</td>
<td>
The maximum number of words to include in the search.
</td>
<td>
20
</td>
</tr>

<tr>
<td>
method
</td>
<td>
Whether to send the search over POST or GET.
</td>
<td>
GET
</td>
</tr>

<tr>
<td>
minChars
</td>
<td>
Minimum number of characters to require for a word to be valid for searching.
</td>
<td>
3
</td>
</tr>

<tr>
<td>
offsetIndex
</td>
<td>
The name of the REQUEST parameter to use for the pagination offset.
</td>
<td>
offset
</td>
</tr>

<tr>
<td>
output
</td>
<td>
output type. 'json' or 'html' Json output provides results as a json object.
</td>
<td>
html
</td>
</tr>

<tr>
<td>
searchIndex
</td>
<td>
The name of the REQUEST parameter that the search will use.
</td>
<td>
search
</td>
</tr>

<tr>
<td>
urlScheme
</td>
<td>
Indicates in what format the URL is generated. -1, 0, 1, full, abs, http, https
</td>
<td>
-1
</td>
</tr>
</tbody>
</table>

<h3 id="AdvSearch.AdvSearch-Custominstallation">
Custom installation
</h3>

<p>
The parameters that could help you for a custom installation.
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
docindexPath
</td>
<td>
the path under assets/files/ where are located Lucene document indexes
</td>
<td>
docindex/
</td>
</tr>

<tr>
<td>
libraryPath
</td>
<td>
The path under assets/ where are located the Zend library
</td>
<td>
libraries/
</td>
</tr>
</tbody>
</table>

<h2 id="AdvSearch.AdvSearch-AdvSearchChunks">
AdvSearch Chunks
</h2>

<p>
There are several chunks that are processed in AdvSearch. Their corresponding AdvSearch parameters are:
</p>

<ul class="alternate" type="square">
<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.tpl" title="AdvSearch.AdvSearch.tpl">tpl</a> - <strong>AdvSearchResult</strong> : The Chunk to use for each result displayed.
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.containerTpl" title="AdvSearch.AdvSearch.containerTpl">containerTpl</a> - <strong>AdvSearchResults</strong> : The Chunk that will be used to wrap all the search results, pagination and message.
</li>
</ul>

<p>
Depending the paging type:
<br />
Paging type 1:
</p>

<ul class="alternate" type="square">
<li>
<a href="/display/ADDON/AdvSearch.Advsearch.paging1Tpl" title="AdvSearch.Advsearch.paging1Tpl">paging1Tpl</a> - <strong>Paging1</strong> : The Chunk to use for the pagination type 1.
</li>
</ul>

<p>
Paging type 0:
</p>

<ul class="alternate" type="square">
<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.paging0Tpl" title="AdvSearch.AdvSearch.paging0Tpl">paging0Tpl</a> - <strong>Paging0</strong> : The Chunk that will be used to wrap all paging type 0 elements.
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.paging0Tpl" title="AdvSearch.AdvSearch.paging0Tpl">pageTpl</a> - <strong>PageLink</strong> : The Chunk to use for a pagination link.
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.paging0Tpl" title="AdvSearch.AdvSearch.paging0Tpl">currentPageTpl</a> - <strong>CurrentPageLink</strong> : The Chunk to use for the current pagination link.
</li>
</ul>

<h2 id="AdvSearch.AdvSearch-Examples">
Examples
</h2>

<div class="note">
These examples assume you've already sent the search query with the <a href="/display/ADDON/AdvSearch.AdvSearchForm" title="AdvSearch.AdvSearchForm">AdvSearchForm</a> snippet.
</div>

<p>
Display results, but just show their titles:
</p>

<pre class="brush: php">
[[!AdvSearch? &amp;showExtract=`0`]]
</pre>
<p>
Display all results but only in children Resources of 15 and hide possible container Resources - and highlight tags with a 'strong' tag:
</p>

<pre class="brush: php">
[[!AdvSearch? &amp;ids=`[[!GetIds? &amp;ids=`c15`]]` &amp;hideContainers=`1` &amp;highlightTag=`strong`]]
</pre>
<p>
Do a search in the field 'introtext' and in the tv named 'mytv'. Display as results the fields 'pagetitle', 'longtitle' and 'introtext'. Setup an extract with the 'introtext' field. Show a maximum of 2 extracts by result. And finally set the results to the placeholder 'results':
</p>

<pre class="brush: php">
[[!AdvSearch? &amp;withFields=`introtext` &amp;withTVs=`mytv` &amp;fields=`pagetitle,introtext` &amp;showExtract=`2:introtext` &amp;toPlaceholder=`results`]]
</pre>
<h2 id="AdvSearch.AdvSearch-SeeAlso">
See Also
</h2>

<ol class="ug-toc see-also">
<li>
<a href="/display/ADDON/AdvSearch.AdvSearch">AdvSearch.AdvSearch</a>
<ol class="ug-toc">
<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.containerTpl">AdvSearch.AdvSearch.containerTpl</a>
</li>

<li>
<a href="/display/ADDON/Advsearch.AdvSearch.extractTpl">Advsearch.AdvSearch.extractTpl</a>
</li>

<li>
<a href="/display/ADDON/AdvSearch.Advsearch.paging1Tpl">AdvSearch.Advsearch.paging1Tpl</a>
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.paging0Tpl">AdvSearch.AdvSearch.paging0Tpl</a>
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearch.tpl">AdvSearch.AdvSearch.tpl</a>
</li>
</ol>
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearchForm">AdvSearch.AdvSearchForm</a>
<ol class="ug-toc">
<li>
<a href="/display/ADDON/Advsearch.AdvSearchForm.tpl">Advsearch.AdvSearchForm.tpl</a>
</li>
</ol>
</li>

<li>
<a href="/display/ADDON/AdvSearch.AdvSearchHelp">AdvSearch.AdvSearchHelp</a>
<ol class="ug-toc">
<li>
<a href="/display/ADDON/AdvSearch.AdvSearchHelp.helplinkTpl">AdvSearch.AdvSearchHelp.helplinkTpl</a>
</li>
</ol>
</li>
</ol>
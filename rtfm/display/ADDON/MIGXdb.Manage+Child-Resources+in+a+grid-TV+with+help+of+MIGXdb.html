<div>
<ul>
<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-ManageChildResourcesinagridTVwithhelpofMIGXdb">Manage Child-Resources in a grid-TV with help of MIGXdb</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Requirements">Requirements</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-CreatetheConfiguration">Create the Configuration</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-SettheTemplateforourchildren.">Set the Template for our children.</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-CreatetheMIGXdbTV">Create the MIGXdb - TV</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-CreatingandEditingchildResources.">Creating and Editing child-Resources.</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-AddingsomeTVstoourform">Adding some TVs to our form</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-TheMIGXTVforsomeimages">The MIGX-TV for some images</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-TextTVforaPricefield">Text-TV for a Price-field</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-MultiselectTVforchoosingoneormoreCategoriesforourchildresource">Multiselect-TV for choosing one or more Categories for our child-resource</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-AddingtheTVstoourForm">Adding the TVs to our Form</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-RegistertheTVsforourprocessors%28getlist%2Cfields%29">Register the TVs for our processors (getlist,fields)</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Addasortablepricecolumntothegrid">Add a sortable price-column to the grid</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-AddingFilters">Adding Filters</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-TextboxFilterforsearchinginsomefields">Textbox Filter for searching in some fields</a>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-DropdownFilterforfilteringbycategories">Dropdown Filter for filtering by categories</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/migxdb/migxdb.tutorials/migxdb.manage-child-resources-in-a-grid-tv-with-help-of-migxdb#MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Hidingchildrenfromtree">Hiding children from tree</a>
</li>
</ul>
</div>

<h2>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-ManageChildResourcesinagridTVwithhelpofMIGXdb" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-ManageChildResourcesinagridTVwithhelpofMIGXdb"></a>Manage Child-Resources in a grid-TV with help of MIGXdb
</h2>

<p>
Often we have the problem with lots of Resources in the Resource-Tree to be very confused at some point and we wish, we would have a better way to manage them in a paginated grid view.
</p>

<p>
In this Tuorial we will learn how to create a TV which shows a grid of child-resources,
<br />
where you can add, delete, remove, edit, publish, unpublish, filter, bulk-update child-resources of the currently edited Resource (parent-folder)
</p>

<p>
First we will create a basic Configuration where we can just add new Child-Resources and edit the pagetitle, longtitle and Content-field of our Children.
<br />
Later we want to add one or more TVs, which we want to have editable and we want to add some filters, where we can filter our children.
</p>

<h2>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Requirements" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Requirements"></a>Requirements
</h2>

<p>
First off we will need to install <a href="display/ADDON/MIGX" title="MIGX">MIGX</a> by package-management, if not allready done, and do some <a href="display/ADDON/MIGXdb.Configuration" title="MIGXdb.Configuration">basic configurations</a>.
<br />
Minimum Required version: MIGX 2.2.3 (31.07.2012)
</p>

<h2>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-CreatetheConfiguration" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-CreatetheConfiguration"></a>Create the Configuration
</h2>

<p>
Now we want to create our configuration for the MIGXdb-TV.
</p>

<p>
Go to the main-tab 'MIGX'
</p>

<p>
There should be an grid with some buttons.
</p>

<p>
We click 'Add item'
</p>

<p>
In the opening window we add:
</p>

<p>
Name: childstutorial - this is the name of our configuration. Make sure to use unique configuration-names.
<br />
"Add Item" Replacement: Add Child - this is the text on our 'Add Item' - Button
<br />
unique MIGX ID: childstutorial - Its a good idea to have a unique MIGX - id for all your MIGX-configs.
</p>

<p>
Click 'Done'
</p>

<p>
We should see a new created record in our grid.
<br />
We could edit this record and add grid-columns and tabs and other stuff by right-clicking and choose 'edit', but we want to go the quick way by just importing our example-configuration.
</p>

<p>
Right-Click our record and choose 'Export/Import'
</p>

<p>
Add this code into the one field 'Json' :
</p>

<table class="sectionMacro" border="0" cellpadding="5" cellspacing="0" width="100%">
<tbody>
<tr>
<td>
</td>
</tr>
</tbody>
</table>

<pre class="brush: php">
    [
{"caption":"Image", "fields": [
    {"field":"title","caption":"Title","description":"Title for the image."},
    {"field":"image","caption":"Image","inputTVtype":"image"}

]}
]

    
</pre>
<p>
Grid Columns:
</p>

<pre class="brush: php">
    &lt;?php
$this-&gt;customconfigs['includeTVs'] = 1;
$this-&gt;customconfigs['includeTVList'] = 'price,images,categories';

    
</pre>
<div class="info">
All TVs you want to edit or you want to show in the grid needs to be in the includeTVList - customconfig
</div>

<div class="note">
Pay attention on how you name the TVs and fields, they should not contain any dots "." inside their names because that is used for extended fields and results in unexpected behavior with MIGXdb as explained here: <a href="http://forums.modx.com/thread/83428/strange-issue-migxdb-childresources-tutorial-tvs-not-saved#dis-post-460312" class="external-link" rel="nofollow">http://forums.modx.com/thread/83428/strange-issue-migxdb-childresources-tutorial-tvs-not-saved#dis-post-460312</a>
<p>
Fieldnames and TV names should be the same.
</p>
</div>

<h2>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Addasortablepricecolumntothegrid" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Addasortablepricecolumntothegrid"></a>Add a sortable price-column to the grid
</h2>

<p>
Go to the TAB 'Columns'
<br />
-&gt; click 'Add Item'
<br />
Header: Price
<br />
Field: price
<br />
width: 20
<br />
sortable: yes
</p>

<p>
Now we should be able to update this TVs in our grids-editor-window.
</p>

<h2>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-AddingFilters" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-AddingFilters"></a>Adding Filters
</h2>

<p>
In this step we add some filters to our grid.
</p>

<ul>
<li>Textbox-filter to search in pagetitle,longtitle and content
</li>

<li>dropdown-filter to filter by category
</li>
</ul>

<p>
Go to MIGX-Management and open our configuration (childstutorial)
<br />
Open the TAB 'DB-Filters'
<br />
Click 'Add Item' to add a new filter.
</p>

<h3>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-TextboxFilterforsearchinginsomefields" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-TextboxFilterforsearchinginsomefields"></a>Textbox Filter for searching in some fields
</h3>

<p>
filter Name: search
<br />
label: search
<br />
empty text: search...
<br />
getlist-where:
</p>

<pre class="brush: php">
    tvFilter::categories=inArray=[[+category]]

    
</pre>
<p>
getcombo processor: getTVcombo
<br />
getcombo textfield: categories (this is used in our getTVcombo-processor to get the input-options of the TV 'categories' for our filter-dropdown)
</p>

<p>
Save them all with clicking 'Done' on all windows
</p>

<p>
Now you should be able to filter the child-resources by searching and/or choosing a category
</p>

<h2>
<a name="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Hidingchildrenfromtree" id="MIGXdb.ManageChild-Resourcesinagrid-TVwithhelpofMIGXdb-Hidingchildrenfromtree"></a>Hiding children from tree
</h2>

<p>
Hiding our child-resources from resource-tree is very easy.
</p>

<p>
go to the MIGX-Configurator and add a new field to one of the formtabs:
</p>

<p>
Fieldname: show_in_tree
<br />
Caption: Show in Tree
<br />
inputTVtype: listbox
</p>

<p>
inputOptionValues: no==0||yes==1
</p>

<p>
You can also show the status of this field in the grid by adding a new column:
</p>

<p>
Header: Show in Tree
<br />
Field: show_in_tree
<br />
width: 20
<br />
Renderer: this.RenderCrossTick
</p>
<div class="error">
<span class="error">Unknown macro: {div}</span>
<p>
<img class="emoticon" src="/images/icons/emoticons/information.gif" height="16" width="16" align="absmiddle" alt="" border="0" /><b>Language Variants</b>
</p>

<table class="tableview" width="100%">
<tr>
<td>
<span class="icon icon-page">Page:</span> <a href="/display/ADDON/YAMS+Setup+%28de%29">YAMS Setup (de)</a>
</td>
</tr>

<tr>
<td>
<span class="icon icon-page">Page:</span> <a href="/display/ADDON/Configurar+YAMS">Configurar YAMS</a>
</td>
</tr>

<tr>
<td>
<span class="icon icon-page">Page:</span> <a href="/display/ADDON/YAMS+Setup">YAMS Setup</a>
</td>
</tr>
</table>
</div>

<div class='panelMacro'>
<table class='infoMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/information.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
In the process of being translated
</td>
</tr>
</table>
</div>

<h1>
<a name="YAMSSetup%28de%29-EinrichtenvonYAMS"></a>Einrichten von YAMS
</h1>

<p>
Diese Anleitung beschreibt, wie man mit YAMS eine neue Website erstellt bzw. eine bestehende Website mit möglichst geringem Aufwand in eine mehrsprachige umwandelt. Theoretisch ist es, abgesehen vom Neuladen der Server config, möglich, eine Website in eine mehrsprachige umzuwandeln, ohne sie während des Umbaus stillegen zu müssen. Wenn alles gutgeht, sollte die Website zu keinem Zeitpunkt gestört sein.
</p>

<p>
Diese Anleitung soll jenen helfen, die eine ganz neue mehrsprachige Website erstellen wollen, aber auch jenen, die einer bestehenden einsprachigen Website zusätzliche Sprachversionen hinzuzufügen beabsichtigen.
</p>

<h2>
<a name="YAMSSetup%28de%29-Erstellungeinerneuenbzw.ErweiterungeinereinsprachigenWebsite"></a>Erstellung einer neuen bzw. Erweiterung einer einsprachigen Website
</h2>

<p>
Es wird davon ausgegangen, dass das YAMS-Modul, das -Plugin und das -Snippet anhand der <a href="/display/ADDON/YAMS+Installation" title="YAMS Installation">Installationsanleitung</a> bereits installiert wurden. <a href="http://modxcms.com/extras/package/255" class="external-link" rel="nofollow">ManagerManager</a> ist für die Funktion von YAMS nicht erforderlich, wird aber sehr empfohlen. YAMS setzt ManagerManager u.a. dazu ein, redundante Felder von Dokumentvariablen (z.B. Menu Title) auszublenden, außerdem ermöglicht ManagerManager in der Dokumentenansicht die Anzeige von Registerkarten (Tabs) mit einem Tab pro Sprache.
</p>

<p>
Benutzerfreundliche URLs und benutzerfreundliche Aliaspfad-Angaben werden von YAMS unterstützt.
</p>

<p>
Die YAMS-Standardinstallation tut zunächst nichts - die eigentliche mehrsprachige Funktionalität ist erst gegeben, nachdem vorhandene Dokumentvorlagen (Templates) als mehrsprachig definiert worden sind.
</p>

<h2>
<a name="YAMSSetup%28de%29-YAMSSchrittf%C3%BCrSchritt"></a>YAMS Schritt für Schritt
</h2>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Schritt
</th>
<th class='confluenceTh'>
Aktion
</th>
<th class='confluenceTh'>
Beschreibung
</th>
</tr>

<tr>
<td class='confluenceTd'>
1
</td>
<th class='confluenceTh'>
Backup
</th>
<td class='confluenceTd'>
Es ist immer ratsam, vor der Änderung einer Website eine Sicherung anzulegen.
</td>
</tr>

<tr>
<td class='confluenceTd'>
2
</td>
<th class='confluenceTh'>
Festlegen des URL-Formats
</th>
<td class='confluenceTd'>
Bevor Sie YAMS konfigurieren, ist es notwendig, festzulegen auf welche Weise die Sprache der jeweiligen Dokumente aus der URL ausgelesen wird. YAMS kann in verschiedenen Modi (Betriebsarten) ausgeführt werden, je nachdem wie die URLs konfiguriert sind: <b>Server-Name</b>-Modus, <b>Rootverzeichnis-Name</b>-Modus, <b>eindeutiger-mehrsprachiger-Aliasname</b>-Modus und <b>Abfrage-Parameter</b>-Modus. Diese Modi sind auf der <a href="/display/ADDON/YAMS+Language+Modes" title="YAMS Language Modes">Modi-Seite</a> detailliert beschrieben. Beispiele, wie die verschiedenen Sprachversionen eines einzelnen Dokuments konfiguriert sein könnten, werden im folgenden Abschnitt erläutert:
<h3>
<a name="YAMSSetup%28de%29-VerwendungeindeutigermehrsprachigerAliasname"></a>Verwendung eindeutiger-mehrsprachiger-Aliasname
</h3>

<ul>
<li>Jede Sprachvariante wird mit einem eindeutigen Namen referenziert.
</li>

<li>Jede Sprachvariante eines jeden Dokuments hat einen eindeutigen Namen.
</li>

<li>Kann mit oder ohne benutzerfreundliche Aliaspfad-Angaben verwendet werden.
</li>

<li>Die Dokumentsprache wird aus dem Dokument-Aliasnamen ermittelt.
<br class="atl-forced-newline" />
<b>Beispiel:</b>
<br class="atl-forced-newline" />
</li>

<li>
<a href="http://server_name/startseite.html" class="external-link" rel="nofollow">http://server_name/startseite.html</a>
</li>

<li>
<a href="http://server_name/home.html" class="external-link" rel="nofollow">http://server_name/home.html</a>
<br class="atl-forced-newline" />

<h3>
<a name="YAMSSetup%28de%29-VerwendungModusServerNameundModusRootverzeichnisName"></a>Verwendung Modus Server-Name und Modus Rootverzeichnis-Name
</h3>
</li>

<li>Kann mit oder ohne uneindeutiger-mehrsprachiger-Aliasname bzw. eindeutiger-mehrsprachiger-Aliasname verwendet werden.
</li>

<li>Kann mit oder ohne benutzerfreundliche Aliaspfad-Angaben verwendet werden.
<br class="atl-forced-newline" />
<b>Beispiele:</b>
<br class="atl-forced-newline" />
</li>

<li>Modus nur Server-Name:
<ul>
<li>
<a href="http://de.server_name.com/meindok.html" class="external-link" rel="nofollow">http://de.server_name.com/meindok.html</a>
</li>

<li>
<a href="http://en.server_name.com/mydoc.html" class="external-link" rel="nofollow">http://en.server_name.com/mydoc.html</a>
</li>
</ul>
</li>

<li>Modus nur Rootverzeichnis-Name:
<ul>
<li>
<a href="http://de.server_name.com/meindok.html" class="external-link" rel="nofollow">http://de.server_name.com/meindok.html</a>
</li>

<li>
<a href="http://en.server_name.com/mydoc.html" class="external-link" rel="nofollow">http://en.server_name.com/mydoc.html</a>
</li>
</ul>
</li>

<li>Modus nur Rootverzeichnis-Name, mit einer Sprachvariante im Rootverzeichnis:
<ul>
<li>
<a href="http://server_name.com/meindok.html" class="external-link" rel="nofollow">http://server_name.com/meindok.html</a>
</li>

<li>
<a href="http://server_name.com/en/mydoc.html" class="external-link" rel="nofollow">http://server_name.com/en/mydoc.html</a>
</li>
</ul>
</li>

<li>Modus Server-Name, Modus Rootverzeichnis-Name, benutzerfreundliche Aliaspfad-Angaben, mehrsprachige Aliasnamen und Mehrbyte-URLs:
<ul>
<li>
<a href="http://de.server_name.com/deutschland/verzeichnis/meindok.html" class="external-link" rel="nofollow">http://de.server_name.com/deutschland/verzeichnis/meindok.html</a>
</li>

<li>
<a href="http://en.server_name.com/england/directory/mydoc.html" class="external-link" rel="nofollow">http://en.server_name.com/england/directory/mydoc.html</a>
<br class="atl-forced-newline" />

<h3>
<a name="YAMSSetup%28de%29-VerwendungModusAbfrageParameter"></a>Verwendung Modus Abfrage-Parameter
</h3>
</li>
</ul>
</li>

<li>Auf diese Methode wird zurückgegriffen, wenn es anders nicht möglich ist, die Dokumentsprache zu ermitteln.
</li>

<li>Kann mit oder ohne benutzerfreundliche URLs bzw. benutzerfreundliche Aliaspfad-Angaben verwendet werden.
</li>

<li>Der Name des Abfrage-Parameters kann angepasst werden.
<br class="atl-forced-newline" />
<b>Beispiele:</b>
<br class="atl-forced-newline" />
</li>

<li>
<a href="http://server_name.com/meindok.html?yams_lang=de" class="external-link" rel="nofollow">http://server_name.com/meindok.html?yams_lang=de</a>
</li>

<li>
<a href="http://server_name.com/mydoc.html?yams_lang=en" class="external-link" rel="nofollow">http://server_name.com/mydoc.html?yams_lang=en</a>
</li>
</ul>
</td>
</tr>

<tr>
<td class='confluenceTd'>
3
</td>
<th class='confluenceTh'>
Konfigurieren der Spracheinstellungen
</th>
<td class='confluenceTd'>
Der zweite Schritt beinhaltet das Konfigurieren der Spracheinstellungen für jede Sprachgruppe, die für die jeweiligen mehrsprachigen Dokumente zum Einsatz kommen. Dies kann mittels der Registerkarte (Tab) 'Language Settings' innerhalb des YAMS-Moduls vorgenommen werden (s. Module &gt; YAMS: Language Settings).
<br class="atl-forced-newline" />
Jede Sprachgruppe hat eine eigene id, diese wird z.B. in den mehrsprachigen Versionen der Template-Variablen einer gegebenen Sprache verwendet, Beispiel: description_id, wobei id = de, en, fr etc.
<br class="atl-forced-newline" />
Sprachgruppen können so eingerichtet werden, dass sie eine Sprache (en), eine lokalisierte (örtlich begrenzte) Sprache (en-gb), oder eine Auswahl von mehreren lokalisierten Sprachen (en,en-gb,en-us,...) repräsentieren, letztere wie gesehen kommasepariert.
<br class="atl-forced-newline" />
Außer der Einstellung der id einer Sprachgruppe und der URL für jede Sprachgruppe, ist es außerdem möglich, die Schreibrichtung einer Sprache (z.B. von rechts nach links) festzulegen.
<br class="atl-forced-newline" />
Eine Sprachgruppe muss als die standardmäßige (default) Sprachgruppe festgelegt werden, diese ist dann für einsprachige Dokumente zuständig.
</td>
</tr>

<tr>
<td class='confluenceTd'>
4
</td>
<th class='confluenceTh'>
Aktualisieren der benutzerfreundlichen URLs config
</th>
<td class='confluenceTd'>
Als nächstes muss der Server entsprechend der gewählten Sprachkonfiguration eingerichtet werden. Hierzu ist es notwendig, den unter der Registerkarte (Tab) 'Server config' vorhandenen automatisch generierten Code in die .htaccess-Datei zu kopieren. Es wird empfohlen, den Server hiernach neuzustarten.
<br class="atl-forced-newline" />
Die Server Config-Datei (.htaccess) muss immer dann aktualisiert werden, wenn bspw. eine Sprachgruppe aktiviert oder deaktiviert, der Server- oder Rootverzeichnis-Name geändert, oder der Abfrageparameter umbenannt wurde.
<br class="atl-forced-newline" />
Alle bis zum jetzigen Zeitpunkt gemachten Änderungen an der Website haben noch keinen sichtbaren Effekt, da alle Seiten vom System noch als einsprachig (bzw. nicht-mehrsprachig) behandelt werden.
</td>
</tr>

<tr>
<td class='confluenceTd'>
5
</td>
<th class='confluenceTh'>
Prüfen der URLs
</th>
<td class='confluenceTd'>
YAMS erkennt die von MODx standardmäßig generierten URLs und wandelt diese automatisch in mehrsprachige URLs um, sodass sie auf die korrekte Sprachgruppe verweisen. Die URL-Formate, die YAMS automatisch erkennt, lauten: "[(site_url)][~irgendwas~]" oder "[(base_url)][~irgendwas~]" und "[~irgendwas~]".
<br class="atl-forced-newline" />
Die von YAMS generierten mehrsprachigen URLs bestehen immer aus der kompletten URL, also inklusive Servername und vollständiger Pfadangabe; dadurch bleiben sie von der Einstellung der base href unberührt. Die URLs können auch über den 'Other Params'-Tab konfiguriert werden. Es ist zum Beispiel möglich, Weblink-URLs so einzurichten, dass sie immer nach ihrer Ziel-URL aufgelöst werden, oder dass der Dateiname des Website-Startdokuments der standardmäßigen Sprache nicht ausgegeben/angezeigt wird.
<br class="atl-forced-newline" />
URLs von Bildern, Stylesheets und Javascript-Dateien werden von YAMS nicht beeinflusst, bei Verwendung von relativen URLs muss jedoch die Einstellung der base href beachtet werden, hierzu dient der (yams_server) genannte YAMS-Platzhalter:
<br class="atl-forced-newline" />

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;base href=<span class="code-quote">"(yams_server)"</span>&gt;&lt;/base&gt;
</pre>
</div>
</div>

<p>
Bei allen internen URLs, die von MODx nicht automatisch verarbeitet werden, sind für die Generierung von korrekten mehrsprachigen URLs folgende YAMS-Platzhalter zu verwenden:
<br class="atl-forced-newline" />
(yams_doc:docId) oder (yams_docr:docId) in Dokumentvorlagen (Templates) und Seiteninhalt; und:
<br class="atl-forced-newline" />
(yams_doc:[<ins>docId</ins>]) oder (yams_docr:[<ins>docId</ins>]) in Snippet Templates.
<br class="atl-forced-newline" />
Siehe Module &gt; YAMS &gt; Documentation &gt; YAMS Placeholders für eine detaillierte Beschreibung.
</p>
</td>
</tr>

<tr>
<td class='confluenceTd'>
6
</td>
<th class='confluenceTh'>
Festlegen der Sprach-Tags (z.B. en,en-gb,en-us) und Schreibrichtung
</th>
<td class='confluenceTd'>
Im nächsten Schritt sind die Sprach-Tags und die Schreibrichtung zu bestimmen, folgende YAMS-Platzhalter kommen zum Einsatz: lang="(yams_tag)" und/oder xml:lang="(yams_tag)" und dir="(yams_dir)"
</td>
</tr>

<tr>
<td class='confluenceTd'>
7
</td>
<th class='confluenceTh'>
Anpassen der Snippets
</th>
<td class='confluenceTd'>
Alle Snippets, die URLs ausgeben oder mehrsprachigen Text enthalten, welche/r nicht in mehrsprachigen Platzhaltern eingebettet sind/ist, müssen nun aktualisiert werden. Anleitungen für Wayfinder, Ditto, eForm, jot und andere Snippets finden Sie unter dem 'How To?'-Tab.
<br class="atl-forced-newline" />
Der Platzhalter (yams_mname) dient dazu, die voreingestellte MODx Manager-Sprache (s. Module &gt; YAMS &gt; Language Settings: MODx Manager Language) an Snippet-Aufrufe zu übergeben. Für Snippet-Aufrufe von Ditto und eForm kann z.B. &amp;language=`(yams_mname)` verwendet werden.
</td>
</tr>

<tr>
<td class='confluenceTd'>
8
</td>
<th class='confluenceTh'>
Vorgehensweise bzgl. Umleitung
</th>
<td class='confluenceTd'>
Es ist jetzt möglich, Dokumentvorlagen (Templates) als mehrsprachig zu definieren. Allen Dokumenten, die mit mehrsprachigen Dokumentvorlagen verknüpft sind, werden jene Sprachversionen zugewiesen, die zuvor in der Registerkarte (Tab) 'Language Settings' hinterlegt wurden - für Seiteninhalt, der (dann) mittels sprachspezifischer Template-Variablen gesteuert wird. Außerdem passen sich die mit den Dokumenten verknüpften URLs an die jeweilige Sprache an. Die alten/einsprachigen URLs werden automatisch zu der korrekten Sprachvariante umgeleitet. YAMS bietet mehrere unterschiedliche Umleitungsmodi an, diese können in der Registerkarte 'Other Params' unter 'URL Redirection Settings' eingestellt werden.
<br class="atl-forced-newline" />
Sofern vorhandener Seiteninhalt noch nicht übersetzt wurde, sollte der Umleitungsmodus 'default' gewählt werden, diese Einstellung bewirkt die Anzeige einer gültigen Seite in der standardmäßig definierten Sprache. Erst wenn Übersetzungen vorliegen, kann z.B. der Modus 'Current else Browser' gewählt werden. Diese Einstellung führt zur Beibehaltung der Sprache, die der Browser eines Besuchers bereits festgelegt hat (z.B. während eines zuvor stattgefundenen Besuchs von <a href="http://www.meineseite.com/" class="external-link" rel="nofollow">http://www.meineseite.com/</a> im Modus Rootverzeichnis-Name), anderenfalls wird eine entsprechende Sprache (z.B. <a href="http://www.meineseite.com/de/" class="external-link" rel="nofollow">http://www.meineseite.com/de/</a>) basierend auf den Browsereinstellungen des Besuchers festgelegt.
<br class="atl-forced-newline" />
Es ist auch möglich, den HTTP-Statuscode, der bei der Umleitung gesendet wird, zu beeinflussen. Der Statuscode für die Umleitung von bestehenden Seiten auf die neue standardmäßige Sprache kann bis zur Fertigstellung der Website auf "Temporary" (307) gesetzt werden, einmal fertiggestellt sollte "Permanent" (301) gewählt werden - diese Einstellung bewirkt die korrekte Re-Indexierung bestehender Seiten durch Suchmaschinen. Bei der Umleitung zu Seiten, die nicht in der standardmäßigen Sprache vorliegen, muss der Statuscode auf "See Other" (303) gesetzt werden, diese Einstellung weist Suchmaschinen an, die neue (und nicht die alte) Seite zu cachen/indexieren.
</td>
</tr>

<tr>
<td class='confluenceTd'>
9
</td>
<th class='confluenceTh'>
ManagerManager Interface
</th>
<td class='confluenceTd'>
Jetzt ist der richtige Zeitpunkt, ManagerManager zu installieren, falls es noch nicht geschehen ist - dies wird sehr empfohlen. Lesen Sie dazu <a href="/display/ADDON/YAMS+Installation#YAMSInstallation-ManagerManagerSetup">die Anleitung auf der Installationsseite</a>.
<br class="atl-forced-newline" />
Mit ManagerManager ist es möglich, die Anzeige von Feldern (z.B. Menu Title) beim Editieren von mehrsprachigen Dokumenten zu organisieren. Dies kann unter 'Document Layout Settings' der 'Other Params'-Registerkarte vorgenommen werden.
<br class="atl-forced-newline" />
Beim Umwandeln eines Dokuments in ein mehrsprachiges Dokument werden die bestehenden (MODx-seitigen) Dokumentvariablen, inklusive des Pagetitles, beibehalten. Da jedoch alle Dokumentvariablen, bis auf Pagetitle, nun redundant sind, können diese unter 'Document Layout Settings' der 'Other Params'-Registerkarte ausgeblendet werden. Durch YAMS übernimmt der Pagetitle des Dokuments die Rolle eines "Textidentifizierers" für alle Sprachvarianten des Dokuments innerhalb des MODx-Backends. YAMS bietet die Option, den Pagetitle eines Dokuments mit dem Inhalt des mehrsprachigen Pagetitles der standardmäßigen Sprache beim Abspeichern zu aktualisieren.
</td>
</tr>

<tr>
<td class='confluenceTd'>
10
</td>
<th class='confluenceTh'>
Mehrsprachige Templates
</th>
<td class='confluenceTd'>
Es ist nun möglich, anhand der Registerkarte (Tab) 'Multilingual Templates' bestimmte Dokumentvorlagen als mehrsprachig zu definieren.
<br class="atl-forced-newline" />
Für Dokumentvorlagen, die mehrsprachig vorliegen sollen, ist 'yes' zu wählen - YAMS erstellt anschließend die entsprechenden Template-Variablen. Es ist möglich, zunächst etwas herumzuexperimentieren, indem man eine neue Dokumentvorlage erstellt, diese als mehrsprachig definiert und mit einem neuen Dokument verknüpft, das man mit Beispielinhalt füllt.
</td>
</tr>

<tr>
<td class='confluenceTd'>
11
</td>
<th class='confluenceTh'>
Übersetzen
</th>
<td class='confluenceTd'>
Theoretisch können jetzt die dem System vorliegenden verschiedenen Sprachversionen eines Dokuments unter Eingabe der entsprechenden URL im Browser aufgerufen werden. Natürlich ist momentan nur für die standardmäßige Sprachversion Seiteninhalt vorhanden. Beim Editieren eines Dokuments wird jetzt eine Registerkarte pro Sprache angezeigt und der Seiteninhalt kann übersetzt werden. Sie werden feststellen, dass die Website weiterhin unverändert vorliegt und keine Verweise auf die neuen Sprachversionen vorhanden sind, dies ändert sich im nächsten Schritt.
</td>
</tr>

<tr>
<td class='confluenceTd'>
12
</td>
<th class='confluenceTh'>
Publizieren
</th>
<td class='confluenceTd'>
Nach dem Übersetzen der betreffenden Seiten kann mit dem Publizieren begonnen werden. Die Snippet-Aufrufe
<br class="atl-forced-newline" />

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[YAMS? &amp;get=`list`]]
</pre>
</div>
</div>

<p>
oder
<br class="atl-forced-newline" />
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[YAMS? &amp;get=`selectform`]]
</pre>
</div>
</div>

<p>
können zur Bereitstellung Listen-basierter bzw. Aufklappmenu-basierter Sprachwahl in mehrsprachigen Dokumentvorlagen eingesetzt werden (an Templates/Styles anpassbar). Lesen Sie hierzu die <a href="/display/ADDON/YAMS+Snippet" title="YAMS Snippet">YAMS-Snippetseite</a> für detaillierte Beschreibungen.
</p>
</td>
</tr>

<tr>
<td class='confluenceTd'>
13
</td>
<th class='confluenceTh'>
Fertig!
</th>
<td class='confluenceTd'>
Die Website bietet jetzt die Möglichkeit, in verschiedenen Sprachen angezeigt zu werden. Der Umleitungsmodus und Statuscodes können aktualisiert werden. Stellen Sie sicher, dass ggf. vorhandene Suchmaschinen-Sitemaps eine Liste aller Dokumente beinhalten und nicht nur die einer Sprache. Hierzu mehr unter der Registerkarte 'How To?'.
</td>
</tr>
</tbody>
</table>
</div>
<div>
<ul>
<li>
<a href="extras/evo/evogallery#EvoGallery-WhatisEvoGallery%3F">What is EvoGallery?</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Requirements">Requirements</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-History">History</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/evo/evogallery#EvoGallery-PublicReleases">Public Releases</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Download">Download</a>
</li>
</ul>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Install">Install</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Usage">Usage</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/evo/evogallery#EvoGallery-Module">Module</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/evo/evogallery#EvoGallery-Configuration">Configuration</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/evo/evogallery#EvoGallery-SomeexamplesofPHPThumbconfig">Some examples of PHPThumb config</a>
</li>
</ul>
</li>
</ul>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Snippet">Snippet</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/evo/evogallery#EvoGallery-Display">Display</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Types">Types</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-OtherProperties">Other Properties</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-Examples">Examples</a>
</li>
</ul>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-TemplatePlaceholders">Template Placeholders</a>
</li>

<li>
<a href="extras/evo/evogallery#EvoGallery-ManagerManagerFunction">ManagerManager Function</a>
</li>
</ul>
</li>
</ul>
</div>

<h2>
<a name="EvoGallery-WhatisEvoGallery%3F"></a>What is EvoGallery?
</h2>

<p>
EvoGallery is a dynamic gallery extra for MODx Evolution. It allows you to quickly and easily create galleries of images by associating them with any page on your site. Galleries can be outputted in a variety of ways using a templated system.
</p>

<h2>
<a name="EvoGallery-Requirements" id="EvoGallery-Requirements"></a>Requirements
</h2>

<ul>
<li>MODx Evolution 1.0 or later
</li>

<li>PHP5 or later
</li>
</ul>

<h2>
<a name="EvoGallery-History" id="EvoGallery-History"></a>History
</h2>

<p>
EvoGallery was originally written by Brian Stanback some years ago and was simply known as the Gallery Module. Jeff Whitfield later took it and rewrote all the javascript using jQuery and used the Uploadify jQuery plugin in an effort to make the uploader compatible with newer versions of Flash. Many updates have been made since then to give it more functionality. The name was changed later to EvoGallery in order to differentiate this add-on from many of the other "gallery" add-ons including ones for MODx Revolution. In January 2011, development has been picked up by several community members with the intention to bring this plugin back to speed.
</p>

<h3>
<a name="EvoGallery-PublicReleases" id="EvoGallery-PublicReleases"></a>Public Releases
</h3>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Version
</th>
<th class='confluenceTh'>
Date
</th>
</tr>

<tr>
<td class='confluenceTd'>
1.0.0-beta1
</td>
<td class='confluenceTd'>
May 13th, 2010
</td>
</tr>

<tr>
<td class='confluenceTd'>
1.1.0-beta1
</td>
<td class='confluenceTd'>
August 28th, 2011
</td>
</tr>
</tbody>
</table>
</div>

<h3>
<a name="EvoGallery-Download" id="EvoGallery-Download"></a>Download
</h3>

<p>
EvoGallery can be downloaded from the MODx Extras Repository <a href="http://modxcms.com/extras/package/676" class="external-link" rel="nofollow">here</a>.
</p>

<p>
This add-on should NOT be confused with the Gallery add-on for MODx Revolution. EvoGallery does not create stand-alone, self-contained galleries that are not associated with a particular page. Every photo uploaded must be associated with a page in the site tree.
</p>

<h2>
<a name="EvoGallery-Install" id="EvoGallery-Install"></a>Install
</h2>

<p>
To install EvoGallery, unzip the downloaded file and follow the following steps:
</p>

<ul>
<li>Create a directory called 'galleries' in the assets directory of your MODx site and give it full write permissions (777).
</li>

<li>Copy/Upload the assets/modules/evogallery directory to the assets/modules directory of your MODx site.
</li>

<li>Copy/Upload the assets/snippets/evogallery directory to the assets/evosnippets directory of your MODx site.
</li>

<li>(Optional) Copy/Upload the assets/plugins/managermanager/functions/gallerylink.inc.php file to the assets/plugins/managermanager/functions directory of your MODx site.
</li>

<li>Copy/Upload the install directory to the root directory of your MODx site
</li>

<li>Run the installer (<a href="http://yoursite/install/index.php" class="external-link" rel="nofollow">http://yoursite/install/index.php</a>) and follow the simple on-screen instructions to complete the installation.
</li>
</ul>

<p>
Once you've completed the installation, be sure and remove the installer directory from your site.
</p>

<h2>
<a name="EvoGallery-Usage" id="EvoGallery-Usage"></a>Usage
</h2>

<p>
EvoGallery requires the use of both a module and a snippet to achieve full functionality.
</p>

<h3>
<a name="EvoGallery-Module" id="EvoGallery-Module"></a>Module
</h3>

<p>
The EvoGallery module allows you to manage all the photos that are associated with the various pages of your site. After clicking on the EvoGallery item under Modules, you'll be presented with a top-level list of pages from the site tree:
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/16220172/evogallery_docs_01.png?version=1&amp;modificationDate=1274134789000" style="border: 0px solid black" /></span>
</p>

<p>
From there, simply click on the links to drill down to the page you wish to manage:
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/16220172/evogallery_docs_02.png?version=1&amp;modificationDate=1274134812000" style="border: 0px solid black" /></span>
</p>

<p>
Uploading photos is as easy as clicking on the Select Files button and choosing the photos you want to upload. The files you select will be added to the queue:
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/16220172/evogallery_docs_03.png?version=1&amp;modificationDate=1274134818000" style="border: 0px solid black" /></span>
</p>

<p>
To upload the photos, simply click on the Upload Files link below the queue. Each photo will then be uploaded and, along with each photo, a thumbnail will be created. Both photos and thumbnails are processed and resized based on the module configuration (more on that in a second):
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/16220172/evogallery_docs_04.png?version=1&amp;modificationDate=1274134824000" style="border: 0px solid black" /></span>
</p>

<p>
Once a photo is uploaded, you can manage the additional properties of the image simply by hovering over an image and clicking on the edit icon. A lightbox will popup that will allow you to update the title, description, and keywords for the image as well as the ability to upload and replace the existing image with a new one:
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/16220172/evogallery_docs_05.png?version=1&amp;modificationDate=1274134832000" style="border: 0px solid black" /></span>
</p>

<p>
If you need to delete an image, simply hover over the thumbnail of an image and click on the red 'X'. You can also reorder the order of the images simply by dragging and dropping images in the order you want and then clicking on the 'Save Order' button.
</p>

<h4>
<a name="EvoGallery-Configuration" id="EvoGallery-Configuration"></a>Configuration
</h4>

<p>
Advanced configuration options are available through module configuration:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default Value
</th>
</tr>

<tr>
<td class='confluenceTd'>
PHPThumb config for images in JSON (phpthumbImage)
</td>
<td class='confluenceTd'>
PHPThumb parameters for images (see below for details)
</td>
<td class='confluenceTd'>
{'w': 940, 'h': 940, 'q': 95}
</td>
</tr>

<tr>
<td class='confluenceTd'>
PHPThumb config for thumbs in JSON (phpthumbThumb)
</td>
<td class='confluenceTd'>
PHPThumb parameters for thumbnails (see below for details)
</td>
<td class='confluenceTd'>
{'w': 175, 'h': 175, 'q': 75}
</td>
</tr>

<tr>
<td class='confluenceTd'>
Root Document ID (docId)
</td>
<td class='confluenceTd'>
ID of the document root to begin listing galleries for (0 for all documents)
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
Save path (savePath)
</td>
<td class='confluenceTd'>
Full system path to location of product images
</td>
<td class='confluenceTd'>
assets/galleries
</td>
</tr>

<tr>
<td class='confluenceTd'>
Module path (modulePath)
</td>
<td class='confluenceTd'>
Path to the module directory
</td>
<td class='confluenceTd'>
assets/modules/evogallery/
</td>
</tr>

<tr>
<td class='confluenceTd'>
Keep original images (keepOriginal)
</td>
<td class='confluenceTd'>
If set to 'Yes', this will keep original images when upload
</td>
<td class='confluenceTd'>
Yes
</td>
</tr>

<tr>
<td class='confluenceTd'>
Random filenames (randomFilenames)
</td>
<td class='confluenceTd'>
If set to 'Yes', this will apply generated random filenames to uploaded pictures
</td>
<td class='confluenceTd'>
No
</td>
</tr>
</tbody>
</table>
</div>

<p>
Please note the following:
</p>

<ol>
<li>PHPThumb config only affect images uploaded AFTER changing the settings. Or you can regenerate all images from action menu.
</li>

<li>MODX Evolution don't support double quotes in parameter values, so use single quote.
</li>
</ol>

<h5>
<a name="EvoGallery-SomeexamplesofPHPThumbconfig" id="EvoGallery-SomeexamplesofPHPThumbconfig"></a>Some examples of PHPThumb config
</h5>

<p>
Max width 940, max height 940, quality 95
</p>

<pre class="brush: php">
    {'w': 1280, 'h': 1024, 'q': 95, 'fltr': ['wmi|/assets/images/watermark.png|TL']}

    
</pre>
<p>
Max width 1280, max height 1024, quality 95, zoom crop, apply brightness filter with value 200, apply watermark filter with filename '/assets/images/watermark.png' and position to bottom-right
</p>

<pre class="brush: php">
    [[EvoGallery? &amp;display=`images` &amp;type=`jquery-cycle`]]

    
</pre>
<p>
Output a list of images using the jQuery Cycle type (jquery-cycle), sorted on the 'sortorder' variable:
</p>

<pre class="brush: php">
    [[EvoGallery? &amp;display=`galleries` &amp;docId=`22` &amp;itemTpl=`galleryListItem`]]

    
</pre>
<h3>
<a name="EvoGallery-TemplatePlaceholders" id="EvoGallery-TemplatePlaceholders"></a>Template Placeholders
</h3>

<p>
Depending on the display type, there are several available placeholders which you may use in the chunks for the template parameters. You can also reference a template variable by its name. These placeholders have PHx enabled, so you may use specific PHx syntax in your templates.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Placeholder
</th>
<th class='confluenceTh'>
Available in
</th>
<th class='confluenceTh'>
Outputs
</th>
</tr>

<tr>
<td class='confluenceTd'>
total
</td>
<td class='confluenceTd'>
Gallery display
</td>
<td class='confluenceTd'>
Total amount of images within the current gallery.
</td>
</tr>

<tr>
<td class='confluenceTd'>
images_dir
</td>
<td class='confluenceTd'>
Gallery, single and images display
</td>
<td class='confluenceTd'>
Image directory for the current gallery.
</td>
</tr>

<tr>
<td class='confluenceTd'>
thumbs_dir
</td>
<td class='confluenceTd'>
Gallery, single and images display
</td>
<td class='confluenceTd'>
Thumbnail directory for the current gallery.
</td>
</tr>

<tr>
<td class='confluenceTd'>
original_dir
</td>
<td class='confluenceTd'>
Gallery, single and images display
</td>
<td class='confluenceTd'>
Original image directory for current gallery.
</td>
</tr>

<tr>
<td class='confluenceTd'>
plugin_dir
</td>
<td class='confluenceTd'>
Gallery, single and images display
</td>
<td class='confluenceTd'>
URL path of current output type
</td>
</tr>

<tr>
<td class='confluenceTd'>
id
</td>
<td class='confluenceTd'>
Gallery, single and images display
</td>
<td class='confluenceTd'>
In gallery display, this returns the document ID for the current gallery. In images and single view, this returns the unique ID (<tt>picId</tt>) for an image.
</td>
</tr>

<tr>
<td class='confluenceTd'>
content_id
</td>
<td class='confluenceTd'>
Single and images display
</td>
<td class='confluenceTd'>
Returns the document ID the image is linked to.
</td>
</tr>

<tr>
<td class='confluenceTd'>
filename
</td>
<td class='confluenceTd'>
Gallery, single and images display
</td>
<td class='confluenceTd'>
The filename of the current image. In Gallery view, this is the first image of the gallery based on the <tt>sortBy</tt> and <tt>sortOrder</tt> parameters.
</td>
</tr>

<tr>
<td class='confluenceTd'>
title
</td>
<td class='confluenceTd'>
Single and images display
</td>
<td class='confluenceTd'>
Title which has been specified in the backend.
</td>
</tr>

<tr>
<td class='confluenceTd'>
description
</td>
<td class='confluenceTd'>
Single and images display
</td>
<td class='confluenceTd'>
Description which has been specified in the backend.
</td>
</tr>

<tr>
<td class='confluenceTd'>
keywords
</td>
<td class='confluenceTd'>
Single and images display
</td>
<td class='confluenceTd'>
Comma delimited list of keywords for the image as specified in the backend.
</td>
</tr>

<tr>
<td class='confluenceTd'>
sortorder
</td>
<td class='confluenceTd'>
Single and images display
</td>
<td class='confluenceTd'>
Sort number, based on the order in the backend. (<em>Please note that due to a bug in 1.0 beta1 the sortorder will not be properly saved to the database. For a fix refer to the</em> <em><a href="http://modxcms.com/forums/index.php/topic,49489.msg294113.html#msg294113" title="http://modxcms.com/forums/index.php/topic,49489.msg294113.html#msg294113" class="external-link" rel="nofollow">forums</a></em><em>.</em>)
</td>
</tr>

<tr>
<td class='confluenceTd'>
Resource variables
</td>
<td class='confluenceTd'>
Gallery display
</td>
<td class='confluenceTd'>
The following resource variables are available in gallery display through placeholders: <tt>id, pagetitle, longtitle, description, alias, pub_date, introtext, editedby, editedon, publishedon, publishedby, menutitle</tt>
</td>
</tr>
</tbody>
</table>
</div>

<h3>
<a name="EvoGallery-ManagerManagerFunction" id="EvoGallery-ManagerManagerFunction"></a>ManagerManager Function
</h3>

<p>
Included in the distribution of EvoGallery is an optional function for the <a href="http://modxcms.com/extras/package/255" class="external-link" rel="nofollow">ManagerManager</a> plugin that allows you to create a link directly to the section of EvoGallery that is related to a given page. This is a great help to content editors since they don't have to constantly click over to the EvoGallery module and drill down to manage the page they want.
</p>

<p>
To use the function, simply create a text template variable and name it whatever you want. Next, add the following call to your ManagerManager rules:
</p>

<pre class="brush: php">
    mm_widget_evogallery($moduleid, $title, $roles, $templates);

    
</pre>
<ul>
<li>$moduleid is a custom variable specific to this function. It tells the function what module ID to use. To find out the ID of a module, simply copy the link to the module in the main menu. The ID will be part of the URL itself. E.g.: /manager/index.php?a=112&amp;id=<ins>2</ins>. In this case, the $moduleid is 2.
</li>

<li>$title is display name of tab.
</li>

<li>$roles should be replaced with the IDs of the roles that should be affected or left empty to apply the rule to all roles.
</li>

<li>$templates contains the IDs of templates to apply the rule to, or can be left empty to apply to all templates.
</li>
</ul>
<div>
<ul>
<li>
<a href="#MIGX.Useresource-specificmediasourceandmultifile-uploader-Useresourcespecificmediasourceandmultifileuploader">Use resource-specific media source and multifile-uploader</a>
</li>

<li>
<a href="#MIGX.Useresource-specificmediasourceandmultifile-uploader-Requirements">Requirements</a>
</li>

<li>
<a href="#MIGX.Useresource-specificmediasourceandmultifile-uploader-Createthedynamicresourcespecificmediasource">Create the dynamic resource-specific media source</a>
</li>

<li>
<a href="#MIGX.Useresource-specificmediasourceandmultifile-uploader-CreatetheMIGXTV">Create the MIGX - TV</a>
</li>

<li>
<a href="#MIGX.Useresource-specificmediasourceandmultifile-uploader-CreatetheConfigurationfortheMIGXTV">Create the Configuration for the MIGX-TV</a>
</li>

<li>
<a href="#MIGX.Useresource-specificmediasourceandmultifile-uploader-HaveFun">Have Fun</a>
</li>
</ul>
</div>

<h2 id="MIGX.Useresource-specificmediasourceandmultifile-uploader-Useresourcespecificmediasourceandmultifileuploader">
Use resource-specific media source and multifile-uploader
</h2>

<p>
In this Tutorial we will learn how we can have a dynamic media source, with its own auto-created file-folder for each resource.
<br />
For uploading multiple files at once, we will use MIGX's multiupload - feature.
<br />
We will also be able to synchronize all migx items with files in that media source directory.
</p>

<h2 id="MIGX.Useresource-specificmediasourceandmultifile-uploader-Requirements">
Requirements
</h2>

<p>
First off we will need to install <a href="/display/ADDON/MIGX" title="MIGX">MIGX</a> by Package Management and do some <a href="/display/ADDON/MIGXdb.Configuration" title="MIGXdb.Configuration">basic configurations</a>.
</p>

<h2 id="MIGX.Useresource-specificmediasourceandmultifile-uploader-Createthedynamicresourcespecificmediasource">
Create the dynamic resource-specific media source
</h2>

<ol>
<li>Go to: Tools-&gt;Media Sources
</li>

<li>Create new media source
<ul>
<li>name: ResourceMediaPath
</li>

<li>source type: Filesystem
</li>
</ul>
</li>

<li>Update this media source
<ul>
<li>basepath and baseurl: [[migxResourceMediaPath? &amp;pathTpl=`assets/resourceimages/{id}/`]]
</li>
</ul>
</li>

<li>Add three new settings to the media source:
<ul>
<li>thumbX: 200
</li>

<li>thumbY: 200
</li>

<li>maxFiles: 20
</li>
</ul>
</li>
</ol>

<p>
You may need to create a directory with write-permissions for php: assets/resourceimages/
</p>

<h2 id="MIGX.Useresource-specificmediasourceandmultifile-uploader-CreatetheMIGXTV">
Create the MIGX - TV
</h2>

<p>
Create a new TV
</p>

<ol>
<li>Tab: General Information
<ul>
<li>name: resourcealbum
</li>
</ul>
</li>

<li>Tab: Input Options
<ul>
<li>Input Type: migx
</li>

<li>Configurations: resourcealbum
</li>
</ul>
</li>

<li>Tab: Template Access
<ul>
<li>select your Template for your album-resources
</li>
</ul>
</li>

<li>Tab: Media Sources
<ul>
<li>select the ResourceMediaPath - media source for your context (web by default)
</li>
</ul>
</li>
</ol>

<h2 id="MIGX.Useresource-specificmediasourceandmultifile-uploader-CreatetheConfigurationfortheMIGXTV">
Create the Configuration for the MIGX-TV
</h2>

<ol>
<li>Go to: Components-&gt;MIGX-&gt;Tab: MIGX
</li>

<li>Create a new Configuration with 'add item'
<ul>
<li>name: resourcealbum
</li>
</ul>
</li>

<li>Click 'Done' to save the new Configuration
</li>

<li>right-click on the new configuration and select 'import/export'
</li>

<li>copy/paste this code into the textarea:
</li>
</ol>

<pre class="brush: php">
{"formtabs":"[{\"MIGX_id\":\"1\",\"caption\":\"Image\",\"fields\":[{\"field\":\"title\",\"caption\":\"Title\",\"MIGX_id\":1},{\"MIGX_id\":\"2\",\"field\":\"image\",\"caption\":\"Image\",\"inputTV\":\"\",\"inputTVtype\":\"image\",\"configs\":\"\",\"sourceFrom\":\"migx\",\"sources\":\"\",\"inputOptionValues\":\"\",\"default\":\"\"},{\"MIGX_id\":\"3\",\"field\":\"description\",\"caption\":\"Description\",\"inputTV\":\"\",\"inputTVtype\":\"\",\"configs\":\"\",\"sourceFrom\":\"config\",\"sources\":\"\",\"inputOptionValues\":\"\",\"default\":\"\"}]}]","contextmenus":"","actionbuttons":"upload||loadfromsource","columnbuttons":"","filters":"","extended":{"migx_add":"Add Image","formcaption":"Image","win_id":"resourcegallery","multiple_formtabs":"","packageName":"","classname":"","task":"","getlistsort":"","getlistsortdir":"","use_custom_prefix":"0","prefix":"","grid":"","gridload_mode":"1","check_resid":"1","check_resid_TV":"","join_alias":"","getlistwhere":"","joins":"","cmpmaincaption":"","cmptabcaption":"","cmptabdescription":"","cmptabcontroller":""},"columns":"[{\"MIGX_id\":\"1\",\"header\":\"ID\",\"dataIndex\":\"MIGX_id\",\"width\":\"10\",\"renderer\":\"\",\"sortable\":\"false\",\"show_in_grid\":\"1\"},{\"MIGX_id\":\"2\",\"header\":\"Title\",\"dataIndex\":\"title\",\"width\":\"20\",\"renderer\":\"\",\"sortable\":\"false\",\"show_in_grid\":\"1\"},{\"MIGX_id\":\"3\",\"header\":\"Image\",\"dataIndex\":\"image\",\"width\":\"20\",\"renderer\":\"this.renderImage\",\"sortable\":\"false\",\"show_in_grid\":\"1\"},{\"MIGX_id\":\"4\",\"header\":\"Deleted\",\"dataIndex\":\"deleted\",\"width\":\"10\",\"renderer\":\"this.renderCrossTick\",\"sortable\":\"false\",\"show_in_grid\":\"1\"}]"}
</pre>
<h2 id="MIGX.Useresource-specificmediasourceandmultifile-uploader-HaveFun">
Have Fun
</h2>

<p>
Now you should be able to create Album-Resources, upload images with multifile-uploader and synchronize the MIGX-items with your files.
<br />
For listing them on Front-end use the getImageList - snippet.
</p>
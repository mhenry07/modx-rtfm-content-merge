<h2>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-HowtoaddFancyboximageswithseperateplaceholdersintoRichtextContent"></a>Howto add Fancybox-images with seperate placeholders into Richtext-Content
</h2>

<h3>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-Requirements"></a>Requirements
</h3>

<p>
First off, you'll want to go ahead and download and install some Extras that we'll be using for this Setup. The following is a list of used Extras:
</p>

<ul>
<li>
<a href="/display/ADDON/MIGX" title="MIGX">MIGX</a>&nbsp;- For creating and fill the boxes in MODX-backend and for listing them on the frontend.
</li>

<li>
<a href="/display/ADDON/TinyMCE" title="TinyMCE">TinyMCE</a>&nbsp;- Richtext-Editor to edit the content-texts.
</li>

<li>
<a href="/display/ADDON/phpThumbOf" title="phpThumbOf">phpThumbOf</a>&nbsp;- For resizing the images to fit in our columns.
</li>
</ul>

<p>
You'll also download <a href="http://fancybox.net/home" class="external-link" rel="nofollow">fancybox</a>&nbsp;and upload the subfolder '/fancybox/' of this package to your modx-installation to /assets/fancybox/&nbsp;
</p>

<h3>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-TheTemplate"></a>The Template
</h3>

<p>
For this Tutorial we want to create a new Template. We name it 'fancybox'
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-html">
<span class="code-tag">&lt;!DOCTYPE html PUBLIC <span class="code-quote">"-//W3C//DTD XHTML 1.1//EN"</span> <span class="code-quote">"http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd"</span>&gt;</span>
<span class="code-tag">&lt;html&gt;</span>
    <span class="code-tag">&lt;head&gt;</span>
        <span class="code-tag">&lt;title&gt;</span>[[++site_name]] - [[*pagetitle]]<span class="code-tag">&lt;/title&gt;</span>
        <span class="code-tag">&lt;base href=<span class="code-quote">"[[++site_url]]"</span> /&gt;</span>
        <span class="code-tag">&lt;script type=<span class="code-quote">"text/javascript"</span> src=<span class="code-quote">"http://ajax.googleapis.com/ajax/libs/jquery/1.4/jquery.min.js"</span>&gt;</span><span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;script type=<span class="code-quote">"text/javascript"</span> src=<span class="code-quote">"[[++base_url]]assets/js/fancybox/jquery.fancybox-1.3.4.pack.js"</span>&gt;</span><span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;script type=<span class="code-quote">"text/javascript"</span> src=<span class="code-quote">"[[++base_url]]assets/js/fancybox/jquery.easing-1.4.pack.js"</span>&gt;</span><span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;script type=<span class="code-quote">"text/javascript"</span>&gt;</span>
            $(document).ready(function() {
                $(<span class="code-quote">"a.fancyimg"</span>).fancybox({
             'transitionIn' : 'elastic',
             'transitionOut' : 'elastic',
             'speedIn' : 600, 
                    'speedOut' : 200, 
                    'overlayShow' : false
                });

            });
        <span class="code-tag">&lt;/script&gt;</span>
        <span class="code-tag">&lt;link rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"[[++base_url]]assets/js/fancybox/jquery.fancybox-1.3.4.css"</span> type=<span class="code-quote">"text/css"</span> media=<span class="code-quote">"screen"</span> /&gt;</span>        
    <span class="code-tag">&lt;/head&gt;</span>
    <span class="code-tag">&lt;body&gt;</span>
        <span class="code-tag">&lt;div&gt;</span>
            [[!getImageList? &amp;tpl=`fancybox`&amp;tvname=`fancyboxTv`&amp;toSeparatePlaceholders=`img`]]
            <span class="code-tag">&lt;div id=<span class="code-quote">"content"</span>&gt;</span>[[*content]]<span class="code-tag">&lt;/div&gt;</span>
            <span class="code-tag">&lt;div id=<span class="code-quote">"footer"</span>&gt;</span>[^q^] queries, querytime [^qt^], phptime [^p^], totaltime [^t^], source [^s^]<span class="code-tag">&lt;/div&gt;</span>
        <span class="code-tag">&lt;/div&gt;</span>
    <span class="code-tag">&lt;/body&gt;</span>
<span class="code-tag">&lt;/html&gt;</span>
</pre>
</div>
</div>

<h3>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-TheInputTvs"></a>The Input-Tvs
</h3>

<p>
We need some Input-Tvs, which we want to use in our Backend-Forms later.
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
name
<br class="atl-forced-newline" />
</th>
<th class='confluenceTh'>
input-type
<br class="atl-forced-newline" />
</th>
<th class='confluenceTh'>
default-value
<br class="atl-forced-newline" />
</th>
<th class='confluenceTh'>
purpose
<br class="atl-forced-newline" />
</th>
</tr>

<tr>
<td class='confluenceTd'>
imageTV
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
image
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
to choose our images by filemanager
<br class="atl-forced-newline" />
</td>
</tr>

<tr>
<td class='confluenceTd'>
placeholderTV
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
hidden
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
img
<br class="atl-forced-newline" />
</td>
<td class='confluenceTd'>
this is the placeholder-prefix, needed for rendering the correct placeholder in the grid
<br class="atl-forced-newline" />
</td>
</tr>
</tbody>
</table>
</div>

<div class='panelMacro'>
<table class='noteMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
Give these TVs no Template Access. We need them only as input-types for our Forms.
</td>
</tr>
</table>
</div>

<h3>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-TheMIGXTv"></a>The MIGX-Tv
</h3>

<p>
Now we are ready to create our MIGX-TV. Create a new TV.
</p>

<h4>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-GeneralInformation"></a>General Information
</h4>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-Name"></a>Name
</h5>

<p>
fancyboxTv
</p>

<h4>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-InputOptions"></a>Input Options
</h4>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-Inputtype"></a>Input-type
</h5>

<p>
migx
</p>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-FormTabs"></a>Form Tabs
</h5>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-javascript">
[
{"caption":"Image", "fields": [
    {"field":"placeholder","caption":"Placeholder","inputTV":"placeholderTV"},
    {"field":"title","caption":"Title","description":"Title <span class="code-keyword">for</span> the image."}, 
    {"field":"image","caption":"Image","inputTV":"imageTV"}

]}
] 
</pre>
</div>
</div>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-GridColumns"></a>Grid Columns
</h5>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-javascript">
[
{"header": "Placeholder", "width": "10", "sortable": "<span class="code-keyword">true</span>", "dataIndex": "placeholder", "renderer": "<span class="code-keyword">this</span>.renderPlaceholder"},
{"header": "Title", "width": "160", "sortable": "<span class="code-keyword">true</span>", "dataIndex": "title"}, 
{"header": "Image", "width": "50", "sortable": "<span class="code-keyword">false</span>", "dataIndex": "image","renderer": "<span class="code-keyword">this</span>.renderImage"}
]
</pre>
</div>
</div>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-TemplateAccess"></a>Template Access
</h5>

<p>
our fancybox - Template
</p>

<h3>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-TheChunk"></a>The Chunk
</h3>

<p>
Our last step is to create the chunk for our fancybox-images.
</p>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-Name"></a>Name
</h5>

<p>
fancybox
</p>

<h5>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-ChunkCode"></a>Chunk Code
</h5>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-html">
<span class="code-tag">&lt;a href=<span class="code-quote">"[[+image]]"</span>&gt;</span>
<span class="code-tag">&lt;img src=<span class="code-quote">"[[+image:phpthumbof=`w=100&amp;h=75&amp;zc=1`]]"</span> alt=""/&gt;</span>
<span class="code-tag">&lt;/a&gt;</span>
</pre>
</div>
</div>

<h2>
<a name="MIGX.Fancybox-imageswithseperateplaceholdersinRichtext-Content-"></a><font color="#000000"><b>Add Fancybox-images with seperate placeholders into Richtext-Content</b></font>
</h2>

<p>
Now we are ready to create a resource and upload/choose images and add them to our Richtext-Content-Field.
</p>

<p>
Create new Resource. Choose the fancybox - Template. Go to the tab 'Template Variables'.
</p>

<p>
In your fancyboxTV, click 'Add Item'. Fill the fields for Image and Title.
</p>

<p>
Add as many images as you want to add to your Content.
</p>

<p>
Now write your content to your Richtext-Field and add placeholders like&nbsp;[[+img.0]] ,&nbsp;[[+img.1]],&nbsp;[[+img.2]] to your Text.
</p>

<p>
When you view the result on your frontpage you will see small image-thumbnails in your text, where you did add these placeholders.
</p>

<p>
Click them and you will see nice fancyboxes with big images.
</p>

<div class='panelMacro'>
<table class='noteMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
Don't forget to save your Resource, when you are ready with adding/editing images with MIGX
</td>
</tr>
</table>
</div>
<h2>
<a name="Rampart.preHook.RampartRegister-preHook.RampartRegister" id="Rampart.preHook.RampartRegister-preHook.RampartRegister"></a>preHook.RampartRegister
</h2>

<p>
To enable Rampart spam prevention on your Register forms, simply add preHook.RampartRegister as a preHook:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Register?
  &amp;preHooks=`math,preHook.RampartRegister`
  &amp;moderatedResourceId=`217`
  &amp;submittedResourceId=`194`
  &amp;activationResourceId=`193`
  &amp;submitVar=`login-register-btn`
]]
</pre>
</div>
</div>

<p>
If you set the moderatedResourceId property, it will redirect registrations that have been flagged as possible spammers to that Resource instead of the normal &amp;submittedResourceId page.
</p>

<p>
Rampart will then prevent spam registrations by flagging spam users and preventing their accounts from being activated until they are approved. You can approve flagged users in the Rampart Custom Manager Page, in the MODX admin. Once approved, the flagged user will receive their confirmation email and must confirm before being activated.
</p>

<h3>
<a name="Rampart.preHook.RampartRegister-HowDoesitWork%3F"></a>How Does it Work?
</h3>

<p>
Rampart compares registrations against your ban list that you can edit in the Custom Manager Page. If a user tries to register and matches one of those ban patterns, it will prevent Registration at all.
</p>

<p>
It also checks with <a href="http://stopforumspam.com/" class="external-link" rel="nofollow">StopForumSpam</a> for any flagged emails, and username+ip combinations. If they're found, it will mark the registration as 'flagged', and prevent activation of the user (and the sending of the activation email) until the registration has been approved by a moderator via the Custom Manager Page.
</p>

<h2>
<a name="Rampart.preHook.RampartRegister-AvailableProperties" id="Rampart.preHook.RampartRegister-AvailableProperties"></a>Available Properties
</h2>

<p>
It has the following properties to be passed into the Register snippet call:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
name
</th>
<th class='confluenceTh'>
description
</th>
<th class='confluenceTh'>
default
</th>
</tr>

<tr>
<td class='confluenceTd'>
rptSpammerErrorMessage
</td>
<td class='confluenceTd'>
The field-specific message that will show when a banned user tries to sign up.
</td>
<td class='confluenceTd'>
Your account has been banned as a spammer. Sorry.
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="Rampart.preHook.RampartRegister-SeeAlso" id="Rampart.preHook.RampartRegister-SeeAlso"></a>See Also
</h2>

<div class="plugin_pagetree">
<div style="margin-left: 2em" class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
<div class="plugin_pagetree_children">
</div>
</div>

<fieldset class="hidden">
<input type="hidden" name="treeId" value="" /> <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false" /> <input type="hidden" name="treePageId" value="33947779" /> <input type="hidden" name="noRoot" value="false" /> <input type="hidden" name="rootPageId" value="33947777" /> <input type="hidden" name="rootPage" value="" /> <input type="hidden" name="startDepth" value="0" /> <input type="hidden" name="spaceKey" value="ADDON" /> <input type="hidden" name="i18n-pagetree.loading" value="Loading..." /> <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page." /> <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information." /> <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2FADDON%2FRampart.preHook.RampartRegister" />
<fieldset class="hidden">
<input type="hidden" name="ancestorId" value="33947777" />
</fieldset>
</fieldset>
</div>
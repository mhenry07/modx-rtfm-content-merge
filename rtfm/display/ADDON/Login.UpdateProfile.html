<div>
<ul>
<li>
<a href="extras/revo/login/login.updateprofile#Login.UpdateProfile-WhatisUpdateProfile%3F">What is UpdateProfile?</a>
</li>

<li>
<a href="extras/revo/login/login.updateprofile#Login.UpdateProfile-Usage">Usage</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="extras/revo/login/login.updateprofile#Login.UpdateProfile-UpdateProfileProperties">UpdateProfile Properties</a>
</li>

<li>
<a href="extras/revo/login/login.updateprofile#Login.UpdateProfile-TheUpdateProfileForm">The UpdateProfile Form</a>
</li>
</ul>
</li>

<li>
<a href="extras/revo/login/login.updateprofile#Login.UpdateProfile-SeeAlso">See Also</a>
</li>
</ul>
</div>

<h2>
<a name="Login.UpdateProfile-WhatisUpdateProfile%3F"></a>What is UpdateProfile?
</h2>

<p>
UpdateProfile is a simple Snippet that allows users who are logged in the in the front-end the ability to edit their profile.
</p>

<h2>
<a name="Login.UpdateProfile-Usage" id="Login.UpdateProfile-Usage"></a>Usage
</h2>

<p>
To use the profile editing functionality, first create the Resource the user will go to to edit their profile. Then, add the UpdateProfile snippet:
</p>

<pre class="brush: xml">
[[!UpdateProfile? &amp;validate=`fullname:required,email:required:email`]]&lt;br&gt;
</pre>
<h2>
UpdateProfile Properties
</h2>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
submitVar
</td>
<td>
The name of the form submit button that triggers the submission.
</td>
<td>
login-updprof-btn
</td>
</tr>

<tr>
<td>
validate
</td>
<td>
A comma-separated list of fields to validate, with each field name as name:validator (eg: username:required,email:required). <a href="/display/ADDON/FormIt.Validators" title="FormIt.Validators">Validators</a> can also be chained, like email:email:required. This property can be specified on multiple lines.
</td>
<td>
</td>
</tr>

<tr>
<td>
redirectToLogin
</td>
<td>
If true, will redirect non-logged-in users that visit the page with the snippet to the Unauthorized Page.
</td>
<td>
1
</td>
</tr>

<tr>
<td>
reloadOnSuccess
</td>
<td>
If true, the page will redirect to itself with a GET parameter to prevent double-postbacks. If false, it will simply set a success placeholder.
</td>
<td>
1
</td>
</tr>

<tr>
<td>
emailField
</td>
<td>
The field name for the email field in the form.
</td>
<td>
email
</td>
</tr>

<tr>
<td>
preHooks
</td>
<td>
A comma-separated list of 'hooks', or Snippets, that will be executed before the user's profile is updated but after validation. Also can specify 'captcha' as a hook.
</td>
<td>
</td>
</tr>

<tr>
<td>
postHooks
</td>
<td>
A comma-separated list of 'hooks', or Snippets, that will be executed after the user's profile is updated.
</td>
<td>
</td>
</tr>

<tr>
<td>
syncUsername
</td>
<td>
If set to a column name in the Profile, UpdateProfile will attempt to sync the username to this field after a successful save.
</td>
<td>
</td>
</tr>

<tr>
<td>
useExtended
</td>
<td>
Whether or not to set any extra fields in the form to the Profiles extended field. This can be useful for storing extra user fields.
</td>
<td>
1
</td>
</tr>

<tr>
<td>
excludeExtended
</td>
<td>
A comma-separated list of fields to exclude from setting as extended fields.
</td>
<td>
</td>
</tr>

<tr>
<td>
placeholderPrefix
</td>
<td>
The prefix to use for all placeholders set by this snippet.
</td>
<td>
</td>
</tr>
</tbody>
</table>

<h2>
UpdateProfile Form
</h2>

<p>
Then, below this, add in the following HTML (removing any fields you'd like) to be the form. Feel free to style it and adjust the markup (just don't change the form field names). This is also found in core/components/login/chunks/lgnupdateprofile.chunk.tpl.
</p>

<pre class="brush: php">
&lt;div class="update-profile"&gt;
    &lt;div class="updprof-error"&gt;[[+error.message]]&lt;/div&gt;
    [[+login.update_success:if=`[[+login.update_success]]`:is=`1`:then=`[[%login.profile_updated? &amp;namespace=`login` &amp;topic=`updateprofile`]]`]]
    &lt;form class="form" action="[[~[[*id]]]]" method="post"&gt;
        &lt;input type="hidden" name="nospam" value="" /&gt;
        &lt;label for="fullname"&gt;[[!%login.fullname? &amp;namespace=`login` &amp;topic=`updateprofile`]]
            &lt;span class="error"&gt;[[+error.fullname]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="fullname" id="fullname" value="[[+fullname]]" /&gt;
        &lt;label for="email"&gt;[[!%login.email]]
            &lt;span class="error"&gt;[[+error.email]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="email" id="email" value="[[+email]]" /&gt;
        &lt;label for="phone"&gt;[[!%login.phone]]
            &lt;span class="error"&gt;[[+error.phone]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="phone" id="phone" value="[[+phone]]" /&gt;
        &lt;label for="mobilephone"&gt;[[!%login.mobilephone]]
            &lt;span class="error"&gt;[[+error.mobilephone]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="mobilephone" id="mobilephone" value="[[+mobilephone]]" /&gt;
        &lt;label for="fax"&gt;[[!%login.fax]]
            &lt;span class="error"&gt;[[+error.fax]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="fax" id="fax" value="[[+fax]]" /&gt;
        &lt;label for="address"&gt;[[!%login.address]]
            &lt;span class="error"&gt;[[+error.address]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="address" id="address" value="[[+address]]" /&gt;
        &lt;label for="country"&gt;[[!%login.country]]
            &lt;span class="error"&gt;[[+error.country]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="country" id="country" value="[[+country]]" /&gt;
        &lt;label for="city"&gt;[[!%login.city]]
            &lt;span class="error"&gt;[[+error.city]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="city" id="city" value="[[+city]]" /&gt;
        &lt;label for="state"&gt;[[!%login.state]]
            &lt;span class="error"&gt;[[+error.state]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="state" id="state" value="[[+state]]" /&gt;
        &lt;label for="zip"&gt;[[!%login.zip]]
            &lt;span class="error"&gt;[[+error.zip]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="zip" id="zip" value="[[+zip]]" /&gt;
        &lt;label for="website"&gt;[[!%login.website]]
            &lt;span class="error"&gt;[[+error.website]]&lt;/span&gt;
        &lt;/label&gt;
        &lt;input type="text" name="website" id="website" value="[[+website]]" /&gt;
        &lt;br class="clear" /&gt;
        &lt;div class="form-buttons"&gt;
            &lt;input type="submit" name="login-updprof-btn" value="[[!%login.update_profile]]" /&gt;
        &lt;/div&gt;
    &lt;/form&gt;
&lt;/div&gt;
</pre>
<h2>
<a name="Login.UpdateProfile-SeeAlso" id="Login.UpdateProfile-SeeAlso"></a>See Also
</h2>
<p>
<br class="atl-forced-newline" />
</p>

<div>
<ul>
<li>
<a href='#Rowboat.Rowboat-TheRowboatSnippet'>The Rowboat Snippet</a>
</li>

<li>
<a href='#Rowboat.Rowboat-Usage'>Usage</a>
</li>

<li>
<a href='#Rowboat.Rowboat-AvailableProperties'>Available Properties</a>
</li>

<li>
<a href='#Rowboat.Rowboat-tplChunkProperties'>tpl Chunk Properties</a>
</li>

<li>
<a href='#Rowboat.Rowboat-Examples'>Examples</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#Rowboat.Rowboat-UsinggetPagewithRowboat'>Using getPage with Rowboat</a>
</li>
</ul>
</li>

<li>
<a href='#Rowboat.Rowboat-Gotchas'>Gotchas</a>
</li>

<li>
<a href='#Rowboat.Rowboat-SeeAlso'>See Also</a>
</li>
</ul>
</div>

<h2>
<a name="Rowboat.Rowboat-TheRowboatSnippet"></a>The Rowboat Snippet
</h2>

<p>
This snippet iterates across rows for any database table.
</p>

<h2>
<a name="Rowboat.Rowboat-Usage"></a>Usage
</h2>

<p>
Display the first 10 Doodles in the modx_doodles table, sorted by name:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Rowboat?
   &amp;table=`modx_doodles`
   &amp;tpl=`myDoodle`
   &amp;limit=`10`
   &amp;sortBy=`name`
]]
</pre>
</div>
</div>

<p>
Using the following Chunk, "myDoodle":
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;li id=<span class="code-quote">"doodle[[+id]]"</span>&gt;&lt;strong&gt;[[+name]]&lt;/strong&gt; - [[+description]]&lt;/li&gt;
</pre>
</div>
</div>

<h2>
<a name="Rowboat.Rowboat-AvailableProperties"></a>Available Properties
</h2>

<div class='table-wrap'>
<table id='TBL1376497247114' class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default
</th>
</tr>

<tr>
<td class='confluenceTd'>
tpl
</td>
<td class='confluenceTd'>
The Chunk to use for each row. If empty, will output an array of placeholders that are available.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
table
</td>
<td class='confluenceTd'>
Required. The table to grab records from.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
columns
</td>
<td class='confluenceTd'>
A JSON object of columns and aliases for those columns to grab for the row. If not set, will grab all columns in the table.
</td>
<td class='confluenceTd'>
*
</td>
</tr>

<tr>
<td class='confluenceTd'>
where
</td>
<td class='confluenceTd'>
A JSON object for a where statement.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
sortBy
</td>
<td class='confluenceTd'>
If set, will sort by this field.
</td>
</tr>

<tr>
<td class='confluenceTd'>
sortDir
</td>
<td class='confluenceTd'>
The direction to sort by.
</td>
<td class='confluenceTd'>
ASC
</td>
</tr>

<tr>
<td class='confluenceTd'>
limit
</td>
<td class='confluenceTd'>
The number of rows to limit per call. Defaults to 10. Set to 0 to show all.
</td>
<td class='confluenceTd'>
10
</td>
</tr>

<tr>
<td class='confluenceTd'>
offset
</td>
<td class='confluenceTd'>
The start index to begin with when limiting.
</td>
<td class='confluenceTd'>
0
</td>
</tr>

<tr>
<td class='confluenceTd'>
cacheResults
</td>
<td class='confluenceTd'>
If set to 1, will cache the results of the specific query.
</td>
<td class='confluenceTd'>
1
</td>
</tr>

<tr>
<td class='confluenceTd'>
cacheTime
</td>
<td class='confluenceTd'>
If cacheResults is set to 1, the number of seconds to cache the query for.
</td>
<td class='confluenceTd'>
3600
</td>
</tr>

<tr>
<td class='confluenceTd'>
placeholderPrefix
</td>
<td class='confluenceTd'>
The prefix to use when setting global placeholders, such as total.
</td>
<td class='confluenceTd'>
rowboat.
</td>
</tr>

<tr>
<td class='confluenceTd'>
outputSeparator
</td>
<td class='confluenceTd'>
The separator between each user record.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
toPlaceholder
</td>
<td class='confluenceTd'>
Optional. If set, will set the output to this placeholder and return empty.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
debug
</td>
<td class='confluenceTd'>
Optional. If set to 1, will output a table of information about the generated query and results. Always leave at 0 for production sites.
</td>
<td class='confluenceTd'>
0
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="Rowboat.Rowboat-tplChunkProperties"></a>tpl Chunk Properties
</h2>

<p>
In your &amp;tpl Chunk, you will have all the columns that you selected as properties, as well as:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
</tr>

<tr>
<td class='confluenceTd'>
_idx
</td>
<td class='confluenceTd'>
The index of this row.
</td>
</tr>

<tr>
<td class='confluenceTd'>
_alt
</td>
<td class='confluenceTd'>
1 if is an even row, 0 if odd.
</td>
</tr>

<tr>
<td class='confluenceTd'>
_first
</td>
<td class='confluenceTd'>
If this row is the first of this paged result set, then this will be 1.
</td>
</tr>

<tr>
<td class='confluenceTd'>
_last
</td>
<td class='confluenceTd'>
If this row is the last of this paged result set, then this will be 1.
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="Rowboat.Rowboat-Examples"></a>Examples
</h2>

<p>
Grab top 10 Doodles, sorted by name, from modx_doodles that have "Test" in their name:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Rowboat?
   &amp;table=`modx_doodles`
   &amp;tpl=`myDoodle`
   &amp;limit=`10`
   &amp;where=`{<span class="code-quote">"name:LIKE"</span>:<span class="code-quote">"%Test%"</span>}`
   &amp;sortBy=`name`
]]
</pre>
</div>
</div>

<p>
Grab only the id, name and description (with description aliased as "desc") columns from the above example: (note that non-aliased columns need a blank "" for the alias)
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Rowboat?
   &amp;table=`modx_doodles`
   &amp;tpl=`myDoodle`
   &amp;columns=`{<span class="code-quote">"id"</span>:<span class="code-quote">"","</span>name<span class="code-quote">":"</span><span class="code-quote">","</span>description<span class="code-quote">":"</span>desc"}`
   &amp;limit=`10`
   &amp;where=`{<span class="code-quote">"name:LIKE"</span>:<span class="code-quote">"%Test%"</span>}`
   &amp;sortBy=`name`
]]
</pre>
</div>
</div>

<p>
Grab 10 Doodles where description isn't empty <b>or</b> the name is "Test":
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!Rowboat?
   &amp;table=`modx_doodles`
   &amp;tpl=`myDoodle`
   &amp;limit=`10`
   &amp;where=`{<span class="code-quote">"description:!="</span>:<span class="code-quote">"","</span>OR:name<span class="code-quote">":"</span>Test"}`
   &amp;sortBy=`name`
]]
</pre>
</div>
</div>

<div class='panelMacro'>
<table class='noteMacro'>
<colgroup>
<col width='24' />
<col />
</colgroup>

<tr>
<td valign='top'>
<img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0" />
</td>
<td>
More to come shortly.
</td>
</tr>
</table>
</div>

<h3>
<a name="Rowboat.Rowboat-UsinggetPagewithRowboat"></a>Using <a href="/display/ADDON/getPage" title="getPage">getPage</a> with Rowboat
</h3>

<p>
It's pretty simple - just make sure to set the totalVar property in your getPage call as "rowboat.total", and have cache=`0` in the getPage call. For example, this will grab all doodles where the name contains "Fun", paginate them to 10 per page, and add page navigation:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
[[!getPage?
   &amp;element=`Rowboat`
   &amp;table=`modx_doodles`
   &amp;sortBy=`name`
   &amp;where=`{<span class="code-quote">"name:LIKE"</span>:<span class="code-quote">"%Fun%"</span>}`
   &amp;totalVar=`rowboat.total`
   &amp;tpl=`myDoodle`
   &amp;cache=`0`
   &amp;limit=`10`
]]
&lt;div class=<span class="code-quote">"paging"</span>&gt;
&lt;ul class=<span class="code-quote">"pageList"</span>&gt;
  [[!+page.nav]]
&lt;/ul&gt;
&lt;/div&gt;
</pre>
</div>
</div>

<h2>
<a name="Rowboat.Rowboat-Gotchas"></a>Gotchas
</h2>

<p>
Be careful about the &amp;columns argument: if you list a column that does not exist, the RowBoat Snippet call will return no results.
</p>

<h2>
<a name="Rowboat.Rowboat-SeeAlso"></a>See Also
</h2>

<div class="plugin_pagetree">
<div style="margin-left: 2em" class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
<div class="plugin_pagetree_children">
</div>
</div>

<fieldset class="hidden">
<input type="hidden" name="treeId" value="" /> <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false" /> <input type="hidden" name="treePageId" value="33947924" /> <input type="hidden" name="noRoot" value="false" /> <input type="hidden" name="rootPageId" value="33947922" /> <input type="hidden" name="rootPage" value="" /> <input type="hidden" name="startDepth" value="0" /> <input type="hidden" name="spaceKey" value="ADDON" /> <input type="hidden" name="i18n-pagetree.loading" value="Loading..." /> <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page." /> <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information." /> <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2FADDON%2FRowboat.Rowboat" />
<fieldset class="hidden">
<input type="hidden" name="ancestorId" value="33947922" />
</fieldset>
</fieldset>
</div>
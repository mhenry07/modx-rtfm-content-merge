<h2>
<a name="xPDO.getCollectionGraph-xPDO%3A%3AgetCollectionGraph"></a>xPDO::getCollectionGraph
</h2>

<p>
Retrieves a collection of xPDOObjects and related objects by the specified xPDOCriteria.
</p>

<p>
If none are found, returns an empty array.
</p>

<h2>
<a name="xPDO.getCollectionGraph-Syntax" id="xPDO.getCollectionGraph-Syntax"></a>Syntax
</h2>

<p>
API Docs: <a href="http://api.modx.com/xpdo/xPDO.html#getCollectionGraph" class="external-link" rel="nofollow">http://api.modx.com/xpdo/xPDO.html#getCollectionGraph</a>
</p>

<pre class="brush: php">
    
&lt;object class="MyClassName" table="my_class_name" extends="xPDOObject"&gt;

    
</pre>
<h2>
<a name="xPDO.getCollectionGraph-Example" id="xPDO.getCollectionGraph-Example"></a>Example
</h2>

<p>
Get a collection of Box objects with related BoxColors and Color objects, where the Box has a width of 40.
</p>

<pre class="brush: php">
    
$criteria['modResource.id:IN'] = array(1,2,3);
$criteria['TemplateVarResources.tmplvarid'] = 5;
$criteria = $modx-&gt;newQuery('modResource', $criteria);
$criteria-&gt;prepare();
print $criteria-&gt;toSQL();
$pages = $modx-&gt;getCollectionGraph('modResource', '{"TemplateVarResources":{"TemplateVar":{}}}', $criteria);

    
</pre>
<p>
If you look at the query, you'll see there is nothing inherent in the $criteria object that specifies a JOIN. You're specifying columns in multiple tables (modResource and TemplateVarResources), but if you look at the query when you use the toSQL() method, you'll find that the query will not execute.
</p>

<p>
The join on the related tables occurs in this case when the getCollectionGraph() function is executed, so trying to print the SQL prior to that moment will not produce an accurate result.
</p>

<h2>
<a name="xPDO.getCollectionGraph-SeeAlso" id="xPDO.getCollectionGraph-SeeAlso"></a>See Also
</h2>

<ul>
<li>
<a href="display/xPDO20/Retrieving+Objects" title="Retrieving Objects">Retrieving Objects</a>
</li>

<li>
<a href="display/xPDO20/xPDO.getCollectionGraph" title="xPDO.getCollectionGraph">xPDO.getCollectionGraph</a>
</li>

<li>
<a href="display/xPDO20/xPDO.getIterator" title="xPDO.getIterator">xPDO.getIterator</a>
</li>

<li>
<a href="display/xPDO20/xPDO.getObject" title="xPDO.getObject">xPDO.getObject</a>
</li>

<li>
<a href="display/xPDO20/xPDO" title="xPDO">xPDO</a>
</li>
</ul>
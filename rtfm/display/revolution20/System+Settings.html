<div>
<ul>
<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-CreatingnewSystemSettings%28viatheGUI%29">Creating new System Settings (via the GUI)</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-Parameters">Parameters</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-Localization">Localization</a>
</li>
</ul>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-UsingSystemSettingsinyourCode">Using System Settings in your Code</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-GettingaSystemSetting%28programmatically%29">Getting a System Setting (programmatically)</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-SavingaSystemSetting%28programmatically%29">Saving a System Setting (programmatically)</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-RetrievingaSetting%27sMetaData">Retrieving a Setting's Meta Data</a>
</li>
</ul>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-RetrievingalistofRelatedSettings">Retrieving a list of Related Settings</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-CreatingaSystemSettingProgrammatically">Creating a System Setting Programmatically</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-TypesofSystemSettings">Types of System Settings</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings#SystemSettings-SettingsList">Settings List</a>
</li>
</ul>
</div>

<p>
MODx comes with a flexible amount of system settings. They are found in System -&gt; System Settings, and can easily be edited and changed. All system settings are available in your templates by using the [[++placeholder]] notation. See <a href="display/revolution20/Commonly+Used+Template+Tags" class="external-link" rel="nofollow">Template Tags</a> for more information.
</p>
<object width="780" height="500">
<param name="movie" value="http://vimeo.com/moogaloop.swf?clip_id=10433411&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" />
<param name="allowFullScreen" value="true" />
<param name="allowscriptaccess" value="always" />
<embed src="http://vimeo.com/moogaloop.swf?clip_id=10433411&amp;server=vimeo.com&amp;show_title=1&amp;show_byline=1&amp;show_portrait=0&amp;color=&amp;fullscreen=1" type="application/x-shockwave-flash" allowfullscreen="true" allowscriptaccess="always" width="780" height="500" flashvars="$flashVars" />
</object>
<h2>
<a name="SystemSettings-CreatingnewSystemSettings%28viatheGUI%29"></a>Creating new System Settings (via the GUI)
</h2>

<p>
To create a new system setting, click the "Create New Settings" link under System -&gt; System Settings.
</p>

<p>
<span class="image-wrap" style="display: block; text-align: center"><img src="download/attachments/18678127/system+settings+annotated.png?version=1&amp;modificationDate=1303174387000" style="border: 0px solid black" /></span>
</p>

<h3>
<a name="SystemSettings-Parameters"></a>Parameters
</h3>

<ul>
<li>Key: This is ultimately the unique name of your [[++placeholder]]
</li>

<li>Name: This is the label displayed in the "Name" column while viewing all system settings. This value can be localized (see below).
</li>

<li>Field Type: There are currently 3 supported input types: TextField, TextArea, Yes/No
</li>

<li>Namespace: as with <a href="display/revolution20/Custom+Manager+Pages" title="Custom Manager Pages">Custom Manager Pages</a>, the namespace defines a folder inside core/components/.
</li>

<li>Area Lexicon Entry: this value affects the grouping of system settings; create multiple system settings that share the "Area Lexicon Entry" and they will be grouped together.
</li>

<li>Value: The default value.
</li>

<li>Description: This value can be localized (see below).
</li>
</ul>

<h3>
<a name="SystemSettings-Localization"></a>Localization
</h3>

<p>
The values used to describe system settings can be optionally localized (i.e. translated) by referencing a specific localization file. The lexicon keys follow a specific format:
</p>

<ul>
<li>Name: <tt>setting_</tt> + <em>Key</em>
</li>

<li>Description: <tt>setting_</tt> + <em>Key</em> + <tt>_desc</tt>
</li>
</ul>

<p>
For example, if we look at Quip's [[++quip.emailsFrom]] setting, we see that it uses the the <strong>quip</strong> namespace. The expected folder structure is to look for localization files in the namespace's folder, then in a "lexicon" folder, then in folders divided by language codes, and then in the <strong>default.inc.php</strong> file, for example <strong>core/components/quip/lexicon/en/default.inc.php</strong>
</p>

<p>
In our Quip example, we see a name of <em>setting_quip.emailsFrom</em> and a description of <em>setting_quip.emailsFrom_desc</em>. These two values correspond to keys in the <strong>$_lang</strong> array inside of <strong>default.inc.php</strong>:
</p>

<pre class="brush: php">
$siteStartId = $modx-&gt;getOption('site_start');
</pre>
<div class="note">
In WordPress, the comparable API function is <strong>get_option()</strong>.
</div>

<p>
This function retrieves the value from the settings cache.
</p>

<h3>
<a name="SystemSettings-SavingaSystemSetting%28programmatically%29"></a>Saving a System Setting (programmatically)
</h3>

<p>
Here's where things get a little bit more complicated: when we retrieve the value using <a href="display/xPDO20/getOption" title="getOption">getOption</a>, we are retrieving the object from the settings cache. This has the distinct advantage of speed, but it means that we essentially have a read-only copy of the setting's value.
</p>

<p>
This is for architectural reasons: the system settings are meant to defined as <em>configurations</em>, <strong>NOT runtime dynamic values</strong>. They are typically set at the time of install and then not often updated. However, there may be legitimate times when you need to update system settings programmatically, e.g. perhaps you have written a <a href="display/revolution20/Custom+Manager+Pages+Tutorial" title="Custom Manager Pages Tutorial">Custom Manager Page</a> that offers a customized form to your users for its system settings.
</p>

<p>
If we want to update a system setting, we default to the powerful xPDO <a href="display/xPDO20/xPDO.getObject" title="xPDO.getObject">getObject</a> function. So let's revisit our retrieval of a simple site setting and compare it side by side with the more verbose (and more flexible) xPDO counterpart:
</p>

<pre class="brush: php">
$Setting = $modx-&gt;getObject('modSystemSetting', 'site_name');
$Setting-&gt;set('value', 'My New Site Name');
$Setting-&gt;save();
</pre>
<p>
However, note that this does not clear the settings cache, so any subsequent calls to <strong>getOption</strong> will still return the older cached version of the setting.
</p>

<p>
To rectify this in MODx 2.0.x, you have to clear the <em>entire</em> cache, including your page cache. Clearing your entire cache frequently could slow down your system because it would keep having to rebuild it:
</p>

<pre class="brush: php">
// clear cache in MODx 2.1.x
$cacheRefreshOptions =  array( 'system_settings' =&gt; array() );
$modx-&gt;cacheManager-&gt; refresh($cacheRefreshOptions);
</pre>
<div class="note">
In WordPress, the comparable API function is <strong>update_option()</strong>.
</div>

<h3>
<a name="SystemSettings-RetrievingaSetting%27sMetaData"></a>Retrieving a Setting's Meta Data
</h3>

<p>
Once we start retrieving the <em>Objects</em> that represent the system settings instead of just their value, we can see all of the meta data for any given setting (i.e. all of the attributes). Look at this code as an example:
</p>

<pre class="brush: php">
$relatedSettings = $modx-&gt;getCollection('modSystemSetting', array('area'=&gt;'Mail'));
foreach ( $relatedSettings as $Setting ) {
        print $Setting-&gt;get('value');
}
</pre>
<p>
This leads us naturally to one of xPDO's other features: the <a href="display/xPDO20/xPDOQuery" title="xPDOQuery">Query</a> object. We can use it to pass more complex criteria to our <strong>getCollection call</strong>. Here's how we would pull up all settings that used the prefix of "quip.":
</p>

<pre class="brush: php">
$MySetting = $modx-&gt;newObject('modSystemSetting');
$MySetting-&gt;set('key', 'mykey');
$MySetting-&gt;set('value', 'my_value');
$MySetting-&gt;set('xtype', 'textfield');
$MySetting-&gt;set('namespace', 'my_namespace');
$MySetting-&gt;set('area', 'MyArea');
$MySetting-&gt;save();
// Clear the cache:
$cacheRefreshOptions =  array( 'system_settings' =&gt; array() );
$modx-&gt;cacheManager-&gt; refresh($cacheRefreshOptions);
</pre>
<p>
Note that you must create lexicon entries that match your key name (see the section above on Localization):
</p>

<ul>
<li>Name: <tt>setting_</tt> + <em>Key</em>
</li>

<li>Description: <tt>setting_</tt> + <em>Key</em> + <tt>_desc</tt>
</li>
</ul>

<p>
So in this example, you would need to add the following lexicon entries to a lexicon that you have loaded:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
$_lang['setting_mykey'] = 'Name of My Setting';
$_lang['setting_mykey_desc'] = 'Description of my key';
                
</pre>
</div>
</div>

<p>
MODX will populate the values for the name and description based on those lexicon entries.
</p>

<p>
You may find it useful to reference your localized language strings inside your Templates or CMPs. You can do this via a lexicon tag, but you must specify the "setting" topic, e.g.
</p>

<pre class="brush: php">
[[!%setting_emailsender? &amp;topic=`setting` &amp;namespace=`core` &amp;language=`en`]]
</pre>
<h2>
<a name="SystemSettings-TypesofSystemSettings"></a>Types of System Settings
</h2>

<p>
The <strong>xtype</strong> attribute defines what type of field the GUI will use when rendering the interface for this field:
</p>

<ul>
<li>
<strong>combo-boolean</strong> : stored values are 1 and 0; the GUI will display "Yes" and "No"
</li>

<li>
<strong>textfield</strong> : standard text field
</li>

<li>
<strong>textarea</strong> : standard textearea
</li>

<li>
<strong>text-password</strong> : standard password field (input is masked)
</li>

<li>
<strong>numberfield</strong> : used for entering numbers
</li>

<li>
<strong>modx-combo-language</strong> : allows user to select a language
</li>

<li>
<strong>modx-combo-source</strong> :
</li>

<li>
<strong>modx-combo-template</strong> : allows user to select a template
</li>

<li>
<strong>modx-combo-content-type</strong> : allows user to select a content type
</li>

<li>
<strong>modx-combo-charset</strong> : allows user to select a character set
</li>

<li>
<strong>modx-combo-rte</strong> : like the textarea, but with formatting controls
</li>

<li>
<strong>modx-combo-context</strong> : allows user to select a context
</li>
</ul>

<h2>
<a name="SystemSettings-SettingsList"></a>Settings List
</h2>

<p>
A description of each setting follows:
</p>

<ol class="ug-toc">
<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings/access_category_enabled">access_category_enabled</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings/access_context_enabled">access_context_enabled</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings/access_resource_group_enabled">access_resource_group_enabled</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings/allow_duplicate_alias">allow_duplicate_alias</a>
</li>

<li>
<a href="revolution/2.x/administering-your-site/settings/system-settings/allow_forward_across_contexts">allow_forward_across_contexts</a>
</li>
</ol>
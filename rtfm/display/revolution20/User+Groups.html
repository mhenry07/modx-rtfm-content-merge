<p>
<br class="atl-forced-newline" />
</p>

<h2>
<a name="UserGroups-WhatisaUserGroup%3F"></a>What is a User Group?
</h2>

<p>
A User Group is simply a collection of Users.
</p>

<h2>
<a name="UserGroups-Usage" id="UserGroups-Usage"></a>Usage
</h2>

<p>
Go to Security -&gt; Access Controls. From there you will see a tree of User Groups and their respective Users. You can assign a User to a User Group by right-clicking on the User Group and either:
</p>

<ul>
<li>Adding the User via the context menu item
</li>

<li>Editing the User Group and adding a User on the grid there
</li>
</ul>

<h3>
<a name="UserGroups-AssigningPolicies" id="UserGroups-AssigningPolicies"></a>Assigning Policies
</h3>

<p>
A quick clarification on which policies to use:
</p>

<ul>
<li>Policies assigned on the Context Access tab should be based on the standard Administrator policy.
</li>

<li>Policies assigned on the Resource Group Access tab should be based on the standard Resource policy.
</li>

<li>Policies assigned on the Element Category Access tab should be based on the standard Element policy.
</li>
</ul>

<h2>
<a name="UserGroups-RolesinUserGroups" id="UserGroups-RolesinUserGroups"></a>Roles in User Groups
</h2>

<p>
Users can have specific Roles within a User Group, should you choose. They can also exist in the User Group without a Role. Roles allow you to fine-tune your permissions more than in previous MODx versions.
</p>

<p>
Say you want to only allow Supervisors in the "HR Department" User Group access to some Resources; no problem. Just create a Role called "Supervisor", set its authority to some number below 9999 (let's say 3), and then add in the Users to the User Group "HR Department" (via the User Group editing screen), setting any would-be supervisors to the Supervisor Role.
</p>

<p>
Then, you'll just add a Resource Policy (the packaged-in-with-modx one will do fine) to the Resource Group you want to restrict access to. It will look something like this:
</p>

<p>
<span class="image-wrap" style=""><img src="/download/attachments/18678087/ug-rg-grid1.png?version=1&amp;modificationDate=1268850005000" style="border: 0px solid black" /></span>
</p>

<p>
And you've got a role-based access permission! This specific ACL will limit all Resources (aka Documents) in the web context and in the resource group "TestResourceGroup4" to only Users in the "HR Department" User Group with at least a Role of Supervisor. Roles with lower authority numbers would also inherit access - say you had a Coordinator Role with an authority of 2; Users in this User Group would have access to this ACL as well.
</p>

<h3>
<a name="UserGroups-" id="UserGroups-"></a><font color="#000000">Assigning User Groups and Roles via the MODX API</font>
</h3>

<p>
When working with the modUser object in the MODX API, you can assign access permissions via modUser::<a href="http://api.modx.com/revolution/2.1/_model_modx_moduser.class.html#%5CmodUser::joinGroup()" class="external-link" rel="nofollow">joinGroup</a>. Using this method, you can add&nbsp;a user directly to a User Group, and optionally assign a Role.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;?php
<span class="code-comment">// Get modUser object
</span>$user = $modx-&gt;getObject('modUser', array('username' =&gt; $username));
<span class="code-keyword">if</span>( $user ){
    $user-&gt;save();
    <span class="code-comment">// Assign <span class="code-keyword">new</span> user to User Group / Role
</span>    $user-&gt;joinGroup('UserGroupNameOrId','OptionalRoleNameOrId');}
?&gt;
</pre>
</div>
</div>

<h2>
<a name="UserGroups-SeeAlso" id="UserGroups-SeeAlso"></a>See Also
</h2>

<div class="plugin_pagetree">
<div style="margin-left: 2em" class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
<div class="plugin_pagetree_children">
</div>
</div>

<fieldset class="hidden">
<input type="hidden" name="treeId" value="" /> <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false" /> <input type="hidden" name="treePageId" value="18678087" /> <input type="hidden" name="noRoot" value="false" /> <input type="hidden" name="rootPageId" value="18678085" /> <input type="hidden" name="rootPage" value="" /> <input type="hidden" name="startDepth" value="0" /> <input type="hidden" name="spaceKey" value="revolution20" /> <input type="hidden" name="i18n-pagetree.loading" value="Loading..." /> <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page." /> <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information." /> <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2Frevolution20%2FUser%2BGroups" />
<fieldset class="hidden">
<input type="hidden" name="ancestorId" value="18678085" />
</fieldset>
</fieldset>
</div>
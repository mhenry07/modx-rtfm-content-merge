<h2>
What is a User Group?
</h2>

<p>
User Groups are used by MODX to define permissions. Unlike some CMS's, in MODX a User can belong to <em>multiple</em> User Groups.
</p>

<h2>
Usage
</h2>

<p>
Permissions in MODX are granted to <em>User Groups</em>, not to individual users, so a User must belong to at least one User Group in order to have any permissions. In other words, what a User can or cannot do depends on which User Groups the User belongs to. In other CMS's this concept is sometimes referred to as a "role".
</p>

<p>
To edit a User Group's permissions, you need to go to Security -&gt; Access Controls, then right-click an existing User Group to update it, or create a new User Group.
</p>

<p>
A User Group can define access permissions to four areas:
</p>

<ul>
<li>
<strong>Context Access</strong> -- this is where you would define access to the manager or to a front-end login portal.
</li>

<li>
<strong>Resource Group Access</strong> -- this is where you would define access to a Resource Group
</li>

<li>
<strong>Element Category Access</strong> -- this is where you could limit access to only certain Chunks or to only certain fields within a resource.
</li>

<li>
<strong>Media Source Access</strong> -- this is where you could limit access to certain folders on the filesystem or S3 buckets.
</li>
</ul>

<h2>
Managing Members
</h2>

<p>
To add or remove Users to User Groups you can edit the User Groups when you edit a single User (Security -&gt; Manage Users) then right-click the User you want to edit and view the "Access Permissions" tab.
</p>

<p>
Another way to control this is by going to Security -&gt; Access Controls. From there you will see a tree of User Groups and their respective Users. You can assign a User to a User Group by right-clicking on the User Group and either:
</p>

<ul>
<li>Adding the User via the context menu item
</li>

<li>Editing the User Group and adding a User on the grid there
</li>
</ul>

<h3>
Assigning Policies
</h3>

<p>
A quick clarification on which policies to use:
</p>

<ul>
<li>Policies assigned on the Context Access tab should be based on the standard Administrator policy.
</li>

<li>Policies assigned on the Resource Group Access tab should be based on the standard Resource policy.
</li>

<li>Policies assigned on the Element Category Access tab should be based on the standard Element policy.
</li>
</ul>

<h2>
<a name="UserGroups-RolesinUserGroups" id="UserGroups-RolesinUserGroups"></a>Roles in User Groups
</h2>

<p>
Users can have specific Roles within a User Group, should you choose. They can also exist in the User Group without a Role. Roles allow you to fine-tune your permissions more than in previous MODx versions.
</p>

<p>
Say you want to only allow Supervisors in the "HR Department" User Group access to some Resources; no problem. Just create a Role called "Supervisor", set its authority to some number below 9999 (let's say 3), and then add in the Users to the User Group "HR Department" (via the User Group editing screen), setting any would-be supervisors to the Supervisor Role.
</p>

<p>
Then, you'll just add a Resource Policy (the packaged-in-with-modx one will do fine) to the Resource Group you want to restrict access to. It will look something like this:
</p>

<p>
<span class="image-wrap"><img src="download/attachments/18678087/ug-rg-grid1.png?version=1&amp;modificationDate=1268850005000" style="border: 0px solid black" /></span>
</p>

<p>
And you've got a role-based access permission! This specific ACL will limit all Resources (aka Documents) in the web context and in the resource group "TestResourceGroup4" to only Users in the "HR Department" User Group with at least a Role of Supervisor. Roles with lower authority numbers would also inherit access - say you had a Coordinator Role with an authority of 2; Users in this User Group would have access to this ACL as well.
</p>

<h3>
<a name="UserGroups-" id="UserGroups-"></a><font color="#000000">Assigning User Groups and Roles via the MODX API</font>
</h3>

<p>
When working with the modUser object in the MODX API, you can assign access permissions via modUser::<a href="http://api.modx.com/revolution/2.1/_model_modx_moduser.class.html#%5CmodUser::joinGroup()" class="external-link" rel="nofollow">joinGroup</a>. Using this method, you can add a user directly to a User Group, and optionally assign a Role.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
&lt;?php
&lt;span class="code-comment"&gt;// Get modUser object
&lt;/span&gt;$user = $modx-&gt;getObject('modUser', array('username' =&gt; $username));
&lt;span class="code-keyword"&gt;if&lt;/span&gt;( $user ){
    $user-&gt;save();
    &lt;span class="code-comment"&gt;// Assign &lt;span class="code-keyword"&gt;new&lt;/span&gt; user to User Group / Role
&lt;/span&gt;    $user-&gt;joinGroup('UserGroupNameOrId','OptionalRoleNameOrId');}
?&gt;
                
</pre>
</div>
</div>
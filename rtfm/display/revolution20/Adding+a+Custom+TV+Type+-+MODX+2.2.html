<div class="note">
This tutorial is for MODX Revolution 2.2 or greater.
</div>

<h2>
<a name="AddingaCustomTVType-MODX2.2-WhatareCustomTVInputTypes%3F"></a>What are Custom TV Input Types?
</h2>

<p>
MODx Revolution allows you to create your own custom TV input types (similar to the textbox, radio, textarea, richtext, etc types already available) for your <a href="display/revolution20/Template+Variables" title="Template Variables">Template Variables</a>. This tutorial will show a very simple example by loading a simple Template dropdown for us in the mgr, and then in the frontend will render our Template ID wrapped in a special div. We'll call it "TemplateSelect". We'll also make this an Extra called "OurTVs", meaning that we'll have the files outside of the normal TV input renders directory, and put it in our own Extra's directory in core/components/ourtvs/.
</p>

<h2>
<a name="AddingaCustomTVType-MODX2.2-CreateaNamespace" id="AddingaCustomTVType-MODX2.2-CreateaNamespace"></a>Create a Namespace
</h2>

<p>
If you haven't already, go ahead and create a Namespace called "ourtvs" with the path "{core_path}components/ourtvs/". This will help us later on.
</p>

<h2>
<a name="AddingaCustomTVType-MODX2.2-CreatingthePathingPlugin" id="AddingaCustomTVType-MODX2.2-CreatingthePathingPlugin"></a>Creating the Pathing Plugin
</h2>

<p>
We'll need a plugin to tell MODX where our custom TV directories are. Go ahead and make a plugin called "OurTvsPlugin", and assign it to the following events:
</p>

<ul>
<li>
<em>OnTVInputRenderList</em> - For rendering the actual TV input in the backend
</li>

<li>
<em>OnTVOutputRenderList</em> - For rendering the TV output in the frontend
</li>

<li>
<em>OnTVInputPropertiesList</em> - For loading any custom properties for the input render in the manager
</li>

<li>
<em>OnTVOutputRenderPropertiesList</em> - For loading any custom properties for the output render (front-end) of the TV
</li>

<li>
<em>OnDocFormPrerender</em> - For loading any custom JS/CSS for our TV
</li>
</ul>

<p>
Now put in the Plugin code:
</p>

<pre class="brush: php">
    &lt;?php
if(!class_exists('TemplateSelectInputRender')) {
    class TemplateSelectInputRender extends modTemplateVarInputRender {
        public function getTemplate() {
            return $this-&gt;modx-&gt;getOption('core_path').'components/ourtvs/tv/input/tpl/templateselect.tpl';
        }
        public function process($value,array $params = array()) {

        }
    }
}
return 'TemplateSelectInputRender';

    
</pre>
<p>
Here we tell it where to find our smarty template for rendering the TV, as well as having a process() method to do any business logic we want to do prior to rendering the TV.
</p>

<p>
Now you can see here we are specifying a "tpl" file for rendering our TV. Go ahead and put it here:
</p>

<blockquote>
<p>
core/components/ourtvs/tv/input/tpl/templateselect.tpl
</p>
</blockquote>

<p>
And make its content:
</p>

<pre class="brush: php">
    if(!class_exists('TemplateSelectOutputRender')) {
    class TemplateSelectOutputRender extends modTemplateVarOutputRender {
        public function process($value,array $params = array()) {
            return '&lt;div class="template"&gt;'.$value.'&lt;/div&gt;';
        }
    }
}
return 'TemplateSelectOutputRender';

    
</pre>
<p>
There we go - now when we render this in the front-end, it will display the ID of our selected Template wrapped in a div.
</p>

<h2>
<a name="AddingaCustomTVType-MODX2.2-SeeAlso" id="AddingaCustomTVType-MODX2.2-SeeAlso"></a>See Also
</h2>
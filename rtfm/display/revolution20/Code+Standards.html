<p>
<br class="atl-forced-newline" />
</p>

<div>
<ul>
<li>
<a href='#CodeStandards-CodeStandards'>Code Standards</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-GeneralPractices'>General Practices</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-IndentationandLineBreaks'>Indentation and Line Breaks</a>
</li>

<li>
<a href='#CodeStandards-TrailingSpaces'>Trailing Spaces</a>
</li>

<li>
<a href='#CodeStandards-Compression'>Compression</a>
</li>
</ul>
</li>

<li>
<a href='#CodeStandards-HTML'>HTML</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-Validation'>Validation</a>
</li>

<li>
<a href='#CodeStandards-InlineHTMLinSnippets'>Inline HTML in Snippets</a>
</li>

<li>
<a href='#CodeStandards-SelfclosingElements'>Self-closing Elements</a>
</li>

<li>
<a href='#CodeStandards-Terseness'>Terseness</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-Doctype'>Doctype</a>
</li>
</ul>
</li>

<li>
<a href='#CodeStandards-TagsandAttributes'>Tags and Attributes</a>
</li>

<li>
<a href='#CodeStandards-Quotes'>Quotes</a>
</li>
</ul>
</li>

<li>
<a href='#CodeStandards-CSS'>CSS</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-InlineStyles'>Inline Styles</a>
</li>

<li>
<a href='#CodeStandards-CSSValidation'>CSS Validation</a>
</li>

<li>
<a href='#CodeStandards-CSSFormatting'>CSS Formatting</a>
</li>

<li>
<a href='#CodeStandards-Pixelsvs.Ems'>Pixels vs. Ems</a>
</li>

<li>
<a href='#CodeStandards-InternetExplorerBugs'>Internet Explorer Bugs</a>
</li>

<li>
<a href='#CodeStandards-Shorthand'>Shorthand</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-Margin%26Padding'>Margin &amp; Padding</a>
</li>

<li>
<a href='#CodeStandards-HexColors'>Hex Colors</a>
</li>

<li>
<a href='#CodeStandards-Background'>Background</a>
</li>

<li>
<a href='#CodeStandards-Border'>Border</a>
</li>

<li>
<a href='#CodeStandards-Font'>Font</a>
</li>

<li>
<a href='#CodeStandards-Longhand'>Longhand</a>
</li>
</ul>
</li>
</ul>
</li>

<li>
<a href='#CodeStandards-Javascript'>Javascript</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-TypeCoercion'>Type Coercion</a>
</li>

<li>
<a href='#CodeStandards-Whitespace'>White-space</a>
</li>

<li>
<a href='#CodeStandards-Variables%2CID%26Class'>Variables, ID &amp; Class</a>
</li>

<li>
<a href='#CodeStandards-Quotes'>Quotes</a>
</li>

<li>
<a href='#CodeStandards-EventListeners'>Event Listeners</a>
</li>

<li>
<a href='#CodeStandards-EventDelegation'>Event Delegation</a>
</li>

<li>
<a href='#CodeStandards-Closures%26Scope'>Closures &amp; Scope</a>
</li>

<li>
<a href='#CodeStandards-Objects%26Arrays'>Objects &amp; Arrays</a>
</li>
</ul>
</li>

<li>
<a href='#CodeStandards-PHP'>PHP</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href='#CodeStandards-General'>General</a>
</li>

<li>
<a href='#CodeStandards-Parenthesis'>Parenthesis</a>
</li>

<li>
<a href='#CodeStandards-Classes'>Classes</a>
</li>

<li>
<a href='#CodeStandards-Variables'>Variables</a>
</li>

<li>
<a href='#CodeStandards-FunctionArgumentsandClassVariables'>Function Arguments and Class Variables</a>
</li>

<li>
<a href='#CodeStandards-Arrays'>Arrays</a>
</li>

<li>
<a href='#CodeStandards-Constants'>Constants</a>
</li>

<li>
<a href='#CodeStandards-FileStructure'>File Structure</a>
</li>

<li>
<a href='#CodeStandards-Prefixing'>Prefixing</a>
</li>
</ul>
</li>

<li>
<a href='#CodeStandards-SQL'>SQL</a>
</li>
</ul>
</li>
</ul>
</div>

<h1>
<a name="CodeStandards-CodeStandards" id="CodeStandards-CodeStandards"></a>Code Standards
</h1>

<p>
This page describes the MODX coding standards for any MODX Component, Extension or core code. These are not de-facto rules, but guidelines for easier development and collaboration between developers.
</p>

<p>
This page was heavily borrowed from <a href="http://developer.fellowshipone.com/patterns/code.php" class="external-link" rel="nofollow">Fellowship One's Design Standards</a>. Thanks!
</p>

<h2>
<a name="CodeStandards-GeneralPractices" id="CodeStandards-GeneralPractices"></a>General Practices
</h2>

<h3>
<a name="CodeStandards-IndentationandLineBreaks" id="CodeStandards-IndentationandLineBreaks"></a>Indentation and Line Breaks
</h3>

<p>
All indentation must be done with <b>4 spaces</b>, not tabs. Make sure to change your editor settings to reflect this. Line breaks must be in <b>UNIX</b> format.
</p>

<h3>
<a name="CodeStandards-TrailingSpaces" id="CodeStandards-TrailingSpaces"></a>Trailing Spaces
</h3>

<p>
MODX recommends removing any trailing spaces in a line in code, unless that spacing is for design purposes.
</p>

<h3>
<a name="CodeStandards-Compression" id="CodeStandards-Compression"></a>Compression
</h3>

<p>
MODX suggests packaging both compressed and uncompressed JS/CSS. MODX recommends using the compressed JS/CSS in production environments, but allowing users the option to toggle between compressed and uncompressed JS/CSS. This allows for easier debugging.
</p>

<p>
MODX does not advocate PHP compression.
</p>

<h2>
<a name="CodeStandards-HTML" id="CodeStandards-HTML"></a>HTML
</h2>

<p>
HTML5 is a new version of HTML and XHTML. The HTML5 draft specification defines a single language that can be written in HTML and XML. It attempts to solve issues found in previous iterations of HTML and addresses the needs of Web Applications, an area previously not adequately covered by HTML. (<a href="http://html5.org/" class="external-link" rel="nofollow">from html5.org</a>)
</p>

<p>
MODX recommends following the HTML5 specs: <a href="http://whatwg.org/specs/web-apps/current-work/" class="external-link" rel="nofollow">http://whatwg.org/specs/web-apps/current-work/</a>
</p>

<h3>
<a name="CodeStandards-Validation" id="CodeStandards-Validation"></a>Validation
</h3>

<p>
All HTML must be HTML5-validated. MODX recommends using the <a href="http://validator.w3.org/" class="external-link" rel="nofollow">W3C Validator</a>.
</p>

<h3>
<a name="CodeStandards-InlineHTMLinSnippets" id="CodeStandards-InlineHTMLinSnippets"></a>Inline HTML in Snippets
</h3>

<p>
MODX requires that <b>no html</b> be echo'ed or inline in a Snippet. MODX also recommends externalizing any HTML in PHP code into <a href="/display/revolution20/Chunks" title="Chunks">Chunks</a>.
</p>

<p>
All HTML pages should be verified against the W3C validator, to ensure that the markup is well formed. This in and of itself is not directly indicative of good code, but it helps to weed out problems that are able to be tested via automation. It is no substitute for manual code review.
</p>

<p>
Note: In TextMate, Control + Shift + V will check the validity of the currently open HTML document.
</p>

<h3>
<a name="CodeStandards-SelfclosingElements" id="CodeStandards-SelfclosingElements"></a>Self-closing Elements
</h3>

<p>
Though we are using HTML5, which allows for either HTML or XHTML style syntax, we prefer the strictness of XHTML. Therefore, all tags must be properly closed. For tags that can wrap nodes such as text or other elements, termination is a trivial enough task. For tags that are self-closing, the forward slash should have exactly one space preceding it &lt;br /&gt; vs. the compact but incorrect &lt;br/&gt;. The W3C specifies that a single space should precede the self-closing slash (source).
</p>

<h3>
<a name="CodeStandards-Terseness" id="CodeStandards-Terseness"></a>Terseness
</h3>

<h4>
<a name="CodeStandards-Doctype" id="CodeStandards-Doctype"></a>Doctype
</h4>

<p>
A nice aspect of HTML5 is that it streamlines the amount of code that is required. Meaningless attributes have been dropped, and the DOCTYPE declaration has been simplified significantly. Additionally, there is no need to use CDATA to escape inline JavaScript, formerly a requirement to meet XML strictness in XHTML.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"HTML5 Doctype"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;!DOCTYPE html&gt;
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"XHTML 1.0 Transitional Doctype"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;!DOCTYPE html PUBLIC <span class="code-quote">"-<span class="code-comment">//W3C//DTD XHTML 1.0 Transitional//EN"</span> <span class="code-quote">"http://w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"</span>&gt;</span>
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-TagsandAttributes" id="CodeStandards-TagsandAttributes"></a>Tags and Attributes
</h3>

<p>
All tags and attributes must be written in lowercase. Additionally, we prefer that any attribute values also be lowercase, when the purpose of the text therein is only to be interpreted by machines. For instances in which the data needs to be human readable, proper title capitalization should be followed, such as:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"For machines"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;meta http-equiv=<span class="code-quote">"content-type"</span> content=<span class="code-quote">"text/html; charset=utf-8"</span> /&gt;
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"For humans"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;a href=<span class="code-quote">"http:<span class="code-comment">//example.com/"</span> title=<span class="code-quote">"Description Goes Here"</span>&gt;Example.com&lt;/a&gt;</span>
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-Quotes" id="CodeStandards-Quotes"></a>Quotes
</h3>

<p>
In keeping with the strictness of XHTML code conventions, according to the W3C, all attributes must have a value, and must use double-quotes (source). The following are examples of proper and improper usage of quotes and attribute/value pairs.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;input type=<span class="code-quote">"text"</span> name=<span class="code-quote">"email"</span> disabled=<span class="code-quote">"disabled"</span> /&gt;
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;input type=text name=email disabled&gt;
</pre>
</div>
</div>

<h2>
<a name="CodeStandards-CSS" id="CodeStandards-CSS"></a>CSS
</h2>

<h3>
<a name="CodeStandards-InlineStyles" id="CodeStandards-InlineStyles"></a>Inline Styles
</h3>

<p>
We strive to maintain proper separation of content and design, and therefore highly discourage the use of inline style="..." attributes. This not only makes maintenance a nightmare, but inextricably ties the presentation to the data it represents. All of our CSS will be stored in external files, with one master.css file called per page. That single file will incorporate other files as necessary with the @import syntax.
</p>

<p>
Note: An exception to this rule is style="display:none" for revealing hidden elements via JavaScript.
</p>

<h3>
<a name="CodeStandards-CSSValidation" id="CodeStandards-CSSValidation"></a>CSS Validation
</h3>

<p>
All cascading stylesheets should be verified against the W3C validator, to ensure correct syntax and to check for possible accessibility issues with text and background colors. This in and of itself is not directly indicative of good code, but it helps to weed out problems that are able to be tested via automation. It is no substitute for manual code review.
</p>

<p>
Note: In TextMate, Control + Shift + V will check the validity of the currently open CSS document.
</p>

<h3>
<a name="CodeStandards-CSSFormatting" id="CodeStandards-CSSFormatting"></a>CSS Formatting
</h3>

<p>
To ease potential headaches for maintenance, we require that all CSS be written in a consistent manner. For one, all CSS selectors must be listed on their own line. As a general rule of thumb, if there is a comma in CSS, it should immediately be followed by a line break. This way, we know that all text on a single line is part of the same selector. Likewise, all property/value pairs must be on their own line, with one tab of indentation. The closing brace must be on the same level of indentation as the selector that began it - flush left.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector_1 span,
#selector_2 span,
#selector_3 span {
    background: #fff;
    color: #000;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector_1 span, #selector_2 span, #selector_3 span {
    background: #fff; color: #000;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Also incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector { background: #fff; color: #000; }
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-Pixelsvs.Ems" id="CodeStandards-Pixelsvs.Ems"></a>Pixels vs. Ems
</h3>

<p>
We use the px unit of measurement to define font size, because it offers absolute control over text. We realize that using the em unit for font sizing used to be popular, to accommodate for Internet Explorer 6 not resizing pixel based text. However, all major browsers (including IE7 and IE8) now support text resizing of pixel units and/or full-page zooming. Since IE6 is largely considered deprecated, pixels sizing is preferred. Additionally, unit-less line-height is preferred because it does not inherit a percentage value of its parent element, but instead is based on a multiplier of the font-size.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
/*
13 * 1.5 = 19.5 ~ Rounds to 20px.
*/
#selector {
    font-size: 13px;
    line-height: 1.5;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
/*
Equivalent to 13px font-size and 20px line-height,
but only <span class="code-keyword">if</span> the browser <span class="code-keyword">default</span> text size is 16px.
*/
#selector {
    font-size: 0.813em;
    line-height: 1.25em;
}
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-InternetExplorerBugs" id="CodeStandards-InternetExplorerBugs"></a>Internet Explorer Bugs
</h3>

<p>
Inevitably, when all other browsers appear to be working correctly, any and all versions of Internet Explorer will introduce a few nonsensical bugs, delaying time to deployment. While we encourage troubleshooting and building code that will work in all browsers without special modifications, sometimes it is necessary to use conditional if IE comments to serve up specific fixes, which are ignored by other browsers.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Fixing IE"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
&lt;!--[<span class="code-keyword">if</span> IE 7]&gt;
&lt;link type=<span class="code-quote">"text/css"</span> rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"/assets/styleshseets/ie7.css"</span> /&gt;
&lt;![endif]--&gt;
&lt;!--[<span class="code-keyword">if</span> IE 8]&gt;
&lt;link type=<span class="code-quote">"text/css"</span> rel=<span class="code-quote">"stylesheet"</span> href=<span class="code-quote">"/assets/styleshseets/ie8.css"</span> /&gt;
&lt;![endif]--&gt;
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-Shorthand" id="CodeStandards-Shorthand"></a>Shorthand
</h3>

<p>
In general, CSS shorthand is preferred because of its terseness, and the ability to later go back and add in values that are already present, such as the case with margin and padding. Developers should be aware of the TRBL acronym, denoting the order in which the sides of an element are defined, in a clock-wise manner: Top, Right, Bottom, Left. If bottom is undefined, it inherits its value from top. Likewise, if left is undefined, it inherits its value from right. If only the top value is defined, all sides inherit from that one declaration.
</p>

<p>
For more on reducing stylesheet code redundancy, and using CSS shorthand in general:
</p>

<ul>
<li>
<a href="http://qrayg.com/journal/news/css-background-shorthand" class="external-link" rel="nofollow">http://qrayg.com/journal/news/css-background-shorthand</a>
</li>

<li>
<a href="http://sonspring.com/journal/css-redundancy" class="external-link" rel="nofollow">http://sonspring.com/journal/css-redundancy</a>
</li>

<li>
<a href="http://dustindiaz.com/css-shorthand" class="external-link" rel="nofollow">http://dustindiaz.com/css-shorthand</a>
</li>
</ul>

<h4>
<a name="CodeStandards-Margin%26Padding"></a>Margin &amp; Padding
</h4>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    margin: 0 0 10px;
    padding: 0 0 10px;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect - left attribute unnecessary"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    margin: 0 0 10px 0;
    padding: 0 0 10px 0;
}
</pre>
</div>
</div>

<h4>
<a name="CodeStandards-HexColors" id="CodeStandards-HexColors"></a>Hex Colors
</h4>

<p>
We prefer hex values for all colors, written in lower-case. No upper-case or RGB, please! Additionally, all colors should be written as tersely as possible. This means that colors such as full blue, which can be written lengthily as #0000FF, should be simply written as #00f. Obviously, for colors that require more precision, all six characters should be used. For example, a light shade of grayish beige: #f9f9f0.
</p>

<h4>
<a name="CodeStandards-Background" id="CodeStandards-Background"></a>Background
</h4>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct - shorthand"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    background: #fff url(../images/file.png) repeat-x fixed left bottom;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect - longhand unnecessary"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    background-color: #fff;
    background-image: url(../images/file.png);
    background-repeat: repeat-x;
    background-attachment: fixed;
    background-position: left bottom;
}
</pre>
</div>
</div>

<h4>
<a name="CodeStandards-Border" id="CodeStandards-Border"></a>Border
</h4>

<p>
In general, border should be a single line declaration, assuming that the values of the border are the same on all sides of the element. The order in which values are declared are: width, style, and color.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Shorthand - method 1"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    border: 1px solid #000;
}
</pre>
</div>
</div>

<p>
If the values of each side differ, then there are two possible ways of using shorthand, and it is up to the discretion of the developer to decide which to use. Note that method 2 follows the TRBL pattern.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Shorthand - method 2"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    border-color: #fff #999 #666 #ccc;
    border-style: solid dashed dotted <span class="code-object">double</span>;
    border-width: 1px 2px 3px 4px;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Shorthand - method 3"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    border-top: 1px solid #fff;
    border-right: 2px dashed #999;
    border-bottom: 3px dotted #666;
    border-left: 4px <span class="code-object">double</span> #ccc;
}
</pre>
</div>
</div>

<p>
By contrast, the same style declaration is extremely verbose using longhand. This should be avoided, except in instances where only one particular value needs to be overridden, allowing the rest to flow through.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Longhand"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    border-top-color: #fff;
    border-right-color: #999;
    border-bottom-color: #666;
    border-left-color: #ccc;
    border-top-style: solid;
    border-right-style: dashed;
    border-bottom-style: dotted;
    border-left-style: <span class="code-object">double</span>;
    border-top-width: 1px;
    border-right-width: 2px;
    border-bottom-width: 3px;
    border-left-width: 4px;
}
</pre>
</div>
</div>

<h4>
<a name="CodeStandards-Font" id="CodeStandards-Font"></a>Font
</h4>

<p>
Not to be confused with the inadvisable &lt;font&gt; tag, the CSS font property can be written in a few different ways. The shorthand property puts all the aspects of the font into a single declaration, whereas the longhand splits it out over several lines. While the contrast between methods is not as stark as with that of the border property, there is still space to be saved by using shorthand. While line-height can be defined within the scope of the font declaration, but when written in longhand it has its own unique property.
</p>

<p>
Note: Times New Roman is encapsulated in quotes, because the font name itself contains spaces.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Shorthand"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    font: italic small-caps bold 15px/1.5 Cambria, 'Times New Roman', sans-serif;
}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Longhand"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    font-style: italic;
    font-variant: small-caps;
    font-weight: bold;
    font-size: 15px;
    line-height: 1.5;
    font-family: Cambria, 'Times New Roman', sans-serif;
}
</pre>
</div>
</div>

<h4>
<a name="CodeStandards-Longhand" id="CodeStandards-Longhand"></a>Longhand
</h4>

<p>
When overriding only parts of a style, longhand declaration is preferred. This way, by sticking to shorthand for initial style declarations, anytime we see a longhand declaration used, we know that we are specifically overriding only a very precise part of an overall style, thereby leaving other aspects unaffected.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Longhand override"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
#selector {
    border: 1px solid #ccc;
    font: 11px Verdana, sans-serif;
}
#selector.modifier {
    border-bottom-color: #333;
    border-bottom-width: 2px;
    font-family: Georgia, serif;
}
</pre>
</div>
</div>

<h2>
<a name="CodeStandards-Javascript" id="CodeStandards-Javascript"></a>Javascript
</h2>

<h3>
<a name="CodeStandards-TypeCoercion" id="CodeStandards-TypeCoercion"></a>Type Coercion
</h3>

<p>
Unlike strongly typed languages such as Java or C#, JavaScript will perform type coercion when evaluating conditional statements. This sometimes creates awkward scenarios in which numerical values are seen as false or the existence of a string is mistaken for true. This is typically disadvantageous.
</p>

<p>
To ensure a strict level of comparison, as might be seen in a strongly typed or compiled language, JavaScript (like PHP) has a triple-equals operator ===. In similar fashion, it also has a strict negation operator !==. Consider the following examples of potential pitfalls when it comes to evaluating comparisons.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">var</span> test_1 = '<span class="code-keyword">true</span>';
<span class="code-keyword">var</span> test_2 = 0;
<span class="code-keyword">if</span> (test_1 == <span class="code-keyword">true</span>) {
    <span class="code-comment">// Code here will run.
</span>    <span class="code-comment">// But it shouldn't.
</span>}
<span class="code-keyword">if</span> (test_1 === <span class="code-keyword">true</span>) {
    <span class="code-comment">// Code here won't run.
</span>    <span class="code-comment">// Correct behavior.
</span>}
<span class="code-keyword">if</span> (test_2 != <span class="code-keyword">false</span>) {
    <span class="code-comment">// Code here won't run.
</span>    <span class="code-comment">// But it should.
</span>}
<span class="code-keyword">if</span> (test_2 !== <span class="code-keyword">false</span>) {
    <span class="code-comment">// Code here will run.
</span>    <span class="code-comment">// Correct behavior.
</span>}
</pre>
</div>
</div>

<p>
As you can see in the example above, simply using == and != is insufficient because it makes for potentially unpredictable results. Therefore, the stricter comparison operators should always be used. There is never a good reason to use the lesser form of comparison operators. To simply for the existence of elements in the DOM, there is an even more abbreviated way, that leaves no room for ambiguity. If you are unsure if certain elements will be present in an HTML page, use one of the following techniques.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
function first_func() {
    <span class="code-keyword">if</span> (!document.getElementById('id_name')) {
        <span class="code-keyword">return</span>;
    }
    <span class="code-comment">// If code gets here, element exists.
</span>}
function second_func() {
    <span class="code-keyword">if</span> (!document.getElementsByTagName('div').length) {
        <span class="code-keyword">return</span>;
    }
    <span class="code-comment">// If code gets here, one or more exist.
</span>}
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-Whitespace" id="CodeStandards-Whitespace"></a>White-space
</h3>

<p>
In general, the use of whitespace should follow longstanding English reading conventions. Such that, there will be one space after each comma and colon (and semi-colon where applicable), but no spaces immediately inside the right and left sides of parenthesis. In short, we advocate readability within reason. Additionally, braces should always appear on the same line as their preceding argument.
</p>

<p>
Consider the following examples of a JavaScript for-loop...
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">for</span> (<span class="code-keyword">var</span> i=0, j=arr.length; i&lt;j; i++) {
    <span class="code-comment">// Do something.
</span>}
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">for</span> ( <span class="code-keyword">var</span> i = 0, j = arr.length; i &lt; j; i++ )
{
<span class="code-comment">// Do something.
</span>}
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-Variables%2CID%26Class"></a>Variables, ID &amp; Class
</h3>

<p>
All JavaScript variables shall be written in completely lowercase letters, with underscores to separate words if need be. Likewise, all id and class declarations in CSS shall be written in the same manner. Neither dashes nor camelCase shall be used, except for words that contain dashes when written in plain English.
</p>

<h3>
<a name="CodeStandards-Quotes" id="CodeStandards-Quotes"></a>Quotes
</h3>

<p>
The preferred method of delineating strings is to use single quotes for everything. Since JavaScript exists to manipulate markup, and because HTML is generally written with double quotes in W3C specifications, using single quoted strings will better facilitate handling HTML fragments, and keep code more readable.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">var</span> my_html = '&lt;img class=<span class="code-quote">"photo"</span> src=<span class="code-quote">"/path/file.jpg"</span> alt=<span class="code-quote">"Text"</span> /&gt;';
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">var</span> my_html = <span class="code-quote">"&lt;img class=\"</span>photo\<span class="code-quote">" src=\"</span>/path/file.jpg\<span class="code-quote">" alt=\"</span>Text\<span class="code-quote">" /&gt;"</span>;
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-EventListeners" id="CodeStandards-EventListeners"></a>Event Listeners
</h3>

<p>
Rather than using attributes such as onload, onfocus, onsubmit, or onclick directly in markup, we will instead attach event listeners to these elements via unobtrusive techniques. The reasoning for this is the same philosophy that is behind not using inline style="..." declarations. So doing inextricably ties the behavior of a web page to its data, and makes maintenance more difficult.
</p>

<h3>
<a name="CodeStandards-EventDelegation" id="CodeStandards-EventDelegation"></a>Event Delegation
</h3>

<p>
When assigning unobtrusive event listeners, it is typically acceptable to assign the event listener directly to the element(s) which will trigger some resulting action. However, occasionally there may be multiple elements which match the criteria for which you are checking, and attaching event listeners to each one might negatively impact performance. In such cases you should use event delegation instead.
</p>

<h3>
<a name="CodeStandards-Closures%26Scope"></a>Closures &amp; Scope
</h3>

<p>
To maintain proper scope for variables, it is highly recommended that self-executing anonymous function be used as a closure. For the most part, variables defined correctly using the var syntax, within the scope of a function will not add to global scope pollution. However, from time to time, you may need to access variables via two or more functions. In such cases, multiple functions can be grouped together inside a closure.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Closure"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
(function() {
    <span class="code-keyword">var</span> first_variable = 'value 1';
    <span class="code-keyword">var</span> second_variable = 'value 2';

    function first_func() {
        <span class="code-comment">// Do something.
</span>    }

    function second_func() {
        <span class="code-comment">// Do something.
</span>    }
})();
</pre>
</div>
</div>

<h3>
<a name="CodeStandards-Objects%26Arrays"></a>Objects &amp; Arrays
</h3>

<p>
Objects can be thought of as tiered variables that contain multiple attributes. Similarly, an array could be described as a list of data that all share common characteristics. The following code snippets show examples of objects and arrays, and the different ways in which they can be defined. Note that values such as John Doe's age and marital status do not have quotation marks around them. This is because age is truely numerical, and true is a Boolean value.
</p>

<p>
Note also that the commas are before the variable or method declaration. This prevents errors with trailing commas in IE and other browsers.
</p>

<p>
Objects (and arrays) are an important part of JSON - JavaScript Object Notation, which is a platform and language independent way of transmitting data, used as an alternative to XML.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Object literal - preferred"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">var</span> john_doe = {
    first_name: 'John'
    ,last_name: 'Doe'
    ,job: 'Everyman Respresentative'
    ,email: 'john.doe@example.com'
    ,married: <span class="code-keyword">true</span>
    ,age: 30
};
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Object dot notation"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
/*
Could also be written:
<span class="code-keyword">var</span> john_doe = <span class="code-keyword">new</span> <span class="code-object">Object</span>();
*/
<span class="code-keyword">var</span> john_doe = {};
john_doe.first_name = 'John';
john_doe.last_name = 'Doe';
john_doe.job = 'Everyman Representative';
john_doe.email = 'john.doe@example.com';
john_doe.married = <span class="code-keyword">true</span>;
john_doe.age = 30;
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Array literal - preferred"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">var</span> doe_family = [
    'John'
    ,'James'
    ,'Jane'
    ,'Jenny'
    ,'Jared'
    ,'Jerome'
];
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Array bracket notation"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
/*
Could also be written:
<span class="code-keyword">var</span> doe_family = <span class="code-keyword">new</span> Array();
*/
<span class="code-keyword">var</span> doe_family = [];
doe_family[0] = 'John';
doe_family[1] = 'James';
doe_family[2] = 'Jane';
doe_family[3] = 'Jenny';
doe_family[4] = 'Jared';
doe_family[5] = 'Jerome';
</pre>
</div>
</div>

<h2>
<a name="CodeStandards-PHP" id="CodeStandards-PHP"></a>PHP
</h2>

<h3>
<a name="CodeStandards-General" id="CodeStandards-General"></a>General
</h3>

<ul>
<li>Beginning brackets do NOT linebreak. They start one space after the end parenthesis, as according to traditional Unix policy.
</li>

<li>Do not do any real logic in object constructors. Create class methods to do so.
<br />
null, true and false should always be lowercase.
</li>

<li>Avoid embedded assignments (ex: $d = ($a = $b + $c) is bad).
</li>

<li>Never use extract().
</li>

<li>Avoid using global variables if at all possible.
</li>

<li>Document EVERYTHING.
</li>
</ul>

<h3>
<a name="CodeStandards-Parenthesis" id="CodeStandards-Parenthesis"></a>Parenthesis
</h3>

<ul>
<li>Do not put parenthesis next to keywords. Put a space between.
</li>

<li>Do put parenthesis next to function names.
</li>

<li>Do not use parenthesis in return statements when it's not necessary. Example:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">if</span> ($test) {
}
<span class="code-keyword">while</span> ($test == $other) {
}
array_push($one,$two);
<span class="code-keyword">return</span> $test;
</pre>
</div>
</div>
</li>

<li>Do <b>not</b> use parenthesis when using include, require, include_once, and require_once.
</li>
</ul>

<h3>
<a name="CodeStandards-Classes" id="CodeStandards-Classes"></a>Classes
</h3>

<ul>
<li>All ''core'' classnames, unless stated otherwise for special conditions, will be prefixed with the "mod" prefix: ie, modChunk, modTemplate, etc.
</li>

<li>All method names will be camelCase and will start with a lowercase letter.
</li>

<li>All private methods and variables must be prefixed with the underscore _ character.
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
class modFactor {
    <span class="code-keyword">public</span> $publicVar;
    <span class="code-keyword">private</span> $_privateVar;
    <span class="code-keyword">private</span> function _privateFunc() { }
    <span class="code-keyword">public</span> function publicFunc() { }
}
</pre>
</div>
</div>
</li>
</ul>

<h3>
<a name="CodeStandards-Variables" id="CodeStandards-Variables"></a>Variables
</h3>

<p>
Note these are not function arguments.
</p>

<ul>
<li>Use all lowercase letters.
</li>

<li>Separate words with the underscore.
</li>
</ul>

<h3>
<a name="CodeStandards-FunctionArgumentsandClassVariables" id="CodeStandards-FunctionArgumentsandClassVariables"></a>Function Arguments and Class Variables
</h3>

<ul>
<li>The first letter is lowercase, rest are camelCase. Example:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
class modFactor {
    <span class="code-keyword">public</span> function testFunc($testVar, array &amp;$anotherTest = array()) {
        $<span class="code-keyword">this</span>-&gt;_privateVar = $testVar;
        $local_variable =&amp; $anotherTest;
    }
}
</pre>
</div>
</div>
</li>
</ul>

<h3>
<a name="CodeStandards-Arrays" id="CodeStandards-Arrays"></a>Arrays
</h3>

<ul>
<li>Array index names use the underscore _, not the dash as their separator. This prevents errors with magic_quotes.
</li>

<li>Array index names are always lowercase. Spaces are represented by an underscore.
</li>

<li>Array index names are always encapsulated with single quotes.
<br />
Example:
<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
$_lang['chunk_create_text'] = 'Test';
</pre>
</div>
</div>
</li>
</ul>

<h3>
<a name="CodeStandards-Constants" id="CodeStandards-Constants"></a>Constants
</h3>

<ul>
<li>Constants must be in all UPPERCASE letters.
</li>

<li>Use only if absolutely necessary.
</li>
</ul>

<h3>
<a name="CodeStandards-FileStructure" id="CodeStandards-FileStructure"></a>File Structure
</h3>

<ul>
<li>Always name PHP class files in name.class.php format.
</li>
</ul>

<h3>
<a name="CodeStandards-Prefixing" id="CodeStandards-Prefixing"></a>Prefixing
</h3>

<ul>
<li>Lexicon strings for Components need to be prefixed:
</li>
</ul>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
$_lang['mycomponent.welcome_message'] = 'Welcome!';
</pre>
</div>
</div>

<ul>
<li>Always prefix class names; eg: 'finBank', 'finTransaction', etc.
</li>

<li>Always prefix <a href="/display/revolution20/Chunks" title="Chunks">Chunk</a> names; eg: 'finStatement', 'finDeposit'
</li>
</ul>

<h2>
<a name="CodeStandards-SQL" id="CodeStandards-SQL"></a>SQL
</h2>

<p>
All inline SQL must be capitalized, and table and column names must be enclosed with backticks.
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Correct"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
UPDATE `mydatabase`.`mytable`
SET `name` = <span class="code-quote">"Johnny"</span>
WHERE `id` = 123;
</pre>
</div>
</div>

<div class="code panel" style="border-width: 1px;">
<div class="codeHeader panelHeader" style="border-bottom-width: 1px;">
<b>"Incorrect"</b>
</div>

<div class="codeContent panelContent">
<pre class="code-java">
update mydatabase.mytable set name='Johnny' where id=12
</pre>
</div>
</div>
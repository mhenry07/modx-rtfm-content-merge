<div>
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-MODx.tree.Tree">MODx.tree.Tree</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-UniqueParameters">Unique Parameters</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-CustomEvents">Custom Events</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-OtherUniqueFeatures">Other Unique Features</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-Sorting">Sorting</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-RemoteToolbarLoading">Remote Toolbar Loading</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-Drag%2FDroptoMODx.FormPanelFields">Drag/Drop to MODx.FormPanel Fields</a>
</li>
</ul>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.tree.tree#MODx.tree.Tree-SeeAlso">See Also</a>
</li>
</ul>
</div>

<h2>
<a name="MODx.tree.Tree-MODx.tree.Tree" id="MODx.tree.Tree-MODx.tree.Tree"></a>MODx.tree.Tree
</h2>

<p>
<b>Extends:</b> Ext.tree.TreePanel
<br />
<b>Key Features:</b> Remotely-loaded toolbars; drag-and-drop to form fields functionality; connector functionality for removing and dragging/sorting.
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/18678081/modext_tree.png?version=1&amp;modificationDate=1250518279000" style="border: 0px solid black" /></span>
</p>

<p>
Trees provide a quick and easy way to display multiple levels of objects which have a parent-child relationship, such as users or resources.
</p>

<h2>
<a name="MODx.tree.Tree-UniqueParameters" id="MODx.tree.Tree-UniqueParameters"></a>Unique Parameters
</h2>

<p>
MODx.tree.Tree has a few extra parameters not found in Ext.tree.TreePanel objects:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
<th class='confluenceTh'>
Default
</th>
</tr>

<tr>
<td class='confluenceTd'>
url
</td>
<td class='confluenceTd'>
The URL to point the tree loader at. Optional if you pass in the data parameter.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
rootName
</td>
<td class='confluenceTd'>
The text of the root node, if rootVisible is set to true.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
rootId
</td>
<td class='confluenceTd'>
The ID of the root node.
</td>
<td class='confluenceTd'>
root
</td>
</tr>

<tr>
<td class='confluenceTd'>
data
</td>
<td class='confluenceTd'>
Optional; if url is not set, data must be loaded in through here.
</td>
<td class='confluenceTd'>
[]
</td>
</tr>

<tr>
<td class='confluenceTd'>
remoteToolbar
</td>
<td class='confluenceTd'>
If true, will load the tree's toolbar via data loaded remotely.
</td>
<td class='confluenceTd'>
false
</td>
</tr>

<tr>
<td class='confluenceTd'>
remoteToolbarUrl*
</td>
<td class='confluenceTd'>
The connector URL to load the toolbar from. Defaults to the tree's URL.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
remoteToolbarAction*
</td>
<td class='confluenceTd'>
The processor action to load the toolbar from.
</td>
<td class='confluenceTd'>
getToolbar
</td>
</tr>

<tr>
<td class='confluenceTd'>
useDefaultToolbar
</td>
<td class='confluenceTd'>
If remoteToolbar is false, this will load the default toolbar, which contains expand all, contract all, and refresh. Items passed to tbar property will be added after.
</td>
<td class='confluenceTd'>
false
</td>
</tr>

<tr>
<td class='confluenceTd'>
menuConfig
</td>
<td class='confluenceTd'>
The config object to pass to the context menu loaded for this tree.
</td>
<td class='confluenceTd'>
&nbsp;
</td>
</tr>

<tr>
<td class='confluenceTd'>
expandFirst
</td>
<td class='confluenceTd'>
If true, will expand the first level nodes on render.
</td>
<td class='confluenceTd'>
true
</td>
</tr>

<tr>
<td class='confluenceTd'>
removeAction*
</td>
<td class='confluenceTd'>
The processor action to take when removing a node.
</td>
<td class='confluenceTd'>
remove
</td>
</tr>

<tr>
<td class='confluenceTd'>
removeTitle*
</td>
<td class='confluenceTd'>
The title for the remove dialog when removing a node.
</td>
<td class='confluenceTd'>
Warning!
</td>
</tr>

<tr>
<td class='confluenceTd'>
primaryKey
</td>
<td class='confluenceTd'>
The primary key for the node. Usually is id.
</td>
<td class='confluenceTd'>
id
</td>
</tr>

<tr>
<td class='confluenceTd'>
sortAction
</td>
<td class='confluenceTd'>
The processor action to take when sorting nodes via drag/drop.
</td>
<td class='confluenceTd'>
sort
</td>
</tr>

<tr>
<td class='confluenceTd'>
toolbarItemCls*
</td>
<td class='confluenceTd'>
The CSS class to add to remoteToolbar loaded items.
</td>
<td class='confluenceTd'>
x-btn-icon
</td>
</tr>
</tbody>
</table>
</div>

<ul>
<li>= MODX Revolution 2.1+ Only
</li>
</ul>

<h2>
<a name="MODx.tree.Tree-CustomEvents" id="MODx.tree.Tree-CustomEvents"></a>Custom Events
</h2>

<p>
The custom events fired by MODx.tree.Tree are:
</p>

<div class='table-wrap'>
<table class='confluenceTable'>
<tbody>
<tr>
<th class='confluenceTh'>
Name
</th>
<th class='confluenceTh'>
Description
</th>
</tr>

<tr>
<td class='confluenceTd'>
beforeSort
</td>
<td class='confluenceTd'>
Fired before the tree sends off the sorted nodes to the sort processor. Passed the sorted nodes, encoded.
</td>
</tr>

<tr>
<td class='confluenceTd'>
afterSort
</td>
<td class='confluenceTd'>
Fired after the tree node sorting happens. Passes:
<ul>
<li>event - The drop event
</li>

<li>result - The response object from the sort processor.
</li>
</ul>
</td>
</tr>
</tbody>
</table>
</div>

<h2>
<a name="MODx.tree.Tree-OtherUniqueFeatures" id="MODx.tree.Tree-OtherUniqueFeatures"></a>Other Unique Features
</h2>

<h4>
<a name="MODx.tree.Tree-Sorting" id="MODx.tree.Tree-Sorting"></a>Sorting
</h4>

<p>
Sorting is automatically enabled by default in MODx.tree.Tree objects. To disable, set enableDD to false in your config. After a drag/drop, the tree will fire off the encoded nodes to a sort processor, with the same connector as the tree URL.
</p>

<h4>
<a name="MODx.tree.Tree-RemoteToolbarLoading" id="MODx.tree.Tree-RemoteToolbarLoading"></a>Remote Toolbar Loading
</h4>

<p>
Toolbars can be loaded remotely, using the remoteToolbar config parameter. This will load the data from a processor loaded by the remoteToolbarAction config var, which defaults to "getToolbar".
</p>

<h4>
<a name="MODx.tree.Tree-Drag%2FDroptoMODx.FormPanelFields"></a>Drag/Drop to MODx.FormPanel Fields
</h4>

<p>
Nodes can be dragged into MODx.FormPanel fields, assuming that the following is passed into the config var:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
,enableDD: <span class="code-keyword">true</span>
,ddGroup: 'modx-treedrop-dd'
</pre>
</div>
</div>

<p>
and that the node has an attribute of 'type', which is one of the following values: modResource,snippet,chunk,tv,file.
</p>

<h2>
<a name="MODx.tree.Tree-SeeAlso" id="MODx.tree.Tree-SeeAlso"></a>See Also
</h2>
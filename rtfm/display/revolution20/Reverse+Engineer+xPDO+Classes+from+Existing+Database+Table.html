<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
            <title>Reverse Engineer xPDO Classes from Existing Database Table - MODx Revolution 2.x - MODX Documentation</title>
    
        

                        
    

            
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="atlassian-token" name="atlassian-token" content="A3ljsk_iKm">
<meta id="confluence-space-key" name="confluence-space-key" content="revolution20">

<script type="text/javascript">
    // Deprecated global variables. To be removed in a future version of Confluence.
    var contextPath = '';
</script>

    

<!-- include system css resources -->
<link type="text/css" rel="stylesheet" href="/s/1911/69/2/_/download/superbatch/css/batch.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1911/69/2/_/download/superbatch/css/batch.css?ieonly=true" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/1911/69/2/_/download/superbatch/css/batch.css?media=print" media="print">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.20/_/download/batch/com.atlassian.confluence.plugins.pagetree:pagetree-resources/com.atlassian.confluence.plugins.pagetree:pagetree-resources.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/batch/confluence.web.resources:view-comment/confluence.web.resources:view-comment.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/batch/confluence.web.resources:view-comment/confluence.web.resources:view-comment.css?ieonly=true" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.9.3/_/download/batch/confluence.macros.advanced:fancy-box/confluence.macros.advanced:fancy-box.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0.8/_/download/batch/com.atlassian.confluence.plugins.drag-and-drop:support/com.atlassian.confluence.plugins.drag-and-drop:support.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/resources/confluence.web.resources:aui-forms/confluence-forms.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/batch/confluence.web.resources:aui-forms/confluence.web.resources:aui-forms.css?ieonly=true" media="all">
<![endif]-->

<!-- end system css resources -->

    <link rel="stylesheet" href="/s/1911/69/6/_/styles/combined.css?spaceKey=revolution20" type="text/css">

    <meta name="confluence-request-time" content="1381731594394">

<meta name="loggedInUsername" content="">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/s/1911/69/_/images/logo/confluence_16.png">

<link rel="search" type="application/opensearchdescription+xml" href="/opensearch/osd.action" title="MODX Documentation"/>

        <!-- include system javascript resources -->
                        
    
    <script type="text/javascript" src="/s/1911/69/2/_/download/superbatch/js/batch.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.20/_/download/batch/com.atlassian.confluence.plugins.pagetree:pagetree-resources/com.atlassian.confluence.plugins.pagetree:pagetree-resources.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.9.3/_/download/batch/confluence.macros.advanced:fancy-box/confluence.macros.advanced:fancy-box.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.9.3/_/download/batch/confluence.macros.advanced:thumbnail-images/confluence.macros.advanced:thumbnail-images.js" ></script>
<script type="text/javascript" src="/s/1911/69/3.3/_/download/batch/com.atlassian.confluence.plugins.fixedwidth-theme:fixedwidth-resources/com.atlassian.confluence.plugins.fixedwidth-theme:fixedwidth-resources.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.0.8/_/download/batch/com.atlassian.confluence.plugins.drag-and-drop:support/com.atlassian.confluence.plugins.drag-and-drop:support.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.0.8/_/download/batch/com.atlassian.confluence.plugins.drag-and-drop:drag-and-drop-for-view-content/com.atlassian.confluence.plugins.drag-and-drop:drag-and-drop-for-view-content.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.2/_/download/batch/com.atlassian.confluence.plugins.doctheme:splitter/com.atlassian.confluence.plugins.doctheme:splitter.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.0/_/download/batch/legacy.confluence.web.resources:prototype/legacy.confluence.web.resources:prototype.js" ></script>

    <!-- end system javascript resources -->

    <link type="text/css" rel="stylesheet" href="http://misc.modx.com/confluence/docs.css" />
<link type="text/css" rel="stylesheet" href="http://misc.modx.com/confluence/syntaxhighlighter/css/all.css" />
<!--<script type="text/javascript" src="http://misc.modx.com/js/jquery-1.3.2.min.js"></script>-->
<script type="text/javascript" src="http://misc.modx.com/confluence/syntaxhighlighter/js/all.js"></script>
<script type="text/javascript" src="http://misc.modx.com/confluence/loadcode.js"></script>
<link type="text/css" rel="stylesheet" href="http://misc.modx.com/confluence/promo/ad.css" />

    
    <link rel="canonical" href="http://oldrtfm.modx.com/display/revolution20/Reverse+Engineer+xPDO+Classes+from+Existing+Database+Table">
    <link rel="shortlink" href="http://oldrtfm.modx.com/x/jwD7AQ">
    <meta name="wikilink" content="[revolution20:Reverse Engineer xPDO Classes from Existing Database Table]">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation ">
<div id="full-height-container">
<!-- CODE FOR AD THAT SEEMS TO BE INSERTABLE DIRECTLY AFTER OPEN BODY TAG IN CONFLUENCE THEME ADMIN -->
<!--<a href="https://modxcloud.com/signup/lab-account.html?utm_source=rtfm&utm_medium=banner&utm_campaign=one_percent%2B" class="modx-cloud-link">
    <div class="modx-cloud-ad-wrap">
        <div class="modx-cloud-ad">
            <div class="logo-wrap">
                <img src="http://misc.modx.com/confluence/promo/modx-cloud-logo.png" alt="MODX Cloud" width="161" height="40">
            </div>
            <p>The Most Productive MODX Learning Playground Ever</p>
            <span class="faux-btn">
                Claim Free Lab Account
            </span>

        </div>
    </div>
</a>-->
<!-- END OF AD -->

<div class="editors_note" style="background-color:#ff9a91;border: 1px solid red; padding:5px;color:black;">
    <strong>Important Note:</strong> This is an archive of the official MODX Documentation. Please do not edit or make changes here.  The current documentation is located at <a href="rtfm.modx.com">rtfm.modx.com</a>.
</div>


<fieldset class="hidden parameters">
    <input type="hidden" id="statusDialogHeading" value="What are you working on?">
    <input type="hidden" id="statusDialogAccessibilityLabel" value="Enter your status (140 character limit)">
    <input type="hidden" id="statusDialogLatestLabel" value="Last update:">
    <input type="hidden" id="statusDialogUpdateButtonLabel" value="Update">
    <input type="hidden" id="statusDialogCancelButtonLabel" value="Cancel">
</fieldset>

<fieldset class="hidden parameters">
    <input type="hidden" id="globalSettingsAttachmentMaxSize" value="10485760">
    <input type="hidden" id="userLocale" value="en_GB">
    <input type="hidden" id="staticResourceUrlPrefix" value="/s/1911/69/_">
    <input type="hidden" id="contextPath" value="">
</fieldset>

    
<div id="header" class="sectionbottom ">
        <form id="quick-search" class="quick-search" method="get" action="/dosearchsite.action">
        <fieldset>
            <legend>Quick Search</legend>
            <input class="quick-search-query" id="quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" size="25" />
            <input class="quick-search-submit" id="quick-search-submit" type="submit" value="Search" />
            <div class="aui-dd-parent quick-nav-drop-down"><!-- Quick nav appears here --></div>
        </fieldset>
        <fieldset class="hidden parameters">
            <input type="hidden" id="quickNavEnabled" value="true" />
                    </fieldset>
    </form>
    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul  id="browse-menu-link-leading"                 class="section-leading first">
                                        <li>
    
        
    
    <a  id="space-pages-link" href="/pages/listpages.action?key=revolution20"  class=""   title="Attachments: 1">
                   <span>Pages</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-blogposts-link" href="/pages/viewrecentblogposts.action?key=revolution20"  class=""   title="Attachments: 1">
                   <span>Blog</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-labels-link" href="/labels/listlabels-heatmap.action?key=revolution20"  class=""   title="Attachments: 1">
                   <span>Labels</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-attachments-link" href="/spaces/listattachmentsforspace.action?key=revolution20"  class=""   title="Attachments: 1">
                   <span>Attachments</span></a>        </li>
                                        <li>
    
        
    
    <a  href="/spaces/space-bookmarks.action?spaceKey=revolution20"  class=""   title="Browse bookmarks in the MODx Revolution 2.x space">
                   <span>Bookmarks</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-mail-link" href="/spaces/viewmailarchive.action?key=revolution20"  class=""   title="Browse bookmarks in the MODx Revolution 2.x space">
                   <span>Mail</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-advanced-link" href="/spaces/viewspacesummary.action?key=revolution20"  class=""   title="Browse bookmarks in the MODx Revolution 2.x space">
                   <span>Advanced</span></a>        </li>
                            </ul>
                        <ul  id="browse-menu-link-global"                 class="section-global">
                                        <li>
    
            
    
    <a  id="gadget-directory-link" href="#"  class="user-item administration-link"   title="Browse gadgets provided by Confluence">
                   <span>Confluence Gadgets</span></a>        </li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
        
        
    
    <a  id="login-link" href="/login.action?os_destination=%2Fdisplay%2Frevolution20%2FReverse%2BEngineer%2BxPDO%2BClasses%2Bfrom%2BExisting%2BDatabase%2BTable"  class="user-item login-link"  >
                   <span>Log In</span></a>        </li>
                                <li class="normal ajs-menu-item">
            <div id="splitter-button" class="hidden" title="Sidebar"></div>
        </li>

    </ul>
    
    
    <ol id="breadcrumbs">
                    
        <li class="first" >
                                    <span><a href="/dashboard.action">Dashboard</a></span>
                </li>
                    
        <li>
                                    <span><a href="/display/revolution20">MODx Revolution 2.x</a></span>
                </li>
                                        <li id="ellipsis" title="    &#8230;
                    Home
        &#8230;
"><span><strong>&#8230;</strong></span></li>
                                    
        <li class="hidden-crumb" >
                                    <span><a href="/display/revolution20/Home">Home</a></span>
                </li>
                    
        <li>
                                    <span><a href="/display/revolution20/Case+Studies+and+Tutorials">Case Studies and Tutorials</a></span>
                </li>
                    
        <li>
                                    <span>Reverse Engineer xPDO Classes from Existing Database Table</span>
                </li>
        </ol>

</div>

    <div id="splitter">
    <div id="splitter-sidebar">

        

                    
    
    

<div class="plugin_pagetree">

                <div id="pagetreesearch">
            <form method="POST" action="/plugins/pagetreesearch/pagetreesearch.action" name="pagetreesearchform">
                                    <input type="hidden" name="ancestorId" value="18678050">
                                <input type="hidden" name="spaceKey" value="revolution20">
                <input type="text"  size="20" name="queryString">
                <input type="submit" value="Search">
            </form>
        </div>
    
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false">
        <input type="hidden" name="treePageId" value="33226895">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="18678050">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="revolution20" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2Frevolution20%2FReverse%2BEngineer%2BxPDO%2BClasses%2Bfrom%2BExisting%2BDatabase%2BTable">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="18678106">
                                    <input type="hidden" name="ancestorId" value="18678050">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="/s/1911/69/2/_/download/resources/com.atlassian.confluence.plugins.doctheme:resources/doc-theme.js"></script>
    
            
    
<div id="main" >
    
    
    <div id="navigation" class="content-navigation view">
        <fieldset class="hidden parameters">
            <input type="hidden" id="pageId" value="33226895">
        </fieldset>
        <ul class="ajs-menu-bar">
                                
                        
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul  id="action-menu-link-primary"                 class="section-primary first">
                                        <li>
    
        
    
    <a  id="view-attachments-link" href="/pages/viewpageattachments.action?pageId=33226895"  class="action-view-attachments"  accessKey="a" >
                   <span><u>A</u>ttachments (1)</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-history-link" href="/pages/viewpreviousversions.action?pageId=33226895"  class="action-view-history"  >
                   <span>Page History</span></a>        </li>
                                        <li>
    
        
    
    <a  id="mailPageLink" href="/pages/mailpage/mailpage.action?pageId=33226895"  class=""  >
                    <span>
                <img alt="E-mail" src="/images/icons/mail_content_16.gif" height="16" width="16" title="E-mail">
                E-mail
            </span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-page-permissions-link" href="/pages/viewinfo.action?pageId=33226895"  class="action-page-permissions"  >
                   <span>Restrictions</span></a>        </li>
                            </ul>
                        <ul  id="action-menu-link-secondary"                 class="section-secondary">
                                        <li>
    
        
    
    <a  id="view-page-info-link" href="/pages/viewinfo.action?pageId=33226895"  class="action-view-info"  >
                   <span>Info</span></a>        </li>
                                        <li>
    
        
    
    <a  id="link-to-page-link" href="/pages/viewinfo.action?pageId=33226895"  class=""  >
                   <span>Link to this Page&hellip;</span></a>        </li>
                                        <li>
    
        
    
    <a  id="view-in-hierarchy-link" href="/pages/listpages-dirview.action?key=revolution20&openId=33226895#selectedPageInHierarchy"  class=""  >
                   <span>View in Hierarchy</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-source-link" href="/pages/viewpagesrc.action?pageId=33226895"  class="action-view-source popup-link"  >
                   <span>View Wiki Markup</span></a>        </li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

    
    <h1 id="title-heading" class="pagetitle">
                    <a href="/display/revolution20"><img class="logo global custom" src="/download/attachments/9109505/global.logo?version=2&modificationDate=1356105314000" alt=""></a>        
		<span id="title-text">
					            <a href="/display/revolution20/Reverse+Engineer+xPDO+Classes+from+Existing+Database+Table">Reverse Engineer xPDO Classes from Existing Database Table</a>
    				</span>
    </h1>

    

    
    
    
    <div id="content" class="page view">
    



<fieldset id="link-to-page-fields" class="hidden parameters">
    <input type="hidden" id="linkToThisPageHeading" value="Link to this Page">
    <input type="hidden" id="linkToThisPageLink" value="Link">
    <input type="hidden" id="linkToThisPageTinyLink" value="Tiny Link">
    <input type="hidden" id="linkToThisPageWikiMarkup" value="Wiki Markup">
    <input type="hidden" id="linkToThisPageClose" value="Close">
</fieldset>
<fieldset class="hidden parameters">
    <input type="hidden" title="movePageDialogViewPageTitle" value="Move Page &ndash; &#8216;Reverse Engineer xPDO Classes from Existing Database Table&#8217;">
    <input type="hidden" title="movePageDialogEditPageTitle" value="Set Page Location">
    <input type="hidden" title="movePageDialogMoveButton" value="Move">
    <input type="hidden" title="movePageDialogOkButton" value="OK">
    <input type="hidden" title="movePageDialogCancelButton" value="Cancel">
    <input type="hidden" title="movePageDialogBrowsePanelTip" value="Click to select the new parent page for this page and its children.">
    <input type="hidden" title="movePageDialogSearchPanel" value="Search">
    <input type="hidden" title="movePageDialogHistoryPanel" value="Recently Viewed">
    <input type="hidden" title="movePageDialogHistoryNoResults" value="There were no recently viewed pages found.">
    <input type="hidden" title="movePageDialogLocationPanel" value="Known Location">
    <input type="hidden" title="movePageDialogLocationNotFound" value="The specified page was not found.">
    <input type="hidden" title="movePageDialogBrowsePanel" value="Browse">
    <input type="hidden" title="movePageDialogPanelLoadErrorMsg" value="Error reading the panel content from the server.">
    <input type="hidden" title="movePageDialogPanelLoadErrorTip" value="You could try reloading the page and launching the dialog again.">
    <input type="hidden" title="movePageDialogPanelLoadErrorStatus" value="HTTP Status">
    <input type="hidden" title="movePageDialogNoSelectionErrorMsg" value="You must make a selection in the tree before you can move the page.">
    <input type="hidden" title="movePageDialogSearchError" value="Failed to retrieve search results from the server.">
    <input type="hidden" title="movePageDialogSearchNoResults" value="There were no pages found containing <b>{0}</b>.">
    <input type="hidden" title="movePageDialogSearchResultCount" value="Showing <b>{0}</b>-<b>{1}</b> of <b>{2}</b> pages containing <b>{3}</b>.">
    <input type="hidden" title="movePageDialogMoveFailed" value="Move failed. There was a problem contacting the server.">
    <input type="hidden" title="movePageDialogCannotChangeSpace" value="You cannot move this page to another space because you do not have permission to remove it from this space.">
    <input type="hidden" title="pageTitle" value="Reverse Engineer xPDO Classes from Existing Database Table"/>
    <input type="hidden" title="parentPageTitle" value="Case Studies and Tutorials"/>
    <input type="hidden" title="fromPageTitle" value=""/>
    <input type="hidden" title="spaceKey" value="revolution20"/>
    <input type="hidden" title="spaceName" value="MODx Revolution 2.x"/>
    <input type="hidden" title="movePageDialogInvalidLocation" value="You cannot move a page to be underneath itself or its children."/>
    <input type="hidden" title="movePageDialogOrderingTitle" value="Page Ordering"/>
    <input type="hidden" title="movePageDialogBackButton" value="Back"/>
    <input type="hidden" title="movePageDialogMoveAndOrderButton" value="Reorder"/>
    <input type="hidden" title="movePageDialogNextButton" value="Move"/>    
</fieldset>

<script type="text/x-template" title="movePageDialog">
    <div class="row information">
        Specify the new parent page for this page and its children by space and title.
    </div>
    <div class="form">
        <fieldset>
            

    <legend class="assistive"><span>Change the Parent Page to a Known Page</span></legend>
            <div class="row">
                <label for="new-space">New space:</label>
                <div class="value new-space-value">
                    <input id="new-space-key" name="new-space-key" type="hidden" value="revolution20">
                                            <span class="space-input">
                            <input id="new-space" name="new-space" value="MODx Revolution 2.x" disabled="disabled">
                        </span>
                        <span class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</span>
                                        <div class="new-space-dropdown aui-dd-parent"></div>
                </div>
            </div>
            <div class="row">
                <label for="new-parent-page">New parent page:</label>
                <div class="value new-parent-page-value">
                    <span class="page-input">
                        <input id="new-parent-page" name="new-parent-page" value="Case Studies and Tutorials">
                    </span>
                    <span class="description">Start typing a page title to see a list of suggestions.</span>
                    <div class="new-parent-page-dropdown aui-dd-parent autocomplete"></div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="location-info">
        <div class="row">
            <label>Current location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="current-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <label>New location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="new-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" title="movePageErrors">
    <div id="move-errors" class="hidden warning"></div>
</script>
<script type="text/x-template" title="movePageBreadcrumb">
    <li><a class="{2}" title="{3}" tabindex="-1"><span>{0}</span></a></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbLoading">
    <li class="loading"><span>Loading breadcrumbs&hellip;</span></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbError">
    <li class="warning last"><span>Error retrieving breadcrumbs.</span></li>
</script>
<script type="text/x-template" title="movePageNoMatchingPages">
    <ol><li><span class="warning">No matching pages found.</span></li></ol>
</script>
<script type="text/x-template" title="movePageNoMatchingSpaces">
    <ol><li><span class="warning">No matching spaces found.</span></li></ol>
</script>

<script type="text/x-template" title="movePageSearchPanel">
<div class="row information">
    Search for and select the new parent page for this page and its children.
</div>
<div id="move-page-search-container" class="row">
    <div class="search-form">
        <fieldset>
            

    <legend class="assistive"><span>Search for a New Parent Page</span></legend>
            

    <label  for="move-page-search-query" class="assistive">Search keywords</label>
            <input class="search-query" id="move-page-search-query">
            

    <label  for="move-page-search-space" class="assistive">Search in space</label>
                            <select id="move-page-search-space" class="search-space" disabled="disabled">
                    <option value="revolution20" selected="selected">MODx Revolution 2.x</option>
                </select>
                        <input type="button" value="Search">
                            <div class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</div>
                    </fieldset>
    </div>
    <div class="search-results">
    </div>
</div>
</script>
<script type="text/x-template" title="movePageSearchResultsLoading">
    <div class="searching">Searching…</div>
</script>

<script type="text/x-template" title="movePageHistoryPanel">
<div class="row information">
    Select the new parent page for this page and its children from your history.
</div>
<div id="move-page-search-container" class="row">
    <div class="search-results">
    </div>
</div>
</script>
<script type="text/x-template" title="movePageHistoryLoading">
    <div class="searching">Loading…</div>
</script>
<script type="text/x-template" title="movePageBrowsePanel">
    <div class="row information">
        Click to select the new parent page for this page and its children.
    </div>
    <div class="tree"></div>
</script>
<script type="text/x-template" title="movePagePanelLoading">
    <span>Loading…</span>
</script>
<script type="text/x-template" title="movePageBrowsePanelSpace">
    <ul><li id='tree-root-node-item' class='root-node-list-item'><a class='root-node' href='#'>{0}</a></li></ul>
</script>
<script type="text/x-template" title="orderingPagePanel">
<div id="orderingPlaceHolder"></div>
</script>
<script type="text/x-template" title="reorderCheckbox">
<span id="reorderRequirement"><input id="reorderCheck" type="checkbox" name="reorderFlag" title="Choose the position of this page within the list of child pages."/><label for="reorderCheck" title="Choose the position of this page within the list of child pages.">Reorder</label></span>
</script>
<script type="text/x-template" title="move-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-33/Moving+a+Page" target="_blank">Help</a>
    </div>
</script>
<script type="text/x-template" title="searchResultsGrid">
    <table>
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <th class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></th>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
<!-- Start restrictions section -->
<fieldset class="hidden parameters i18n">
        <input type="hidden" id="i18n.page.perms.error.invalid.entity.names" value="Unknown user or group:">
        <input type="hidden" id="i18n.page.perms.dialog.heading" value="Page Restrictions">
        <input type="hidden" id="i18n.page.perms.editing.restricted.to" value="Editing restricted to:">
        <input type="hidden" id="i18n.cancel.name" value="Cancel">
        <input type="hidden" id="i18n.close.name" value="Close">
        <input type="hidden" id="i18n.update.name" value="Save">
</fieldset>

<script type="text/x-template" title="page-permissions-div">
<div id="page-permissions-div">
    <div id="page-permissions-editor-form">

                <div id="page-permissions-error-div" class="hidden">
            <a href="#" id="permissions-error-div-close">Ok</a>
            <div></div>
        </div>

                <div id="page-permissions-type-radios" class="page-permissions-label-rows">
            <div>
                <input id="restrictViewRadio" type="radio" checked="checked" name="pagePermissionTypeRadio" value="view"/>
                <label for="restrictViewRadio">Restrict viewing of this page</label>
                <input id="restrictEditRadio" type="radio" name="pagePermissionTypeRadio" value="edit"/>
                <label for="restrictEditRadio">Restrict editing of this page</label>
            </div>
        </div>
        <div id="page-permissions-input" class="page-permissions-label-rows">
            <div class="page-permissions-label">To:</div>
            <div id="page-permissions-chooser-box">
                                <span id="page-permissions-choose-user" class="ajs-button">
                    



    



<a href="#" id='userpicker-popup-link-image' onClick="var picker = window.open('/spaces/openuserpicker.action?key=revolution20&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;"><img src="/s/1911/69/_/images/icons/user_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose users" /></a>
<a href="#" id='userpicker-popup-link-text' onClick="var picker = window.open('/spaces/openuserpicker.action?key=revolution20&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;">Person...</a>


                </span>
                <span id="page-permissions-choose-group" class="ajs-button">
                    



    

 

<a href="#" id='grouppicker-popup-link-image' onClick="var picker = window.open('/spaces/opengrouppicker.action?key=revolution20&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;"><img src="/s/1911/69/_/images/icons/group_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose groups" /></a>
<a href="#" id='grouppicker-popup-link-text' onClick="var picker = window.open('/spaces/opengrouppicker.action?key=revolution20&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;">Group...</a>


                </span>
            </div>
            <div id="page-permissions-input-box">
                                <span>
                    <input type="text" id="page-permissions-names-input" class="input-placeholder" value="Enter user or group name" name="permissionNames" size="30" autocomplete="off"/>
                </span>
                <input
    type="hidden"
                            id="page-permissions-names-hidden"           />                <img height="16px" width="1px" src="/s/1911/69/_/images/border/spacer.gif"/>
                <input type="button" id="add-typed-names" value="Restrict">
            </div>
        </div>
    </div>
    <div id="page-permissions-tables">
        <div id="page-permissions-table-div">
                        <table id="page-permissions-table" class="page-permissions-table">
                <tr id="page-permissions-no-views" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No view restrictions are defined for this page</span></td>
                </tr>
                <tr id="page-permissions-no-edits" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No edit restrictions are defined for this page</span></td>
                </tr>
            </table>
        </div>
        <div id="page-inherited-permissions-table-div" class="hidden">
            <span id="page-inherited-permissions-table-desc">
                <a class="icon twisty-closed">Show/Hide</a>
                <a id="toggle-inherited-permissions" title="Click to see inherited restrictions">This page has restricted parent pages. It can only be seen by users who can see those parent pages.</a>
            </span>
            <div id="page-inherited-permissions-tables" class="hidden page-inheritance-togglable"></div>
        </div>
    </div>
</div>
</script>

<script type="text/x-template" title="permissions-row-template">
    <tr class="permission-row">
                                
                <td class="page-permissions-marker-cell" width="20%">
            <span>Viewing restricted to:</span>
        </td>
                <td class="permission-entity" nowrap="true" width="40%">
            <span class="entity-container">
                <img class="permission-entity-picture"/>
                <span class="permission-entity-display-name"></span>
                <span class="permission-entity-name-wrap">&nbsp;(<span class="permission-entity-name"></span>)</span>
            </span>
        </td>
        <td class="permission-detail-column">
            <div class="permission-remove-div">
                <a href="#" class="remove-permission-link">Remove restriction</a>
            </div>
        </td>
    </tr>
</script>
<script type="text/x-template" title="permissions-username-no-suggestion-template">
    <ol>
        <li><a href="#" class="message"><span>No matches</span></a></li>
    </ol>
</script>
<script type="text/x-template" title="page-inherited-permissions-table-div-template">
        <div class="page-inherited-permissions-owner-div">
        <div class="page-inherited-permissions-table-desc">Viewing restrictions apply to “<a></a>”. In order to see “<span></span>”, a user must be in the following list of users and groups:</div>
        <table class="page-permissions-table"></table>
    </div>
</script>
<script type="text/x-template" title="page-restrictions-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-33/Page+Restrictions" target="_blank">Help</a>
    </div>
</script>
<!-- End restrictions section -->

        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="18678106">
        </fieldset>

        
                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">
    
            
    
    <a  id="content-metadata-page-restrictions" href="#"  class="page-metadata-icon page-restrictions hidden"   title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Page restrictions apply</span></a>        </li>
                            <li class="page-metadata-item noprint">
    
        
    
    <a  id="content-metadata-attachments" href="/pages/viewpageattachments.action?pageId=33226895&metadataLink=true"  class="page-metadata-icon action-view-attachments"  accessKey="a"  title="Attachments: 1">
                   <span><span class="page-metadata-attachments-text">Attachments:</span><span class="page-metadata-attachments-count">1</span></span></a>        </li>
                        <li class="page-metadata-modification-info">
                                    Added by <a href="/display/~everettg_99"
                          class="url fn"
                   >Everett Griffiths</a>, last edited by <a href="/display/~bobray"
                          class="url fn"
                   >Bob Ray</a> on Jul 30, 2013
                                                                <span class="noprint">&nbsp;(<a id="view-change-link" href="/pages/diffpages.action?pageId=33226895&originalId=46694560">view change</a>)</span>
                                                </li>
                    </ul>
          <div id="version-comment" class="noteMacro" style="display: none;">
      <strong>Comment:</strong>
      <br />
  </div>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>
        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div class="wiki-content">
           <!-- wiki content -->
            <p><br class="atl-forced-newline" /></p>

<div>
<ul>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-Introduction'>Introduction</a></li>
<ul>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-AccessPoints'>Access Points</a></li>
</ul>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-CreatingaMySQLtable'>Creating a MySQL table</a></li>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-CreateReverseEngineeringScript'>Create Reverse Engineering Script</a></li>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-DefiningKeyRelationships'>Defining Key Relationships</a></li>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-AccessingyourData'>Accessing your Data</a></li>
    <li><a href='#ReverseEngineerxPDOClassesfromExistingDatabaseTable-SeeAlso'>See Also</a></li>
</ul></div>

<h2><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-Introduction"></a>Introduction</h2>

<p>The xPDO Object-Relational-Bridge (ORB) relies on a series of PHP classes to provide an interface to database tables.  These PHP classes can be generated automatically by parsing a specially formatted XML file, by reverse engineering existing database tables, or they can even be written by hand (masochists only).  The easiest approach when dealing with a custom database table is to reverse engineer existing MySQL database tables: MySQL has been around for a long time, and there are numerous tutorials and books out there to help you learn how to use it. </p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>If you're wanting to extend existing MODx classes, e.g. by creating <a href="/display/revolution20/Custom+Resource+Classes" title="Custom Resource Classes">Custom Resource Classes</a>, then usually you will start this process with the XML file.</td></tr></table></div>

<p>Our process will be this:</p>

<ol>
	<li>Create a database table (or tables) using MySQL (this can be done via the mysql command line or any number of MySQL GUI clients, e.g. phpMyAdmin or SQL-Yog).</li>
	<li>Copy the "reverse-engineering" script (provided below) to your webserver.  Put it at the root of your MODx install (this is important so the script can find xPDO). This script uses the xPDO classes to sniff out the definition of the table you just created.</li>
	<li>If needed, modify the generated XML definition file to define foreign key relationships, then re-run the script to regenerate the class files.</li>
	<li>Connect your newly created class and schema files to a Snippet or Custom Manager Page.</li>
</ol>


<p>Even if you plan to deploy your code and its associated data models onto multiple other other platforms, it's generally considered <b>much</b> easier to develop it with a single database in mind. Once you've done that, you can then focus on abstraction later.  You can of course jump right into the xPDO definitions and classes that will define database-agnostic classes and schemas, but it is more difficult for the novice precisely because it deals with abstractions.  The further you get from concrete examples, the more difficult the development becomes.</p>


<h3><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-AccessPoints"></a>Access Points</h3>

<p>xPDO is the engine behind this database abstraction &#8211; ultimately it needs PHP classes that describe the data model.  You can supply an XML schema which will generate the PHP files which will in turn generate the necessary tables &#8211; this is how third-party components are distributed because it provides a predictable and unified way of creating new database tables.  But in this example, we're going to start with a database table and use that to generate the XML schema, which will in turn generate the necessary PHP classes.</p>

<p>In the image below, it's important to realize that you can start with any one component, and the other 2 can be automatically generated.</p>

<p><span class="image-wrap" style="display: block; text-align: center"><img src="/download/attachments/33226895/xPDO_Forward_and_Reverse.jpg?version=1&amp;modificationDate=1322284979000" style="border: 0px solid black" /></span></p>

<p>Arguably, the easiest "access point" to the xPDO technology is to start with some existing database tables and use those to generate the XML schema file and PHP classes, and that's what this page demonstrates.</p>


<h2><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-CreatingaMySQLtable"></a>Creating a MySQL table</h2>

<p>One of the easiest ways to create a MySQL table is to use one of the many GUI editors available. SQL-Yog is a great desktop application for MySQL management on Windows, Macs offer Sequel Pro.  If you are using a web application, phpMyAdmin is nearly ubiquitous.</p>

<h2><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-CreateReverseEngineeringScript"></a>Create Reverse Engineering Script</h2>

<p>We need a script to scan your database tables and generate the XML schema and PHP files.  In general, this is a "disposable" script that you may only need to run once. You will probably need to make adjustments and run it more than once, but in concept and in function, this script is merely scaffolding.</p>

<div class='panelMacro'><table class='tipMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="/images/icons/emoticons/check.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>You can download a version of this script and see a tutorial that describes using this method with a simple custom DB table at <a href="http://bobsguides.com/custom-db-tables.html" class="external-link" rel="nofollow">Bob's Guides</a>.</td></tr></table></div>


<p>The crux of this script are 2 xPDO methods (note, however, that the methods belong to children objects):</p>
<ul>
	<li>writeSchema</li>
	<li>parseSchema</li>
</ul>


<p>Together, they behave similarly to other ORM's, e.g. Doctrine</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
<span class="code-comment">// Sample Doctrine code:
</span>Doctrine_Core::generateModelsFromDb();
</pre>
</div></div>

<p>Here's a reverse-engineering script that allows a bit of configuration and does a little error checking:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
&lt;?php
/*------------------------------------------------------------------------------
================================================================================
=== Reverse Engineer Existing MySQL Database Tables to xPDO Maps and Classes ===
================================================================================

SYNOPSIS:
This script generates the XML schema and PHP class files that describe custom
database tables.

This script is meant to be executed once only: after the class and schema files
have been created, the purpose of <span class="code-keyword">this</span> script has been served, though you will need to run it again <span class="code-keyword">if</span> you modify your schema.

USAGE:
1. Upload <span class="code-keyword">this</span> file to the root of your MODx installation
2. Set the configuration details below
3. Navigate to <span class="code-keyword">this</span> script in a browser to execute it,
	e.g. http:<span class="code-comment">//yoursite.com/thisscript.php
</span>	or, you can <span class="code-keyword">do</span> <span class="code-keyword">this</span> via the command line, e.g. php <span class="code-keyword">this</span>-script.php

INPUT:
Please configure the options below.

OUTPUT:
Creates XML and PHP files:
	core/components/$package_name/model/$package_name/*.class.php
	core/components/$package_name/model/$package_name/mysql/*.class.php
	core/components/$package_name/model/$package_name/mysql/*.inc.php
	core/components/$package_name/schema/$package_name.mysql.schema.xml

SEE ALSO:
http:<span class="code-comment">//modxcms.com/forums/index.php?topic=40174.0
</span>http:<span class="code-comment">//rtfm.modx.com/display/revolution20/Using+Custom+Database+Tables+in+your+3rd+Party+Components
</span>http:<span class="code-comment">//rtfm.modx.com/display/xPDO20/xPDOGenerator.writeSchema
</span>------------------------------------------------------------------------------*/

/*------------------------------------------------------------------------------
		CONFIGURATION
------------------------------------------------------------------------------
Be sure to create a valid database user with permissions to the appropriate
databases and tables before you <span class="code-keyword">try</span> to run <span class="code-keyword">this</span> script, e.g. by running
something like the following:

CREATE USER 'your_user'@'localhost' IDENTIFIED BY 'y0urP@$$w0rd';
GRANT ALL ON your_db.* TO 'your_user'@'localhost';
FLUSH PRIVILEGES;

Be sure to test that the login criteria you created actually work before
continuing. If you *can* log in, but you receive errors (e.g. SQLSTATE[42000] [1044] )
when <span class="code-keyword">this</span> script runs, then you may need to grant permissions <span class="code-keyword">for</span> CREATE TEMPORARY TABLES
------------------------------------------------------------------------------*/
$debug = <span class="code-keyword">false</span>;	 	<span class="code-comment">// <span class="code-keyword">if</span> <span class="code-keyword">true</span>, will include verbose debugging info, including SQL errors.
</span>$verbose = <span class="code-keyword">true</span>;	<span class="code-comment">// <span class="code-keyword">if</span> <span class="code-keyword">true</span>, will print status info.
</span>
<span class="code-comment">// The XML schema file *must* be updated each time the database is modified, either
</span><span class="code-comment">// manually or via <span class="code-keyword">this</span> script. By <span class="code-keyword">default</span>, the schema is regenerated.
</span><span class="code-comment">// If you have spent time adding in composite/aggregate relationships to your
</span><span class="code-comment">// XML schema file (i.e. foreign key relationships), then you may want to set <span class="code-keyword">this</span>
</span><span class="code-comment">// to '<span class="code-keyword">false</span>' in order to preserve your custom modifications.
</span>$regenerate_schema = <span class="code-keyword">true</span>;

<span class="code-comment">// <span class="code-object">Class</span> files are not overwritten by <span class="code-keyword">default</span>
</span>$regenerate_classes = <span class="code-keyword">true</span>;

<span class="code-comment">// Your <span class="code-keyword">package</span> shortname:
</span>$package_name = '';


<span class="code-comment">// Database Login Info can be set explicitly:
</span>$database_server 	= 'localhost';		<span class="code-comment">// most frequently, your database resides locally
</span>$dbase 			= '';		<span class="code-comment">// name of your database
</span>$database_user 		= '';		<span class="code-comment">// name of the user
</span>$database_password 	= '';	<span class="code-comment">// password <span class="code-keyword">for</span> that database user
</span>
<span class="code-comment">// <span class="code-keyword">if</span> <span class="code-keyword">this</span> file is not placed side by side with the config.core.php file, add the directory path
</span>include_once 'config.core.php';
<span class="code-comment">// OR, use your MODx Revo connection details.  Just uncomment the next line:
</span><span class="code-comment">//include(MODX_CORE_PATH . 'config/' . MODX_CONFIG_KEY . '.inc.php');
</span>
<span class="code-comment">// If your tables use a prefix, <span class="code-keyword">this</span> will help identify them and it ensures that
</span><span class="code-comment">// the class names appear <span class="code-quote">"clean"</span>, without the prefix.
</span>$table_prefix = '';
<span class="code-comment">// If you specify a table prefix, you probably want <span class="code-keyword">this</span> set to '<span class="code-keyword">true</span>'. E.g. <span class="code-keyword">if</span> you
</span><span class="code-comment">// have custom tables alongside the modx_xxx tables, restricting the prefix ensures
</span><span class="code-comment">// that you only generate classes/maps <span class="code-keyword">for</span> the tables identified by the $table_prefix.
</span>$restrict_prefix = <span class="code-keyword">false</span>;




<span class="code-comment">//------------------------------------------------------------------------------
</span><span class="code-comment">//  DO NOT TOUCH BELOW THIS LINE
</span><span class="code-comment">//------------------------------------------------------------------------------
</span><span class="code-keyword">if</span> (!defined('MODX_CORE_PATH')) {
    print_msg('&lt;h1&gt;Reverse Engineering Error&lt;/h1&gt;
        &lt;p&gt;MODX_CORE_PATH not defined! Did you include the correct config file?&lt;/p&gt;');
    exit;
}

$xpdo_path = strtr(MODX_CORE_PATH . 'xpdo/xpdo.class.php', '\\', '/');
include_once ( $xpdo_path );

<span class="code-comment">// A few definitions of files/folders:
</span>$package_dir = MODX_CORE_PATH . <span class="code-quote">"components/$package_name/"</span>;
$model_dir = MODX_CORE_PATH . <span class="code-quote">"components/$package_name/model/"</span>;
$class_dir = MODX_CORE_PATH . <span class="code-quote">"components/$package_name/model/$package_name"</span>;
$schema_dir = MODX_CORE_PATH . <span class="code-quote">"components/$package_name/model/schema"</span>;
$mysql_class_dir = MODX_CORE_PATH . <span class="code-quote">"components/$package_name/model/$package_name/mysql"</span>;
$xml_schema_file = MODX_CORE_PATH . <span class="code-quote">"components/$package_name/model/schema/$package_name.mysql.schema.xml"</span>;

<span class="code-comment">// A few variables used to track execution times.
</span>$mtime= microtime();
$mtime= explode(' ', $mtime);
$mtime= $mtime[1] + $mtime[0];
$tstart= $mtime;

<span class="code-comment">// Validations
</span><span class="code-keyword">if</span> ( empty($package_name) ) {
	print_msg('&lt;h1&gt;Reverse Engineering Error&lt;/h1&gt;
		&lt;p&gt;The $package_name cannot be empty!  Please adjust the configuration and <span class="code-keyword">try</span> again.&lt;/p&gt;');
	exit;
}

<span class="code-comment">// Create directories <span class="code-keyword">if</span> necessary
</span>$dirs = array($package_dir, $schema_dir ,$mysql_class_dir, $class_dir);

foreach ($dirs as $d) {
	<span class="code-keyword">if</span> ( !file_exists($d) ) {
		<span class="code-keyword">if</span> ( !mkdir($d, 0777, <span class="code-keyword">true</span>) ) {
			print_msg( sprintf('&lt;h1&gt;Reverse Engineering Error&lt;/h1&gt;
				&lt;p&gt;Error creating &lt;code&gt;%s&lt;/code&gt;&lt;/p&gt;
				&lt;p&gt;Create the directory (and its parents) and <span class="code-keyword">try</span> again.&lt;/p&gt;'
				, $d
			));
			exit;
		}
	}
	<span class="code-keyword">if</span> ( !is_writable($d) ) {
		print_msg( sprintf('&lt;h1&gt;Reverse Engineering Error&lt;/h1&gt;
			&lt;p&gt;The &lt;code&gt;%s&lt;/code&gt; directory is not writable by PHP.&lt;/p&gt;
			&lt;p&gt;Adjust the permissions and <span class="code-keyword">try</span> again.&lt;/p&gt;'
		, $d));
		exit;
	}
}

<span class="code-keyword">if</span> ( $verbose ) {
	print_msg( sprintf('&lt;br/&gt;&lt;strong&gt;Ok:&lt;/strong&gt; The necessary directories exist and have the correct permissions inside of &lt;br/&gt;
		&lt;code&gt;%s&lt;/code&gt;', $package_dir));
}

<span class="code-comment">// Delete/regenerate map files?
</span><span class="code-keyword">if</span> ( file_exists($xml_schema_file) &amp;&amp; !$regenerate_schema &amp;&amp; $verbose) {
	print_msg( sprintf('&lt;br/&gt;&lt;strong&gt;Ok:&lt;/strong&gt; Using existing XML schema file:&lt;br/&gt;&lt;code&gt;%s&lt;/code&gt;',$xml_schema_file));
}

$xpdo = <span class="code-keyword">new</span> xPDO(<span class="code-quote">"mysql:host=$database_server;dbname=$dbase"</span>, $database_user, $database_password, $table_prefix);

<span class="code-comment">// Set the <span class="code-keyword">package</span> name and root path of that <span class="code-keyword">package</span>
</span>$xpdo-&gt;setPackage($package_name, $package_dir, $package_dir);
$xpdo-&gt;setDebug($debug);

$manager = $xpdo-&gt;getManager();
$generator = $manager-&gt;getGenerator();

<span class="code-comment">//Use <span class="code-keyword">this</span> to create an XML schema from an existing database
</span><span class="code-keyword">if</span> ($regenerate_schema) {
	$xml = $generator-&gt;writeSchema($xml_schema_file, $package_name, 'xPDOObject', $table_prefix, $restrict_prefix);
	<span class="code-keyword">if</span> ($verbose)
	{
		print_msg( sprintf('&lt;br/&gt;&lt;strong&gt;Ok:&lt;/strong&gt; XML schema file generated: &lt;code&gt;%s&lt;/code&gt;',$xml_schema_file));
	}
}

<span class="code-comment">// Use <span class="code-keyword">this</span> to generate classes and maps from your schema
</span><span class="code-keyword">if</span> ($regenerate_classes) {

	print_msg('&lt;br/&gt;Attempting to remove/regenerate class files...');
	delete_class_files( $class_dir );
	delete_class_files( $mysql_class_dir );
}

<span class="code-comment">// This is harmless in and of itself: files won't be overwritten <span class="code-keyword">if</span> they exist.
</span>$generator-&gt;parseSchema($xml_schema_file, $model_dir);

$mtime= microtime();
$mtime= explode(<span class="code-quote">" "</span>, $mtime);
$mtime= $mtime[1] + $mtime[0];
$tend= $mtime;
$totalTime= ($tend - $tstart);
$totalTime= sprintf(<span class="code-quote">"%2.4f s"</span>, $totalTime);

<span class="code-keyword">if</span> ($verbose) {
	print_msg(<span class="code-quote">"&lt;br/&gt;&lt;br/&gt;&lt;strong&gt;Finished!&lt;/strong&gt; Execution time: {$totalTime}&lt;br/&gt;"</span>);

	<span class="code-keyword">if</span> ($regenerate_schema)
	{
		print_msg(<span class="code-quote">"&lt;br/&gt;If you need to define aggregate/composite relationships in your XML schema file, be sure to regenerate your class files."</span>);
	}
}

exit ();


/*------------------------------------------------------------------------------
INPUT: $dir: a directory containing class files you wish to delete.
------------------------------------------------------------------------------*/
function delete_class_files($dir) {
	global $verbose;

	$all_files = scandir($dir);
	foreach ( $all_files as $f ) {
		<span class="code-keyword">if</span> ( preg_match('#\.class\.php$#i', $f) || preg_match('#\.map\.inc\.php$#i', $f)) {
			<span class="code-keyword">if</span> ( unlink(<span class="code-quote">"$dir/$f"</span>) ) {
				<span class="code-keyword">if</span> ($verbose) {
					print_msg( sprintf('&lt;br/&gt;Deleted file: &lt;code&gt;%s/%s&lt;/code&gt;',$dir,$f) );
				}
			}
			<span class="code-keyword">else</span> {
				print_msg( sprintf('&lt;br/&gt;Failed to delete file: &lt;code&gt;%s/%s&lt;/code&gt;',$dir,$f) );
			}
		}
	}
}
/*------------------------------------------------------------------------------
Formats/prints messages.  The behavior is different <span class="code-keyword">if</span> the script is run
via the command line (cli).
------------------------------------------------------------------------------*/
function print_msg($msg) {
	<span class="code-keyword">if</span> ( php_sapi_name() == 'cli' ) {
		$msg = preg_replace('#&lt;br\s*/&gt;#i', <span class="code-quote">"\n"</span>, $msg);
		$msg = preg_replace('#&lt;h1&gt;#i', '== ', $msg);
		$msg = preg_replace('#&lt;/h1&gt;#i', ' ==', $msg);
		$msg = preg_replace('#&lt;h2&gt;#i', '=== ', $msg);
		$msg = preg_replace('#&lt;/h2&gt;#i', ' ===', $msg);
		$msg = strip_tags($msg) . <span class="code-quote">"\n"</span>;
	}
	print $msg;
}

/* EOF */
</pre>
</div></div>

<p>To check whether or not this script succeeded, take a look inside the folder that is mentioned in its output, e.g.<br/>
<b>/user/youruser/public_html/core/components/yourpackage/model/yourpackage</b>.  You should see a couple files &#8211; one for each table.  If you see a TON of tables corresponding to all of MODx's tables, then try to explicitly set the database password and name &#8211; leave the following line commented out:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
<span class="code-comment">//include('core/config/config.inc.php');</span>
</pre>
</div></div>

<p>See <a href="http://modxcms.com/forums/index.php?topic=40174.0" class="external-link" rel="nofollow">http://modxcms.com/forums/index.php?topic=40174.0</a> for more discussion on this script.</p>


<h2><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-DefiningKeyRelationships"></a>Defining Key Relationships</h2>

<p>Once you have your XML schema file generated, you may need to edit it manually to define any foreign key relationships between your tables.  It's best if you create a backup of the XML schema file, then add in your aggregate and composite relationships (see <a href="/display/xPDO20/More+Examples+of+xPDO+XML+Schema+Files" title="More Examples of xPDO XML Schema Files">Schema Files and Relations</a> for more info).</p>

<p>In the scaffolding script above, set the following:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
$regenerate_schema = <span class="code-keyword">false</span>;
</pre>
</div></div>

<p>Then re-run the script in order to push your changes in the XML to the PHP class files.</p>



<h2><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-AccessingyourData"></a>Accessing your Data</h2>

<p>Once you've created the required xPDO classes, you need to use xPDO's methods to access them (e.g. in a Snippet or in a Custom Manager Page).  In order for xPDO to access the objects, you have to load up the corresponding PHP classes using the <b>addPackage</b> method.  <b>addPackage</b> is what triggers the PHP classes to be included.</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">
<span class="code-keyword">if</span>(!$modx-&gt;addPackage('mypackage','/full/path/to/core/components/mypackage/model/','mp_')) {
    <span class="code-keyword">return</span> 'There was a problem adding your <span class="code-keyword">package</span>!  Check the logs <span class="code-keyword">for</span> more info!';
}

$my_items = $modx-&gt;getCollection('Items');

$output = '';

<span class="code-keyword">if</span> ($my_items) {
    foreach ($my_items as $item) {
        $output .= $item-&gt;get('itemname') . '&lt;br/&gt;';
    }
}
<span class="code-keyword">else</span> {
    <span class="code-keyword">return</span> 'No items found.';
}

<span class="code-keyword">return</span> $output;
</pre>
</div></div>

<div class='panelMacro'><table class='warningMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="/images/icons/emoticons/forbidden.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td><b>Watch the Prefix!</b><br /><a href="/display/xPDO20/xPDO.addPackage" title="xPDO.addPackage">addPackage</a> requires that you specify the correct table prefix for your package!</td></tr></table></div>

<h2><a name="ReverseEngineerxPDOClassesfromExistingDatabaseTable-SeeAlso"></a>See Also</h2>

<ul>
	<li><a href="/display/xPDO20/More+Examples+of+xPDO+XML+Schema+Files" title="More Examples of xPDO XML Schema Files">Schema Files and Relations</a> Looking at XML schema file relations</li>
	<li><a href="/display/xPDO20/xPDO.addPackage" title="xPDO.addPackage">addPackage</a> for loading up your schema</li>
	<li><a href="/display/xPDO20/xPDO.getObject" title="xPDO.getObject">getObject</a> for loading up a single object</li>
	<li><a href="/display/xPDO20/xPDO.getCollection" title="xPDO.getCollection">getCollection</a> for loading up a collection of objects.</li>
	<li><a href="/display/xPDO20/Creating+Objects" title="Creating Objects">xPDO: Creating Objects</a></li>
	<li><a href="/display/xPDO20/Retrieving+Objects" title="Retrieving Objects">Retrieving Objects</a> a demonstration of how to retrieve objects using xPDO</li>
	<li><a href="/display/xPDO20/Generating+the+Model+Code" title="Generating the Model Code">Generating the Model Code</a> &#8211; offers a streamlined version of the script provided here, but you can also change your class templates.</li>
	<li><a href="/display/xPDO20/More+Examples+of+xPDO+XML+Schema+Files" title="More Examples of xPDO XML Schema Files">More Examples of xPDO XML Schema Files</a> &#8211; juxtaposes MySQL database tables with xPDO XML schemas</li>
	<li><a href="http://forums.modx.com/thread/31778/build-script-reverse-engineering-tables-forward-engineering-classes-maps" class="external-link" rel="nofollow">Build script: Reverse-engineering tables / forward-engineering classes / maps</a> &#8211; another example by Jason.
<style type='text/css'>/*<![CDATA[*/
table.ScrollbarTable  {border: none;padding: 3px;width: 100%;padding: 3px;margin: 0px;background-color: #f0f0f0}
table.ScrollbarTable td.ScrollbarPrevIcon {text-align: center;width: 16px;border: none;}
table.ScrollbarTable td.ScrollbarPrevName {text-align: left;border: none;}
table.ScrollbarTable td.ScrollbarParent {text-align: center;border: none;}
table.ScrollbarTable td.ScrollbarNextName {text-align: right;border: none;}
table.ScrollbarTable td.ScrollbarNextIcon {text-align: center;width: 16px;border: none;}

/*]]>*/</style><div class="Scrollbar"><table class='ScrollbarTable'><tr><td class='ScrollbarPrevIcon'><a href="/display/revolution20/Adding+Custom+Fields+to+Manager+Forms"><img border='0' align='middle' src='/images/icons/back_16.gif' width='16' height='16'></a></td><td width='33%' class='ScrollbarPrevName'><a href="/display/revolution20/Adding+Custom+Fields+to+Manager+Forms">Adding Custom Fields to Manager Forms</a>&nbsp;</td><td width='33%' class='ScrollbarParent'><sup><a href="/display/revolution20/Case+Studies+and+Tutorials"><img border='0' align='middle' src='/images/icons/up_16.gif' width='8' height='8'></a></sup><a href="/display/revolution20/Case+Studies+and+Tutorials">Case Studies and Tutorials</a></td><td width='33%' class='ScrollbarNextName'>&nbsp;<a href="/display/revolution20/Integrating+a+Template+into+MODX+Tutorial">Integrating a Template into MODX Tutorial</a></td><td class='ScrollbarNextIcon'><a href="/display/revolution20/Integrating+a+Template+into+MODX+Tutorial"><img border='0' align='middle' src='/images/icons/forwd_16.gif' width='16' height='16'></a></td></tr></table></div></li>
</ul>
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://oldrtfm.modx.com/display/revolution20/Reverse+Engineer+xPDO+Classes+from+Existing+Database+Table"
    dc:identifier="http://oldrtfm.modx.com/display/revolution20/Reverse+Engineer+xPDO+Classes+from+Existing+Database+Table"
    dc:title="Reverse Engineer xPDO Classes from Existing Database Table"
    trackback:ping="http://oldrtfm.modx.com/rpc/trackback/33226895"/>
</rdf:RDF>
-->

            
    


<fieldset class="hidden parameters">
    <legend>Labels parameters</legend>
    <input type="hidden" id="editLabel" value="Edit">
    <input type="hidden" id="addLabel" value="Add Labels">
    <input type="hidden" id="domainName" value="http://oldrtfm.modx.com">
    <input type="hidden" id="pageId" value="33226895">
    <input type="hidden" id="spaceKey" value="revolution20">
</fieldset>

<div id="labels-section" class="pageSection">
    <div id="default-labels-header" class="section-header">
        <h2 id="labels-section-title" class="section-title ">Labels</h2>
            </div>

    <div class="labels-editor">
        <div id="labelsList">
            <div id="label-2555906" class="confluence-label">
    <a class="label" rel="nofollow" href="/label/revolution20/xpdo">xpdo</a>    <span class="remove-label-caption">xpdo</span>
    <a class="remove-label" href="#">Delete</a>
</div>
<div id="label-33325063" class="confluence-label">
    <a class="label" rel="nofollow" href="/label/revolution20/reverse">reverse</a>    <span class="remove-label-caption">reverse</span>
    <a class="remove-label" href="#">Delete</a>
</div>
<div id="label-33325064" class="confluence-label">
    <a class="label" rel="nofollow" href="/label/revolution20/engineering">engineering</a>    <span class="remove-label-caption">engineering</span>
    <a class="remove-label" href="#">Delete</a>
</div>
<div id="label-33325065" class="confluence-label">
    <a class="label" rel="nofollow" href="/label/revolution20/mysql">mysql</a>    <span class="remove-label-caption">mysql</span>
    <a class="remove-label" href="#">Delete</a>
</div>
        </div>

        <span class="errorMessage error" id="errorSpan"></span>
        <form method="GET" action="" id="add-labels-form">
            <div id="labelInputSpan" class="labels-input">
                <div id="labelOperationErrorContainer" class="hidden">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>

                <div class="caption">Enter labels to add to this page:</div>
                <div id="label-input-fields">
                    <input autocomplete="off" id="labelsString" name="labelsString" value="" size="40">
                    <input id="add-labels-editor-button" type="submit" class="add-labels" value="Add">
                    <input id="close-labels-editor-button" type="submit" class="hide-labels-editor" value="Done">
                </div>
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="/s/1911/69/_/images/icons/wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div id="labelsAutocompleteList" class="aui-dd-parent"></div>
                <div class="labels-tip">
                    <div id="suggestedLabelsSpan"></div>
                    Looking for a label? Just start typing.
                </div>
            </div>
        </form>
    </div>
</div>

            
            




            
    

        
<fieldset class="parameters hidden">
    <input type="hidden" id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?">
    <input type="hidden" id="collapseTooltip" value="Click to toggle the display of this comment.">
        </fieldset>






<div id="comments-section" class="pageSection">
    
    
    
    
                                    </div>


            
</div>


    




        
        

    
    
    


<fieldset class="hidden parameters">
        <input type="hidden" id="i18n.manage.watchers.dialog.title" value="Manage Watchers">
        <input type="hidden" id="i18n.manage.watchers.unable.to.remove.error" value="Failed to remove watcher. Refresh page to see latest status.">
        <input type="hidden" id="i18n.manage.watchers.status.adding.watcher" value="Adding watcher&amp;hellip;">
</fieldset>
<script type="text/x-template" title="manage-watchers-dialog">
<div class="dialog-content">
    <div class="column page-watchers">
        <h3>Watching this page</h3>
        <p class="description">These people are notified when the page is changed. You can add or remove people from this list.</p>
        <form action="/json/addwatch.action" method="POST">
                <input type="hidden" name="atl_token" value="A3ljsk_iKm">
            <input type="hidden" name="pageId" value="33226895"/>
            <input type="hidden" id="add-watcher-username" name="username" value=""/>
            <label for="add-watcher-user">User</label>
            <input id="add-watcher-user" name="userFullName" type="search" class="has-placeholder autocomplete-user"
               value="" placeholder="Full name or username" autocomplete="off"
               data-max="10" data-target="#add-watcher-username" data-dropdown-target="#add-watcher-dropdown"
               data-template="{title}" data-none-message="No matching users found.">
            <input id="add-watcher-submit" type="submit" name="add" value="Add">
            <div id="add-watcher-dropdown" class="aui-dd-parent autocomplete"></div>
            <div class="status hidden"></div>
        </form>
        <ul class="user-list">
            <li class="loading">Loading&hellip;</li>
            <li class="no-users hidden">No page watchers</li>
        </ul>
    </div>
    <div class="column space-watchers">
        <h3>Watching this space</h3>
        <p class="description">These people are notified when any content in the space is changed. You cannot modify this list.</p>
        <ul class="user-list">
            <li class="loading">Loading&hellip;</li>
            <li class="no-users hidden">No space watchers</li>
        </ul>
    </div>
</div>
</script>
<script type="text/x-template" title="manage-watchers-user">
    <li class="watch-user">
        <img class="profile-picture confluence-userlink" src="{iconUrl}" data-username="{username}">
        <a class="confluence-userlink" href="{url}" data-username="{username}">{fullName} <span class="username">({username})</span></a>
        <span class="remove-watch" title="Remove"
            data-username="{username}">Remove</span>
    </li>
</script>
<script type="text/x-template" title="manage-watchers-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-33/Managing+Watchers" target="_blank">Help</a>
    </div>
</script>
    <br class="clear">
</div>
  
    </div>
</div>

<div id="footer">
                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to MODx CMS / xPDO. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> 3.3, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" class="hover-footer-link">Enterprise Wiki</a></li>
        <li class="print-only">Printed by Atlassian Confluence 3.3, the Enterprise Wiki.</li>        
        <li class="noprint"> &nbsp; |&nbsp; <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"> &nbsp;|&nbsp; <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-71684-1']);
  _gaq.push(['_setDomainName', 'oldrtfm.modx.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    </div>    <!-- include system javascript resources -->
                        
    
    
    <!-- end system javascript resources -->
</div>
</body>
</html>

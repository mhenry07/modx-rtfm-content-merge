<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
            <title>Creating a 3rd Party Component Build Script - MODx Revolution 2.x - MODX Documentation</title>
    
        

                        
    

            
<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="atlassian-token" name="atlassian-token" content="Ue9I4urNih">
<meta id="confluence-space-key" name="confluence-space-key" content="revolution20">

<script type="text/javascript">
    // Deprecated global variables. To be removed in a future version of Confluence.
    var contextPath = '';
</script>

    

<!-- include system css resources -->
<link type="text/css" rel="stylesheet" href="/s/1911/69/2/_/download/superbatch/css/batch.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1911/69/2/_/download/superbatch/css/batch.css?ieonly=true" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/1911/69/2/_/download/superbatch/css/batch.css?media=print" media="print">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.20/_/download/batch/com.atlassian.confluence.plugins.pagetree:pagetree-resources/com.atlassian.confluence.plugins.pagetree:pagetree-resources.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/batch/confluence.web.resources:view-comment/confluence.web.resources:view-comment.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/batch/confluence.web.resources:view-comment/confluence.web.resources:view-comment.css?ieonly=true" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.9.3/_/download/batch/confluence.macros.advanced:fancy-box/confluence.macros.advanced:fancy-box.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0.8/_/download/batch/com.atlassian.confluence.plugins.drag-and-drop:support/com.atlassian.confluence.plugins.drag-and-drop:support.css" media="all">
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/resources/confluence.web.resources:aui-forms/confluence-forms.css" media="all">
<!--[if IE]>
<link type="text/css" rel="stylesheet" href="/s/1911/69/1.0/_/download/batch/confluence.web.resources:aui-forms/confluence.web.resources:aui-forms.css?ieonly=true" media="all">
<![endif]-->

<!-- end system css resources -->

    <link rel="stylesheet" href="/s/1911/69/6/_/styles/combined.css?spaceKey=revolution20" type="text/css">

    <meta name="confluence-request-time" content="1381731345845">

<meta name="loggedInUsername" content="">
    
    <link rel="shortcut icon" href="/favicon.ico">
    <link rel="icon" type="image/png" href="/s/1911/69/_/images/logo/confluence_16.png">

<link rel="search" type="application/opensearchdescription+xml" href="/opensearch/osd.action" title="MODX Documentation"/>

        <!-- include system javascript resources -->
                        
    
    <script type="text/javascript" src="/s/1911/69/2/_/download/superbatch/js/batch.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.20/_/download/batch/com.atlassian.confluence.plugins.pagetree:pagetree-resources/com.atlassian.confluence.plugins.pagetree:pagetree-resources.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.9.3/_/download/batch/confluence.macros.advanced:fancy-box/confluence.macros.advanced:fancy-box.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.9.3/_/download/batch/confluence.macros.advanced:thumbnail-images/confluence.macros.advanced:thumbnail-images.js" ></script>
<script type="text/javascript" src="/s/1911/69/3.3/_/download/batch/com.atlassian.confluence.plugins.fixedwidth-theme:fixedwidth-resources/com.atlassian.confluence.plugins.fixedwidth-theme:fixedwidth-resources.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.0.8/_/download/batch/com.atlassian.confluence.plugins.drag-and-drop:support/com.atlassian.confluence.plugins.drag-and-drop:support.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.0.8/_/download/batch/com.atlassian.confluence.plugins.drag-and-drop:drag-and-drop-for-view-content/com.atlassian.confluence.plugins.drag-and-drop:drag-and-drop-for-view-content.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.2/_/download/batch/com.atlassian.confluence.plugins.doctheme:splitter/com.atlassian.confluence.plugins.doctheme:splitter.js" ></script>
<script type="text/javascript" src="/s/1911/69/1.0/_/download/batch/legacy.confluence.web.resources:prototype/legacy.confluence.web.resources:prototype.js" ></script>

    <!-- end system javascript resources -->

    <link type="text/css" rel="stylesheet" href="http://misc.modx.com/confluence/docs.css" />
<link type="text/css" rel="stylesheet" href="http://misc.modx.com/confluence/syntaxhighlighter/css/all.css" />
<!--<script type="text/javascript" src="http://misc.modx.com/js/jquery-1.3.2.min.js"></script>-->
<script type="text/javascript" src="http://misc.modx.com/confluence/syntaxhighlighter/js/all.js"></script>
<script type="text/javascript" src="http://misc.modx.com/confluence/loadcode.js"></script>
<link type="text/css" rel="stylesheet" href="http://misc.modx.com/confluence/promo/ad.css" />

    
    <link rel="canonical" href="http://oldrtfm.modx.com/display/revolution20/Creating+a+3rd+Party+Component+Build+Script">
    <link rel="shortlink" href="http://oldrtfm.modx.com/x/OQEdAQ">
    <meta name="wikilink" content="[revolution20:Creating a 3rd Party Component Build Script]">

</head>

<body             onload="placeFocus()"
     id="com-atlassian-confluence" class="theme-documentation ">
<div id="full-height-container">
<!-- CODE FOR AD THAT SEEMS TO BE INSERTABLE DIRECTLY AFTER OPEN BODY TAG IN CONFLUENCE THEME ADMIN -->
<!--<a href="https://modxcloud.com/signup/lab-account.html?utm_source=rtfm&utm_medium=banner&utm_campaign=one_percent%2B" class="modx-cloud-link">
    <div class="modx-cloud-ad-wrap">
        <div class="modx-cloud-ad">
            <div class="logo-wrap">
                <img src="http://misc.modx.com/confluence/promo/modx-cloud-logo.png" alt="MODX Cloud" width="161" height="40">
            </div>
            <p>The Most Productive MODX Learning Playground Ever</p>
            <span class="faux-btn">
                Claim Free Lab Account
            </span>

        </div>
    </div>
</a>-->
<!-- END OF AD -->

<div class="editors_note" style="background-color:#ff9a91;border: 1px solid red; padding:5px;color:black;">
    <strong>Important Note:</strong> This is an archive of the official MODX Documentation. Please do not edit or make changes here.  The current documentation is located at <a href="rtfm.modx.com">rtfm.modx.com</a>.
</div>


<fieldset class="hidden parameters">
    <input type="hidden" id="statusDialogHeading" value="What are you working on?">
    <input type="hidden" id="statusDialogAccessibilityLabel" value="Enter your status (140 character limit)">
    <input type="hidden" id="statusDialogLatestLabel" value="Last update:">
    <input type="hidden" id="statusDialogUpdateButtonLabel" value="Update">
    <input type="hidden" id="statusDialogCancelButtonLabel" value="Cancel">
</fieldset>

<fieldset class="hidden parameters">
    <input type="hidden" id="globalSettingsAttachmentMaxSize" value="10485760">
    <input type="hidden" id="userLocale" value="en_GB">
    <input type="hidden" id="staticResourceUrlPrefix" value="/s/1911/69/_">
    <input type="hidden" id="contextPath" value="">
</fieldset>

    
<div id="header" class="sectionbottom ">
        <form id="quick-search" class="quick-search" method="get" action="/dosearchsite.action">
        <fieldset>
            <legend>Quick Search</legend>
            <input class="quick-search-query" id="quick-search-query" type="text" accessKey="q" autocomplete="off" name="queryString" size="25" />
            <input class="quick-search-submit" id="quick-search-submit" type="submit" value="Search" />
            <div class="aui-dd-parent quick-nav-drop-down"><!-- Quick nav appears here --></div>
        </fieldset>
        <fieldset class="hidden parameters">
            <input type="hidden" id="quickNavEnabled" value="true" />
                    </fieldset>
    </form>
    <ul id="header-menu-bar" class="ajs-menu-bar">
                    
        
            <li class="normal ajs-menu-item">
        <a id="browse-menu-link" class="browse trigger ajs-menu-title" href="#"><span><span>Browse</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul  id="browse-menu-link-leading"                 class="section-leading first">
                                        <li>
    
        
    
    <a  id="space-pages-link" href="/pages/listpages.action?key=revolution20"  class=""   title="Attachments: 5">
                   <span>Pages</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-blogposts-link" href="/pages/viewrecentblogposts.action?key=revolution20"  class=""   title="Attachments: 5">
                   <span>Blog</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-labels-link" href="/labels/listlabels-heatmap.action?key=revolution20"  class=""   title="Attachments: 5">
                   <span>Labels</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-attachments-link" href="/spaces/listattachmentsforspace.action?key=revolution20"  class=""   title="Attachments: 5">
                   <span>Attachments</span></a>        </li>
                                        <li>
    
        
    
    <a  href="/spaces/space-bookmarks.action?spaceKey=revolution20"  class=""   title="Browse bookmarks in the MODx Revolution 2.x space">
                   <span>Bookmarks</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-mail-link" href="/spaces/viewmailarchive.action?key=revolution20"  class=""   title="Browse bookmarks in the MODx Revolution 2.x space">
                   <span>Mail</span></a>        </li>
                                        <li>
    
        
    
    <a  id="space-advanced-link" href="/spaces/viewspacesummary.action?key=revolution20"  class=""   title="Browse bookmarks in the MODx Revolution 2.x space">
                   <span>Advanced</span></a>        </li>
                            </ul>
                        <ul  id="browse-menu-link-global"                 class="section-global">
                                        <li>
    
            
    
    <a  id="gadget-directory-link" href="#"  class="user-item administration-link"   title="Browse gadgets provided by Confluence">
                   <span>Confluence Gadgets</span></a>        </li>
                            </ul>
                    </div>
    </li>
        
                                                         <li class="ajs-menu-item normal">
        
        
    
    <a  id="login-link" href="/login.action?os_destination=%2Fdisplay%2Frevolution20%2FCreating%2Ba%2B3rd%2BParty%2BComponent%2BBuild%2BScript"  class="user-item login-link"  >
                   <span>Log In</span></a>        </li>
                                <li class="normal ajs-menu-item">
            <div id="splitter-button" class="hidden" title="Sidebar"></div>
        </li>

    </ul>
    
    
    <ol id="breadcrumbs">
                    
        <li class="first" >
                                    <span><a href="/dashboard.action">Dashboard</a></span>
                </li>
                    
        <li>
                                    <span><a href="/display/revolution20">MODx Revolution 2.x</a></span>
                </li>
                                        <li id="ellipsis" title="    &#8230;
                    Home
             &gt;         Developing in MODx
             &gt;         Advanced Development
        &#8230;
"><span><strong>&#8230;</strong></span></li>
                                    
        <li class="hidden-crumb" >
                                    <span><a href="/display/revolution20/Home">Home</a></span>
                </li>
                                
        <li class="hidden-crumb" >
                                    <span><a href="/display/revolution20/Developing+in+MODx">Developing in MODx</a></span>
                </li>
                                
        <li class="hidden-crumb" >
                                    <span><a href="/display/revolution20/Advanced+Development">Advanced Development</a></span>
                </li>
                    
        <li>
                                    <span><a href="/display/revolution20/Package+Management">Package Management</a></span>
                </li>
                    
        <li>
                                    <span>Creating a 3rd Party Component Build Script</span>
                </li>
        </ol>

</div>

    <div id="splitter">
    <div id="splitter-sidebar">

        

                    
    
    

<div class="plugin_pagetree">

                <div id="pagetreesearch">
            <form method="POST" action="/plugins/pagetreesearch/pagetreesearch.action" name="pagetreesearchform">
                                    <input type="hidden" name="ancestorId" value="18678050">
                                <input type="hidden" name="spaceKey" value="revolution20">
                <input type="text"  size="20" name="queryString">
                <input type="submit" value="Search">
            </form>
        </div>
    
        
    <ul class="plugin_pagetree_children_list plugin_pagetree_children_list_noleftspace">
        <div class="plugin_pagetree_children">
        </div>
    </ul>

    <fieldset class="hidden">
        <input type="hidden" name="treeId" value="">
        <input type="hidden" name="treeRequestId" value="/plugins/pagetree/naturalchildren.action?decorator=none&amp;excerpt=false&amp;sort=position&amp;reverse=false&amp;disableLinks=false">
        <input type="hidden" name="treePageId" value="18678073">

        <input type="hidden" name="noRoot" value="false">
        <input type="hidden" name="rootPageId" value="18678050">

        <input type="hidden" name="rootPage" value="">
        <input type="hidden" name="startDepth" value="0">
        <input type="hidden" name="spaceKey" value="revolution20" >

        <input type="hidden" name="i18n-pagetree.loading" value="Loading...">
        <input type="hidden" name="i18n-pagetree.error.permission" value="Unable to load page tree. It seems that you do not have permission to view the root page.">
        <input type="hidden" name="i18n-pagetree.eeror.general" value="There was a problem retrieving the page tree. Please check the server log file for more information.">
        <input type="hidden" name="loginUrl" value="/login.action?os_destination=%2Fdisplay%2Frevolution20%2FCreating%2Ba%2B3rd%2BParty%2BComponent%2BBuild%2BScript">

                <fieldset class="hidden">
                                                <input type="hidden" name="ancestorId" value="18678070">
                                    <input type="hidden" name="ancestorId" value="18678466">
                                    <input type="hidden" name="ancestorId" value="18678458">
                                    <input type="hidden" name="ancestorId" value="18678050">
                                    </fieldset>
    </fieldset>
</div>



            </div>
    <div id="splitter-content">

                    <script type="text/javascript" src="/s/1911/69/2/_/download/resources/com.atlassian.confluence.plugins.doctheme:resources/doc-theme.js"></script>
    
            
    
<div id="main" >
    
    
    <div id="navigation" class="content-navigation view">
        <fieldset class="hidden parameters">
            <input type="hidden" id="pageId" value="18678073">
        </fieldset>
        <ul class="ajs-menu-bar">
                                
                        
            <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action trigger ajs-menu-title" href="#"><span><span>Tools</span></span></a>         <div class="hidden ajs-drop-down">
                        <ul  id="action-menu-link-primary"                 class="section-primary first">
                                        <li>
    
        
    
    <a  id="view-attachments-link" href="/pages/viewpageattachments.action?pageId=18678073"  class="action-view-attachments"  accessKey="a" >
                   <span><u>A</u>ttachments (5)</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-history-link" href="/pages/viewpreviousversions.action?pageId=18678073"  class="action-view-history"  >
                   <span>Page History</span></a>        </li>
                                        <li>
    
        
    
    <a  id="mailPageLink" href="/pages/mailpage/mailpage.action?pageId=18678073"  class=""  >
                    <span>
                <img alt="E-mail" src="/images/icons/mail_content_16.gif" height="16" width="16" title="E-mail">
                E-mail
            </span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-page-permissions-link" href="/pages/viewinfo.action?pageId=18678073"  class="action-page-permissions"  >
                   <span>Restrictions</span></a>        </li>
                            </ul>
                        <ul  id="action-menu-link-secondary"                 class="section-secondary">
                                        <li>
    
        
    
    <a  id="view-page-info-link" href="/pages/viewinfo.action?pageId=18678073"  class="action-view-info"  >
                   <span>Info</span></a>        </li>
                                        <li>
    
        
    
    <a  id="link-to-page-link" href="/pages/viewinfo.action?pageId=18678073"  class=""  >
                   <span>Link to this Page&hellip;</span></a>        </li>
                                        <li>
    
        
    
    <a  id="view-in-hierarchy-link" href="/pages/listpages-dirview.action?key=revolution20&openId=18678073#selectedPageInHierarchy"  class=""  >
                   <span>View in Hierarchy</span></a>        </li>
                                        <li>
    
        
    
    <a  id="action-view-source-link" href="/pages/viewpagesrc.action?pageId=18678073"  class="action-view-source popup-link"  >
                   <span>View Wiki Markup</span></a>        </li>
                            </ul>
                    </div>
    </li>
            </ul>
    </div>

    
    <h1 id="title-heading" class="pagetitle">
                    <a href="/display/revolution20"><img class="logo global custom" src="/download/attachments/9109505/global.logo?version=2&modificationDate=1356105314000" alt=""></a>        
		<span id="title-text">
					            <a href="/display/revolution20/Creating+a+3rd+Party+Component+Build+Script">Creating a 3rd Party Component Build Script</a>
    				</span>
    </h1>

    

    
    
    
    <div id="content" class="page view">
    



<fieldset id="link-to-page-fields" class="hidden parameters">
    <input type="hidden" id="linkToThisPageHeading" value="Link to this Page">
    <input type="hidden" id="linkToThisPageLink" value="Link">
    <input type="hidden" id="linkToThisPageTinyLink" value="Tiny Link">
    <input type="hidden" id="linkToThisPageWikiMarkup" value="Wiki Markup">
    <input type="hidden" id="linkToThisPageClose" value="Close">
</fieldset>
<fieldset class="hidden parameters">
    <input type="hidden" title="movePageDialogViewPageTitle" value="Move Page &ndash; &#8216;Creating a 3rd Party Component Build Script&#8217;">
    <input type="hidden" title="movePageDialogEditPageTitle" value="Set Page Location">
    <input type="hidden" title="movePageDialogMoveButton" value="Move">
    <input type="hidden" title="movePageDialogOkButton" value="OK">
    <input type="hidden" title="movePageDialogCancelButton" value="Cancel">
    <input type="hidden" title="movePageDialogBrowsePanelTip" value="Click to select the new parent page for this page and its children.">
    <input type="hidden" title="movePageDialogSearchPanel" value="Search">
    <input type="hidden" title="movePageDialogHistoryPanel" value="Recently Viewed">
    <input type="hidden" title="movePageDialogHistoryNoResults" value="There were no recently viewed pages found.">
    <input type="hidden" title="movePageDialogLocationPanel" value="Known Location">
    <input type="hidden" title="movePageDialogLocationNotFound" value="The specified page was not found.">
    <input type="hidden" title="movePageDialogBrowsePanel" value="Browse">
    <input type="hidden" title="movePageDialogPanelLoadErrorMsg" value="Error reading the panel content from the server.">
    <input type="hidden" title="movePageDialogPanelLoadErrorTip" value="You could try reloading the page and launching the dialog again.">
    <input type="hidden" title="movePageDialogPanelLoadErrorStatus" value="HTTP Status">
    <input type="hidden" title="movePageDialogNoSelectionErrorMsg" value="You must make a selection in the tree before you can move the page.">
    <input type="hidden" title="movePageDialogSearchError" value="Failed to retrieve search results from the server.">
    <input type="hidden" title="movePageDialogSearchNoResults" value="There were no pages found containing <b>{0}</b>.">
    <input type="hidden" title="movePageDialogSearchResultCount" value="Showing <b>{0}</b>-<b>{1}</b> of <b>{2}</b> pages containing <b>{3}</b>.">
    <input type="hidden" title="movePageDialogMoveFailed" value="Move failed. There was a problem contacting the server.">
    <input type="hidden" title="movePageDialogCannotChangeSpace" value="You cannot move this page to another space because you do not have permission to remove it from this space.">
    <input type="hidden" title="pageTitle" value="Creating a 3rd Party Component Build Script"/>
    <input type="hidden" title="parentPageTitle" value="Package Management"/>
    <input type="hidden" title="fromPageTitle" value=""/>
    <input type="hidden" title="spaceKey" value="revolution20"/>
    <input type="hidden" title="spaceName" value="MODx Revolution 2.x"/>
    <input type="hidden" title="movePageDialogInvalidLocation" value="You cannot move a page to be underneath itself or its children."/>
    <input type="hidden" title="movePageDialogOrderingTitle" value="Page Ordering"/>
    <input type="hidden" title="movePageDialogBackButton" value="Back"/>
    <input type="hidden" title="movePageDialogMoveAndOrderButton" value="Reorder"/>
    <input type="hidden" title="movePageDialogNextButton" value="Move"/>    
</fieldset>

<script type="text/x-template" title="movePageDialog">
    <div class="row information">
        Specify the new parent page for this page and its children by space and title.
    </div>
    <div class="form">
        <fieldset>
            

    <legend class="assistive"><span>Change the Parent Page to a Known Page</span></legend>
            <div class="row">
                <label for="new-space">New space:</label>
                <div class="value new-space-value">
                    <input id="new-space-key" name="new-space-key" type="hidden" value="revolution20">
                                            <span class="space-input">
                            <input id="new-space" name="new-space" value="MODx Revolution 2.x" disabled="disabled">
                        </span>
                        <span class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</span>
                                        <div class="new-space-dropdown aui-dd-parent"></div>
                </div>
            </div>
            <div class="row">
                <label for="new-parent-page">New parent page:</label>
                <div class="value new-parent-page-value">
                    <span class="page-input">
                        <input id="new-parent-page" name="new-parent-page" value="Package Management">
                    </span>
                    <span class="description">Start typing a page title to see a list of suggestions.</span>
                    <div class="new-parent-page-dropdown aui-dd-parent autocomplete"></div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="location-info">
        <div class="row">
            <label>Current location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="current-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
        <div class="row">
            <label>New location:</label>
            <div class="value breadcrumbs-container">
                <div class="breadcrumbs-line">
                    <ul id="new-parent-breadcrumbs" class="breadcrumbs">
                    </ul>
                </div>
            </div>
        </div>
    </div>
</script>
<script type="text/x-template" title="movePageErrors">
    <div id="move-errors" class="hidden warning"></div>
</script>
<script type="text/x-template" title="movePageBreadcrumb">
    <li><a class="{2}" title="{3}" tabindex="-1"><span>{0}</span></a></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbLoading">
    <li class="loading"><span>Loading breadcrumbs&hellip;</span></li>
</script>
<script type="text/x-template" title="movePageBreadcrumbError">
    <li class="warning last"><span>Error retrieving breadcrumbs.</span></li>
</script>
<script type="text/x-template" title="movePageNoMatchingPages">
    <ol><li><span class="warning">No matching pages found.</span></li></ol>
</script>
<script type="text/x-template" title="movePageNoMatchingSpaces">
    <ol><li><span class="warning">No matching spaces found.</span></li></ol>
</script>

<script type="text/x-template" title="movePageSearchPanel">
<div class="row information">
    Search for and select the new parent page for this page and its children.
</div>
<div id="move-page-search-container" class="row">
    <div class="search-form">
        <fieldset>
            

    <legend class="assistive"><span>Search for a New Parent Page</span></legend>
            

    <label  for="move-page-search-query" class="assistive">Search keywords</label>
            <input class="search-query" id="move-page-search-query">
            

    <label  for="move-page-search-space" class="assistive">Search in space</label>
                            <select id="move-page-search-space" class="search-space" disabled="disabled">
                    <option value="revolution20" selected="selected">MODx Revolution 2.x</option>
                </select>
                        <input type="button" value="Search">
                            <div class="description warning">You cannot move this page to another space because you do not have permission to remove it from this space.</div>
                    </fieldset>
    </div>
    <div class="search-results">
    </div>
</div>
</script>
<script type="text/x-template" title="movePageSearchResultsLoading">
    <div class="searching">Searching…</div>
</script>

<script type="text/x-template" title="movePageHistoryPanel">
<div class="row information">
    Select the new parent page for this page and its children from your history.
</div>
<div id="move-page-search-container" class="row">
    <div class="search-results">
    </div>
</div>
</script>
<script type="text/x-template" title="movePageHistoryLoading">
    <div class="searching">Loading…</div>
</script>
<script type="text/x-template" title="movePageBrowsePanel">
    <div class="row information">
        Click to select the new parent page for this page and its children.
    </div>
    <div class="tree"></div>
</script>
<script type="text/x-template" title="movePagePanelLoading">
    <span>Loading…</span>
</script>
<script type="text/x-template" title="movePageBrowsePanelSpace">
    <ul><li id='tree-root-node-item' class='root-node-list-item'><a class='root-node' href='#'>{0}</a></li></ul>
</script>
<script type="text/x-template" title="orderingPagePanel">
<div id="orderingPlaceHolder"></div>
</script>
<script type="text/x-template" title="reorderCheckbox">
<span id="reorderRequirement"><input id="reorderCheck" type="checkbox" name="reorderFlag" title="Choose the position of this page within the list of child pages."/><label for="reorderCheck" title="Choose the position of this page within the list of child pages.">Reorder</label></span>
</script>
<script type="text/x-template" title="move-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-33/Moving+a+Page" target="_blank">Help</a>
    </div>
</script>
<script type="text/x-template" title="searchResultsGrid">
    <table>
        <thead>
            <tr class="header">
                <th class="search-result-title">Page Title</th>
                <th class="search-result-space">Space</th>
                <th class="search-result-date">Updated</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <th class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></th>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
<!-- Start restrictions section -->
<fieldset class="hidden parameters i18n">
        <input type="hidden" id="i18n.page.perms.error.invalid.entity.names" value="Unknown user or group:">
        <input type="hidden" id="i18n.page.perms.dialog.heading" value="Page Restrictions">
        <input type="hidden" id="i18n.page.perms.editing.restricted.to" value="Editing restricted to:">
        <input type="hidden" id="i18n.cancel.name" value="Cancel">
        <input type="hidden" id="i18n.close.name" value="Close">
        <input type="hidden" id="i18n.update.name" value="Save">
</fieldset>

<script type="text/x-template" title="page-permissions-div">
<div id="page-permissions-div">
    <div id="page-permissions-editor-form">

                <div id="page-permissions-error-div" class="hidden">
            <a href="#" id="permissions-error-div-close">Ok</a>
            <div></div>
        </div>

                <div id="page-permissions-type-radios" class="page-permissions-label-rows">
            <div>
                <input id="restrictViewRadio" type="radio" checked="checked" name="pagePermissionTypeRadio" value="view"/>
                <label for="restrictViewRadio">Restrict viewing of this page</label>
                <input id="restrictEditRadio" type="radio" name="pagePermissionTypeRadio" value="edit"/>
                <label for="restrictEditRadio">Restrict editing of this page</label>
            </div>
        </div>
        <div id="page-permissions-input" class="page-permissions-label-rows">
            <div class="page-permissions-label">To:</div>
            <div id="page-permissions-chooser-box">
                                <span id="page-permissions-choose-user" class="ajs-button">
                    



    



<a href="#" id='userpicker-popup-link-image' onClick="var picker = window.open('/spaces/openuserpicker.action?key=revolution20&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;"><img src="/s/1911/69/_/images/icons/user_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose users" /></a>
<a href="#" id='userpicker-popup-link-text' onClick="var picker = window.open('/spaces/openuserpicker.action?key=revolution20&amp;startIndex=0&amp;onPopupSubmit=AJS.PagePermissions.addUserPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=700,height=680,scrollbars=yes'); picker.focus(); return false;">Person...</a>


                </span>
                <span id="page-permissions-choose-group" class="ajs-button">
                    



    

 

<a href="#" id='grouppicker-popup-link-image' onClick="var picker = window.open('/spaces/opengrouppicker.action?key=revolution20&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;"><img src="/s/1911/69/_/images/icons/group_16.gif" height=16 width=16 border=0 align="absmiddle"  title="Choose groups" /></a>
<a href="#" id='grouppicker-popup-link-text' onClick="var picker = window.open('/spaces/opengrouppicker.action?key=revolution20&amp;startIndex=0&amp;actionName=dosearchgroups.action&amp;onPopupSubmit=AJS.PagePermissions.addGroupPermissions', 'EntitiesPicker', 'status=yes,resizable=yes,top=100,left=200,width=580,height=550,scrollbars=yes'); picker.focus(); return false;">Group...</a>


                </span>
            </div>
            <div id="page-permissions-input-box">
                                <span>
                    <input type="text" id="page-permissions-names-input" class="input-placeholder" value="Enter user or group name" name="permissionNames" size="30" autocomplete="off"/>
                </span>
                <input
    type="hidden"
                            id="page-permissions-names-hidden"           />                <img height="16px" width="1px" src="/s/1911/69/_/images/border/spacer.gif"/>
                <input type="button" id="add-typed-names" value="Restrict">
            </div>
        </div>
    </div>
    <div id="page-permissions-tables">
        <div id="page-permissions-table-div">
                        <table id="page-permissions-table" class="page-permissions-table">
                <tr id="page-permissions-no-views" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No view restrictions are defined for this page</span></td>
                </tr>
                <tr id="page-permissions-no-edits" class="marker-row">
                    <td colspan="3" class="page-permissions-marker-cell"><span>No edit restrictions are defined for this page</span></td>
                </tr>
            </table>
        </div>
        <div id="page-inherited-permissions-table-div" class="hidden">
            <span id="page-inherited-permissions-table-desc">
                <a class="icon twisty-closed">Show/Hide</a>
                <a id="toggle-inherited-permissions" title="Click to see inherited restrictions">This page has restricted parent pages. It can only be seen by users who can see those parent pages.</a>
            </span>
            <div id="page-inherited-permissions-tables" class="hidden page-inheritance-togglable"></div>
        </div>
    </div>
</div>
</script>

<script type="text/x-template" title="permissions-row-template">
    <tr class="permission-row">
                                
                <td class="page-permissions-marker-cell" width="20%">
            <span>Viewing restricted to:</span>
        </td>
                <td class="permission-entity" nowrap="true" width="40%">
            <span class="entity-container">
                <img class="permission-entity-picture"/>
                <span class="permission-entity-display-name"></span>
                <span class="permission-entity-name-wrap">&nbsp;(<span class="permission-entity-name"></span>)</span>
            </span>
        </td>
        <td class="permission-detail-column">
            <div class="permission-remove-div">
                <a href="#" class="remove-permission-link">Remove restriction</a>
            </div>
        </td>
    </tr>
</script>
<script type="text/x-template" title="permissions-username-no-suggestion-template">
    <ol>
        <li><a href="#" class="message"><span>No matches</span></a></li>
    </ol>
</script>
<script type="text/x-template" title="page-inherited-permissions-table-div-template">
        <div class="page-inherited-permissions-owner-div">
        <div class="page-inherited-permissions-table-desc">Viewing restrictions apply to “<a></a>”. In order to see “<span></span>”, a user must be in the following list of users and groups:</div>
        <table class="page-permissions-table"></table>
    </div>
</script>
<script type="text/x-template" title="page-restrictions-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-33/Page+Restrictions" target="_blank">Help</a>
    </div>
</script>
<!-- End restrictions section -->

        
    
    
        <fieldset class="hidden parameters">
            <input type="hidden" title="parentPageId" value="18678070">
        </fieldset>

        
                            
    

                    

        
        <a href="#page-metadata-end" class="assistive">Skip to end of metadata</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
                            <li class="page-metadata-item noprint">
    
            
    
    <a  id="content-metadata-page-restrictions" href="#"  class="page-metadata-icon page-restrictions hidden"   title="Page restrictions apply. Click the lock icon to view or edit the restriction.">
                   <span>Page restrictions apply</span></a>        </li>
                            <li class="page-metadata-item noprint">
    
        
    
    <a  id="content-metadata-attachments" href="/pages/viewpageattachments.action?pageId=18678073&metadataLink=true"  class="page-metadata-icon action-view-attachments"  accessKey="a"  title="Attachments: 5">
                   <span><span class="page-metadata-attachments-text">Attachments:</span><span class="page-metadata-attachments-count">5</span></span></a>        </li>
                        <li class="page-metadata-modification-info">
                                    Added by <a href="/display/~splittingred"
                          class="url fn"
                   >Shaun McCormick</a>, last edited by <a href="/display/~hansek"
                          class="url fn"
                   >Jan Tezner</a> on Mar 08, 2013
                                                                <span class="noprint">&nbsp;(<a id="view-change-link" href="/pages/diffpages.action?pageId=18678073&originalId=44990468">view change</a>)</span>
                                                </li>
                    </ul>
          <div id="version-comment" class="noteMacro" style="display: none;">
      <strong>Comment:</strong>
      <br />
  </div>
    </div>


<a href="#page-metadata-start" class="assistive">Go to start of metadata</a>
<div id="page-metadata-end" class="assistive"></div>
        
        <fieldset class="hidden parameters">
                        <input type="hidden" title="browsePageTreeMode" value="view">
        </fieldset>

        <div class="wiki-content">
           <!-- wiki content -->
            <p><br class="atl-forced-newline" /></p>

<div>
<ul>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-DirectoryStructure'>Directory Structure</a></li>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-StartingtheBuildScript'>Starting the Build Script</a></li>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-PackaginginObjects'>Packaging in Objects</a></li>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-ValidatorsandResolvers'>Validators and Resolvers</a></li>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-Lexicons'>Lexicons</a></li>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-PackageAttributes%3ALicense%2CReadmeandSetupOptions'>Package Attributes: License, Readme and Setup Options</a></li>
    <li><a href='#Creatinga3rdPartyComponentBuildScript-RelatedPages'>Related Pages</a></li>
</ul></div>
<div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>Users using Revolution 2.0.0-beta-4 or earlier should note that the defines are different in beta5 and onward. An example: xPDOTransport::UNIQUE_KEYS in beta5&#43; is XPDO_TRANSPORT_UNIQUE_KEYS in beta4 and earlier. MODx recommends to just update to beta5/SVN.</td></tr></table></div>
<p>A build script. What is that, you might ask? This is the meat of the packaging process; here is where your component is actually put into the nice, neat .zip transport package that you find on modxcms.com or through Revolution's Package Management section.</p>

<p>This tutorial will guide you through how to create one of those scripts. We'll be using a sample component called Quip, which contains a modAction, a few menus, some chunks and a snippet, lexicons, setup options, a license, a readme, and system settings. It's basically a quick, easy run through of all the basics to creating a fundamental build script.</p>

<h2><a name="Creatinga3rdPartyComponentBuildScript-DirectoryStructure"></a>Directory Structure</h2>

<p>First off, let's take a quick look at our directory structure. This isn't always how you have to do it - this one is specifically built this way for SVN; but it's definitely recommended, especially with the <em>assets/components/quip/</em> and <em>core/components/quip/</em> structures, since that makes creating the transport package much easier.</p>

<p><span class="image-wrap" style=""><img src="/download/attachments/18678073/quip-dir1.png?version=1&amp;modificationDate=1273237771000" style="border: 0px solid black" /></span></p>

<h2><a name="Creatinga3rdPartyComponentBuildScript-StartingtheBuildScript"></a>Starting the Build Script</h2>

<p>Let's first start with some phpdoc comments at the top, and then start the timer.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?php
/**
 * Quip build script
 *
 * @<span class="code-keyword">package</span> quip
 * @subpackage build
 */
$mtime = microtime();
$mtime = explode(<span class="code-quote">" "</span>, $mtime);
$mtime = $mtime[1] + $mtime[0];
$tstart = $mtime;
set_time_limit(0); /* makes sure our script doesnt timeout */
</pre>
</div></div>
<p>Now let's define some basic paths. We can define these up top into a "sources" array to make them easier to reach later in the build script. Note how the 'source_core' and 'source_assets' directories do <em>not</em> post-fix a foreslash onto their paths. This is required.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$root = dirname(dirname(__FILE__)).'/';
$sources= array (
    'root' =&gt; $root,
    'build' =&gt; $root .'_build/',
    'resolvers' =&gt; $root . '_build/resolvers/',
    'data' =&gt; $root . '_build/data/',
    'source_core' =&gt; $root.'core/components/quip',
    'lexicon' =&gt; $root . 'core/components/quip/lexicon/',
    'source_assets' =&gt; $root.'assets/components/quip',
    'docs' =&gt; $root.'core/components/quip/docs/',
);
unset($root); /* save memory */
</pre>
</div></div>
<p>Now, we'll need to include some files to get the build libraries we'll need. First, let's include a file we'll create called 'build.config.php' in our build dir.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">require_once dirname(__FILE__) . '/build.config.php';
</pre>
</div></div>
<p>In this file, we'll want to define the location of our MODx Revolution installation so that the build script can know where to get the modX class, as well as where to put the package when finished. Our file will look somewhat like this:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?php
/**
 * Define the MODX path constants necessary <span class="code-keyword">for</span> core installation
 *
 * @<span class="code-keyword">package</span> quip
 * @subpackage build
 */
define('MODX_CORE_PATH', '/absolute/path/to/modx/core/');
define('MODX_CONFIG_KEY','config');
</pre>
</div></div>
<p>You'll want to make sure to change the value of MODX_CORE_PATH to the absolute path of where your MODx Revolution core is installed. MODX_CONFIG_KEY can stay the same, unless you're doing a multi-domain install.</p>

<p>Now, you'll want to include the modX class, and instantiate it. We'll also initialize it into the 'mgr' context, and set the log output to HTML to make our errors and info messages nice and formatted - unless we're doing this from the cmd line, where we'll want just standard echo messages.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">require_once MODX_CORE_PATH . 'model/modx/modx.class.php';

$modx= <span class="code-keyword">new</span> modX();
$modx-&gt;initialize('mgr');
$modx-&gt;setLogLevel(modX::LOG_LEVEL_INFO);
$modx-&gt;setLogTarget(XPDO_CLI_MODE ? 'ECHO' : 'HTML');
</pre>
</div></div>
<p>Okay, it's time for the meat. Let's first off use $modx-&gt;loadClass to load the modPackageBuilder class. Then we'll instantiate an instance of it, and create a package.</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$modx-&gt;loadClass('transport.modPackageBuilder','',<span class="code-keyword">false</span>, <span class="code-keyword">true</span>);
$builder = <span class="code-keyword">new</span> modPackageBuilder($modx);
$builder-&gt;createPackage('quip','0.1','alpha7');
$builder-&gt;registerNamespace('quip',<span class="code-keyword">false</span>,<span class="code-keyword">true</span>,'{core_path}components/quip/');
</pre>
</div></div>
<p>The modPackageBuilder::createPackage function has 3 parameters:<br/>
<em>name</em>, <em>version</em>, and <em>release</em>. For us,<br/>
we'll be doing quip-0.1-alpha7, so let's go with that.</p>

<p>Next, we'll register a <a href="/display/revolution20/Namespaces" title="Namespaces">Namespace</a> to this package. Not all packages need <a href="/display/revolution20/Namespaces" title="Namespaces">Namespaces</a>; but all 3rd Party Components do. Basically, a Namespace is an organizing tool for MODx so that MODx can know what objects are tied to what package. This is helpful later on should we want to uninstall our package; we'd want it to remove the objects we'd install.</p>

<p>Plus, should we want to add any <a href="/display/revolution20/Internationalization" title="Internationalization">Lexicon Entries</a> to this package (which we will), MODx does so by relating it to it's Namespace. Our package builder will assign our Lexicon Entries to the Namespace, so we can easily manage <em>just</em> our Lexicon Entries; not any others.</p>

<h2><a name="Creatinga3rdPartyComponentBuildScript-PackaginginObjects"></a>Packaging in Objects</h2>

<p>Objects are packaged as <em>Vehicles</em> in MODx Revolution; basically think of a vehicle as a sort of storage system that transports the data and/or files into the zip package. Packages can contain many vehicles; vehicles can contain many objects or files - however, vehicles that contain an object must only have one reference object (or parent object, whichever you prefer) that the vehicle is based off of.</p>

<p>So, let's look at some examples for creating a vehicle before digging into our build script. This first example packages in a simple object, with some parameters:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$snippet = $modx-&gt;newObject('modSnippet');
$snippet-&gt;set('id',1);
$snippet-&gt;set('name','Test');
$vehicle = $builder-&gt;createVehicle($snippet,array(
    xPDOTransport::UNIQUE_KEY =&gt; 'name',
    xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">false</span>,
));
</pre>
</div></div>
<p>So, first off, we created a snippet object. Note that you'll have to specify an arbitrary ID for it, even though we wont keep it later. This is required. Then, we used the 'createVehicle' function in modPackageBuilder to create the vehicle object. Let's look at those attributes options more closely:</p>

<ul>
	<li><b>xPDOTransport::UNIQUE_KEY</b> <em>(string/array)</em> &#45; Here you'd place the unique key that identifies the object you're creating. This will tell MODx to search for the modSnippet with the 'name' equal to the packaged in name (here, 'Test') when updating or removing the object. For most objects, this will be 'name'; others require different settings. Some might even require an array of two or more fields.</li>
	<li><b>xPDOTransport::UPDATE_OBJECT</b> <em>(boolean)</em> &#45; Either true or false, this tells MODx whether or not to update the object if it is found in the DB upon install (or update). Sometimes, if the object is already there, you may not want to update it - the update might erase the user's current settings for that object.</li>
	<li><b>xPDOTransport::PRESERVE_KEYS</b> <em>(boolean)</em> &#45; Either true or false, this tells MODx whether or not to rewrite the primary keys when the object is found. This can be useful if you're wanting the PKs to stay the same when you update - some PKs are auto_increment, and if you're wanting those to stay the same number, you'd set this to true. Note: If the object already exists, this feature only works if xPDOTransport::UPDATE_OBJECT is set to true as well. If the object is not found, it will work regardless.</li>
</ul>


<p>Simple enough? So our example tells it to look for a Snippet named 'Test', and if it finds it, update its contents. If it doesnt find it, create it. However, if it does find it; we told MODx not to update its PK - there's no need to adjust that in this situation.</p>

<p>Now, what about related objects? What if I want to package in my modMenu, along with its Action associated with the modMenu? Here's a bit more complex scenario:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$action= $modx-&gt;newObject('modAction');
$action-&gt;fromArray(array(
    'id' =&gt; 1,
    'namespace' =&gt; 'quip',
    'parent' =&gt; '0',
    'controller' =&gt; 'index',
    'haslayout' =&gt; '1',
    'lang_topics' =&gt; 'quip:<span class="code-keyword">default</span>,file',
    'assets' =&gt; '',
),'',<span class="code-keyword">true</span>,<span class="code-keyword">true</span>);
$menu= $modx-&gt;newObject('modMenu');
$menu-&gt;fromArray(array(
    'text' =&gt; 'quip',
    'parent' =&gt; 'components',
    'description' =&gt; 'quip_desc',
    'icon' =&gt; 'images/icons/plugin.gif',
    'menuindex' =&gt; '0',
    'params' =&gt; '',
    'handler' =&gt; '',
),'',<span class="code-keyword">true</span>,<span class="code-keyword">true</span>);
$menu-&gt;addOne($action);
$vehicle= $builder-&gt;createVehicle($menu,array (
    xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::UNIQUE_KEY =&gt; 'text',
    xPDOTransport::RELATED_OBJECTS =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::RELATED_OBJECT_ATTRIBUTES =&gt; array (
        'Action' =&gt; array (
            xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">false</span>,
            xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
            xPDOTransport::UNIQUE_KEY =&gt; array ('namespace','controller'),
        ),
    ),
));
</pre>
</div></div>
<p>Okay, a bit more meat here. We're introducing 2 new parameters:</p>

<ul>
	<li><b>xPDOTransport::RELATED_OBJECTS</b> <em>(boolean)</em> &#45; Either true or false, this will tell MODx we want to search for related objects to this object. This must be set for the next parameter to work.</li>
	<li><b>xPDOTransport::RELATED_OBJECT_ATTRIBUTES</b> <em>(array)</em> &#45; This defines the types and details of the related objects we want to grab. If you note, the format is simply an associative array of attributes - similar to the parent object's attributes - where the key is the "alias" of the related object we want to grab. The aliases can be found in the Schema, located in <em>core/model/schema/modx.mysql.schema.xml</em>.</li>
</ul>


<p>So our example above tells us on the modAction (found by looking for the modAction with a namespace of 'quip' and a controller of 'index') to include the related modAction object that we package in. We packaged them in manually using xPDO's addOne function on the modAction.</p>

<p>Also, if we wanted to package in related objects to the modAction objects, we would just have had to define that in the 'Action' attributes and addMany (or addOne) on that action. You can go however deep in nesting that you want.</p>

<p>So, back to our script. To recap, so far we have:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?php
/**
 * Quip build script
 *
 * @<span class="code-keyword">package</span> quip
 * @subpackage build
 */
$mtime = microtime();
$mtime = explode(<span class="code-quote">" "</span>, $mtime);
$mtime = $mtime[1] + $mtime[0];
$tstart = $mtime;
set_time_limit(0);

$root = dirname(dirname(__FILE__)).'/';
$sources= array (
    'root' =&gt; $root,
    'build' =&gt; $root .'_build/',
    'lexicon' =&gt; $root . '_build/lexicon/',
    'resolvers' =&gt; $root . '_build/resolvers/',
    'data' =&gt; $root . '_build/data/',
    'source_core' =&gt; $root.'core/components/quip',
    'source_assets' =&gt; $root.'assets/components/quip',
    'docs' =&gt; $root.'core/components/quip/docs/',
);
unset($root);

/* override with your own defines here (see build.config.sample.php) */
require_once dirname(__FILE__) . '/build.config.php';
require_once MODX_CORE_PATH . 'model/modx/modx.class.php';

$modx= <span class="code-keyword">new</span> modX();
$modx-&gt;initialize('mgr');
$modx-&gt;setLogLevel(modX::LOG_LEVEL_INFO);
$modx-&gt;setLogTarget(XPDO_CLI_MODE ? 'ECHO' : 'HTML');

$modx-&gt;loadClass('transport.modPackageBuilder','',<span class="code-keyword">false</span>, <span class="code-keyword">true</span>);
$builder = <span class="code-keyword">new</span> modPackageBuilder($modx);
$builder-&gt;createPackage('quip','0.1','alpha5');
$builder-&gt;registerNamespace('quip',<span class="code-keyword">false</span>,<span class="code-keyword">true</span>,'{core_path}components/quip/');
</pre>
</div></div>
<p>So, let's first package in our modActions and modMenus for our backend:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* load action/menu */
$menu = include $sources['data'].'transport.menu.php';

$vehicle= $builder-&gt;createVehicle($menu,array (
    xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::UNIQUE_KEY =&gt; 'text',
    xPDOTransport::RELATED_OBJECTS =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::RELATED_OBJECT_ATTRIBUTES =&gt; array (
        'Action' =&gt; array (
            xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">false</span>,
            xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
            xPDOTransport::UNIQUE_KEY =&gt; array ('namespace','controller'),
        ),
    ),
));
$builder-&gt;putVehicle($vehicle);
unset($vehicle,$action); /* to keep memory low */
</pre>
</div></div>
<p>Wait&#33; Notice how I put the action data in a different file? You don't have to do this - it's completely personal preference - but it does keep our build script clean, and isolate our actions/menus to a separate file for easy management.</p>

<p>Let's do the same with our system settings:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* load system settings */
$settings = include $sources['data'].'transport.settings.php';

$attributes= array(
    xPDOTransport::UNIQUE_KEY =&gt; 'key',
    xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">false</span>,
);
foreach ($settings as $setting) {
    $vehicle = $builder-&gt;createVehicle($setting,$attributes);
    $builder-&gt;putVehicle($vehicle);
}
unset($settings,$setting,$attributes);
</pre>
</div></div>
<p>Great&#33; We've got our actions, menus and settings packaged in. Now, using our newfound knowledge about related objects, let's create a category called 'Quip' and put our Snippet and Chunks in that category. We'll go through this a bit slower, so we can easily see how this works:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* create category */
$category= $modx-&gt;newObject('modCategory');
$category-&gt;set('id',1);
$category-&gt;set('category','Quip');
</pre>
</div></div>
<p>Okay, great. Step one done: category created. Now about that Snippet:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* create the snippet */
$snippet= $modx-&gt;newObject('modSnippet');
$snippet-&gt;set('id',0);
$snippet-&gt;set('name', 'Quip');
$snippet-&gt;set('description', 'A simple commenting component.');
$snippet-&gt;set('snippet',file_get_contents($sources['source_core'].'/snippet.quip.php');
</pre>
</div></div>
<p>Great&#33; Note how here we're actually using the file_get_contents() function to grab the contents of the snippet from our dev environment and place it here. This makes it easy to run the build in future iterations; no need to continually update this call - just update that file.</p>

<p>Now, we had some properties on that snippet...how do we put those in?</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$properties = include $sources['data'].'properties.inc.php';
$snippet-&gt;setProperties($properties);
$category-&gt;addMany($snippet);
</pre>
</div></div><div class='panelMacro'><table class='noteMacro'><colgroup><col width='24'><col></colgroup><tr><td valign='top'><img src="/images/icons/emoticons/warning.gif" width="16" height="16" align="absmiddle" alt="" border="0"></td><td>We're using the addMany method here, and not the addOne method. Wether you need to use one or the other does not so much depend on the amount of objects you are relating (in this case only one snippet), but the cardinality of the relationship. That may sound complex - but the cardinality simply means if it is a one-on-one or one-to-many relationship. In this case, a category has a one-to-many relationship with snippets (there can be many snippets in one category) and that means you will have to use the addMany method. You can pass an array of objects or just one object to that method, but which one you use depends on the cardinality. Read more about <a href="/display/xPDO20/Defining+Relationships" title="Defining Relationships">relationships</a>, <a href="/display/xPDO20/addOne" title="addOne">addOne</a> and <a href="/display/xPDO20/addMany" title="addMany">addMany</a>.</td></tr></table></div>


<p>You'll use modSnippet's setProperties function to pass in an array of property arrays. So, let's take a look at that properties.inc.php file:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?php
/**
 * Default snippet properties
 *
 * @<span class="code-keyword">package</span> quip
 * @subpackage build
 */
$properties = array(
    array(
        'name' =&gt; 'closed',
        'desc' =&gt; 'If set to <span class="code-keyword">true</span>, the thread will not accept <span class="code-keyword">new</span> comments.',
        'type' =&gt; 'combo-<span class="code-object">boolean</span>',
        'options' =&gt; '',
        'value' =&gt; <span class="code-keyword">false</span>,
    ),
    array(
        'name' =&gt; 'dateFormat',
        'desc' =&gt; 'The format of the dates displayed <span class="code-keyword">for</span> a comment.',
        'type' =&gt; 'textfield',
        'options' =&gt; '',
        'value' =&gt; '%b %d, %Y at %I:%M %p',
    ),
    /* ...removed others <span class="code-keyword">for</span> brevity... */
);
<span class="code-keyword">return</span> $properties;
</pre>
</div></div>
<p>Simple enough. And now on to the chunks:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* add chunks */
$chunks = include $sources['data'].'transport.chunks.php';
<span class="code-keyword">if</span> (is_array($chunks)) {
    $category-&gt;addMany($chunks);
} <span class="code-keyword">else</span> { $modx-&gt;log(modX::LOG_LEVEL_FATAL,'Adding chunks failed.'); }
</pre>
</div></div>
<p>Good. We returned an array of chunks, and used modCategory's addMany() function to add them in. We also added a sanity check just in case we made a typo or something. Now, let's package all that into a vehicle:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* create category vehicle */
$attr = array(
    xPDOTransport::UNIQUE_KEY =&gt; 'category',
    xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">false</span>,
    xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::RELATED_OBJECTS =&gt; <span class="code-keyword">true</span>,
    xPDOTransport::RELATED_OBJECT_ATTRIBUTES =&gt; array (
        'Snippets' =&gt; array(
            xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">false</span>,
            xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
            xPDOTransport::UNIQUE_KEY =&gt; 'name',
        ),
        'Chunks' =&gt; array (
            xPDOTransport::PRESERVE_KEYS =&gt; <span class="code-keyword">false</span>,
            xPDOTransport::UPDATE_OBJECT =&gt; <span class="code-keyword">true</span>,
            xPDOTransport::UNIQUE_KEY =&gt; 'name',
        ),
    )
);
$vehicle = $builder-&gt;createVehicle($category,$attr);
</pre>
</div></div>
<p>Great&#33; We've got our category vehicle, complete with all the related chunks and snippet. They'll be installed in the right category when our users install our package, too - so it'll look nice and sharp&#33;</p>

<h2><a name="Creatinga3rdPartyComponentBuildScript-ValidatorsandResolvers"></a>Validators and Resolvers</h2>

<p>Validators and resolvers are basically scripts that run during the install process. Validators are run pre-install; meaning that they are run before the main package installation happens. If they return false, the installation does not proceed.</p>

<p>Resolvers, on the other hand, execute after the main package has installed. They can either be file or PHP scripts. A file resolver simply copies over files into a specific target location. A PHP resolver executes a script after install.</p>

<p>With that said, we're going to attach 2 file resolvers, and one PHP resolver, to our script:</p>

<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$vehicle-&gt;resolve('file',array(
    'source' =&gt; $sources['source_core'],
    'target' =&gt; <span class="code-quote">"<span class="code-keyword">return</span> MODX_CORE_PATH . 'components/';"</span>,
));
$vehicle-&gt;resolve('file',array(
    'source' =&gt; $sources['source_assets'],
    'target' =&gt; <span class="code-quote">"<span class="code-keyword">return</span> MODX_ASSETS_PATH . 'components/';"</span>,
));
$vehicle-&gt;resolve('php',array(
    'source' =&gt; $sources['resolvers'] . 'setupoptions.resolver.php',
));
$builder-&gt;putVehicle($vehicle);
</pre>
</div></div>
<p>Okay, first things first. File resolvers take two options:</p>

<ul>
	<li><b>source</b> &#45; This is the target directory or script. If it's a file resolver, it must not end with a trailing slash and must be a valid directory. If it's a PHP script resolver, it must be a valid and accessible file.</li>
	<li><b>target</b> &#45; Only applicable to file resolvers, this tells MODx where to install the source files. It is an eval()'ed statement, so must be used as in the example. The standard MODx defines are available to you; use those to grab base paths to target.</li>
</ul>


<p>So in our examples, we simply move all the files in our source core directory to modx/core/components/quip/ (since our directory that we're moving is named "quip"), and all the files in our source assets directory to modx/assets/components/quip/.</p>

<p>You might be asking why we're moving these to two directories. Well, in practice, it's best to keep non-web-accessible files - such as PHP scripts, tpl files, docs, etc - in the core (which can be placed outside the webroot) so that they are kept secure from web visitors. This keeps only the files that need to be accessed through the web by your Component in the web-accessible part of your site.</p>

<p>Next, we add a PHP resolver, called 'setupoptions.resolver.php'. We'll get back to this in much more detail, because it actually deals with the setup options process we'll get to later.</p>

<p>And finally, we pack the vehicle into the package using the putVehicle function.</p>

<h2><a name="Creatinga3rdPartyComponentBuildScript-Lexicons"></a>Lexicons</h2>

<p>So now we've got a package with system settings, actions, menus, snippets, chunks, a category, and a few resolvers all set up. Let's talk about our lexicons.</p>

<p>We have our lexicon structured nicely in our \core/components/quip/lexicon directory:</p>

<p><span class="image-wrap" style=""><img src="/download/attachments/18678073/quip-dir2.png?version=1&amp;modificationDate=1273237861000" style="border: 0px solid black" /></span></p>

<p>As you can see, we have a subdirectory as 'en', the IANA code for English. Then, we have a 'default.inc.php' - this represents the 'default' lexicon topic. Should we want to create separate lexicon topics, we would name them 'topicname.inc.php'.</p>

<p>As of MODx Revolution RC-2, MODx will automatically find the lexicons in your lexicon directory, assuming that you put them in this structure in the following place: '{namespace_path}lexicon/', where the Namespace path is the path you put for your Namespace earlier. You don't have to build in the lexicons directly at all; MODx will parse it for you.</p>

<p>This is because the lexicons are cached first from your files, then any overrides from the DB are merged and cached. This allows people to 'override' your lexicons by using Lexicon Management in the Manager, should they choose to, without breaking their upgrade path for your Component.</p>

<h2><a name="Creatinga3rdPartyComponentBuildScript-PackageAttributes%3ALicense%2CReadmeandSetupOptions"></a>Package Attributes: License, Readme and Setup Options</h2>

<p>Each package has what are called 'package attributes', which can be passed to any resolver or validator. You could pass pretty much anything you want into the function modPackageBuilder::setPackageAttributes(), in an array format. There are, however, three special keys that we'll deal with.</p>

<ul>
	<li><b>license</b> (string) - This represents your license agreement. Should MODx find this not empty during install, it will prompt the user to agree to it before they can proceed to install the package.</li>
	<li><b>readme</b> (string) - This holds the readme. Before installing, if this is not empty, the user will be able to view the readme. This can be useful to make sure people see any requirements before they install.</li>
	<li><b>setup-options</b> (string) - And here is the best part - this can be an HTML form (minus the form tags) that will pass any user-inputted options to the resolvers or validators. This means that you can take in user input before install, and process it during install&#33;</li>
</ul>


<p>So let's use these in our build script:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">/* now pack in the license file, readme and setup options */
$builder-&gt;setPackageAttributes(array(
    'license' =&gt; file_get_contents($sources['docs'] . 'license.txt'),
    'readme' =&gt; file_get_contents($sources['docs'] . 'readme.txt'),
    'setup-options' =&gt; array(
        'source' =&gt; $sources['build'] . 'setup.options.php'
    ),
));
</pre>
</div></div>
<p>Obviously our license and readme values are being passed the contents of our license and readme files. We're doing them via file_get_contents() so that we can still store the actual files in the <em>modx/core/components/quip/docs</em> directory after install, should the user want to view them later.</p>

<p>But 'setup-options' looks a little different. We could just pass a file_get_contents() call that puts in a string, but then our setup options form wouldn't be dynamic&#33; There might be cases where you wouldn't want that, but we do. We want this options form to upgrade well. Note that you have to pass the file location as the 'source' parameter - remember Resolvers? Looks familiar, eh? Same idea.</p>

<p>Our setup.options.php file looks like this:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?php
/**
 * Build the setup options form.
 *
 * @<span class="code-keyword">package</span> quip
 * @subpackage build
 */
/* set some <span class="code-keyword">default</span> values */
$values = array(
    'emailsTo' =&gt; 'my@emailhere.com',
    'emailsFrom' =&gt; 'my@emailhere.com',
    'emailsReplyTo' =&gt; 'my@emailhere.com',
);
<span class="code-keyword">switch</span> ($options[xPDOTransport::PACKAGE_ACTION]) {
    <span class="code-keyword">case</span> xPDOTransport::ACTION_INSTALL:
    <span class="code-keyword">case</span> xPDOTransport::ACTION_UPGRADE:
        $setting = $modx-&gt;getObject('modSystemSetting',array('key' =&gt; 'quip.emailsTo'));
        <span class="code-keyword">if</span> ($setting != <span class="code-keyword">null</span>) { $values['emailsTo'] = $setting-&gt;get('value'); }
        unset($setting);

        $setting = $modx-&gt;getObject('modSystemSetting',array('key' =&gt; 'quip.emailsFrom'));
        <span class="code-keyword">if</span> ($setting != <span class="code-keyword">null</span>) { $values['emailsFrom'] = $setting-&gt;get('value'); }
        unset($setting);

        $setting = $modx-&gt;getObject('modSystemSetting',array('key' =&gt; 'quip.emailsReplyTo'));
        <span class="code-keyword">if</span> ($setting != <span class="code-keyword">null</span>) { $values['emailsReplyTo'] = $setting-&gt;get('value'); }
        unset($setting);
    <span class="code-keyword">break</span>;
    <span class="code-keyword">case</span> xPDOTransport::ACTION_UNINSTALL: <span class="code-keyword">break</span>;
}

$output = '&lt;label <span class="code-keyword">for</span>=<span class="code-quote">"quip-emailsTo"</span>&gt;Emails To:&lt;/label&gt;
&lt;input type=<span class="code-quote">"text"</span> name=<span class="code-quote">"emailsTo"</span> id=<span class="code-quote">"quip-emailsTo"</span> width=<span class="code-quote">"300"</span> value=<span class="code-quote">"'.$values['emailsTo'].'"</span> /&gt;
&lt;br /&gt;&lt;br /&gt;

&lt;label <span class="code-keyword">for</span>=<span class="code-quote">"quip-emailsFrom"</span>&gt;Emails From:&lt;/label&gt;
&lt;input type=<span class="code-quote">"text"</span> name=<span class="code-quote">"emailsFrom"</span> id=<span class="code-quote">"quip-emailsFrom"</span> width=<span class="code-quote">"300"</span> value=<span class="code-quote">"'.$values['emailsFrom'].'"</span> /&gt;
&lt;br /&gt;&lt;br /&gt;

&lt;label <span class="code-keyword">for</span>=<span class="code-quote">"quip-emailsReplyTo"</span>&gt;Emails Reply-To:&lt;/label&gt;
&lt;input type=<span class="code-quote">"text"</span> name=<span class="code-quote">"emailsReplyTo"</span> id=<span class="code-quote">"quip-emailsReplyTo"</span> width=<span class="code-quote">"300"</span> value=<span class="code-quote">"'.$values['emailsReplyTo'].'"</span> /&gt;';

<span class="code-keyword">return</span> $output;
</pre>
</div></div>
<p>As you can see, some new constants here. These are available to all setup options forms and resolvers:</p>

<ul>
	<li><b>xPDOTransport::PACKAGE_ACTION</b> &#45; This tells us what action is being performed on the package; it is one of the following 3 values:
	<ul>
		<li><b>xPDOTransport::ACTION_INSTALL</b> &#45; This is set when the package is being executed as an install.</li>
		<li><b>xPDOTransport::ACTION_UPGRADE</b> &#45; This is set when the package is being upgraded.</li>
		<li><b>xPDOTransport::ACTION_UNINSTALL</b> &#45; This is set when the package is being uninstalled. This doesn't apply to setup-options, obviously, since nothing is being set up. In future Revolution releases, it will allow you to do specific options for uninstall; but not yet.</li>
	</ul>
	</li>
</ul>


<p>Basically, we're presenting them with a form before install that looks like this:</p>

<p><span class="image-wrap" style=""><img src="/download/attachments/18678073/setupopt.png?version=1&amp;modificationDate=1247328432000" style="border: 0px solid black" /></span></p>

<p>So that they can set or update the values of the emailsTo, emailsFrom, and emailsReplyTo system settings before they install the package. Now, the script will first check to see if those settings already exist; and if so, we'll fill them in with those values. This allows for upgrades to go gracefully, persisting the user's custom settings for those values. Pretty cool, huh?</p>

<p>Obviously, there's a lot you could do with this. You could set target directories for photo locations, setup basic email accounts, set login/pass information for 3rd party web service integrations, and more. We'll leave your imagination to do the work from here on out.</p>

<p>Let's go back to our PHP script resolver that processes this information:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">&lt;?php
/**
 * Resolves setup-options settings by setting email options.
 *
 * @<span class="code-keyword">package</span> quip
 * @subpackage build
 */
$success= <span class="code-keyword">false</span>;
<span class="code-keyword">switch</span> ($options[xPDOTransport::PACKAGE_ACTION]) {
    <span class="code-keyword">case</span> xPDOTransport::ACTION_INSTALL:
    <span class="code-keyword">case</span> xPDOTransport::ACTION_UPGRADE:
        /* emailsTo */
        $setting = $object-&gt;xpdo-&gt;getObject('modSystemSetting',array('key' =&gt; 'quip.emailsTo'));
        <span class="code-keyword">if</span> ($setting != <span class="code-keyword">null</span>) {
            $setting-&gt;set('value',$options['emailsTo']);
            $setting-&gt;save();
        } <span class="code-keyword">else</span> {
            $object-&gt;xpdo-&gt;log(xPDO::LOG_LEVEL_ERROR,'[Quip] emailsTo setting could not be found, so the setting could not be changed.');
        }

        /* emailsFrom */
        $setting = $object-&gt;xpdo-&gt;getObject('modSystemSetting',array('key' =&gt; 'quip.emailsFrom'));
        <span class="code-keyword">if</span> ($setting != <span class="code-keyword">null</span>) {
            $setting-&gt;set('value',$options['emailsFrom']);
            $setting-&gt;save();
        } <span class="code-keyword">else</span> {
            $object-&gt;xpdo-&gt;log(xPDO::LOG_LEVEL_ERROR,'[Quip] emailsFrom setting could not be found, so the setting could not be changed.');
        }

        /* emailsReplyTo */
        $setting = $object-&gt;xpdo-&gt;getObject('modSystemSetting',array('key' =&gt; 'quip.emailsReplyTo'));
        <span class="code-keyword">if</span> ($setting != <span class="code-keyword">null</span>) {
            $setting-&gt;set('value',$options['emailsReplyTo']);
            $setting-&gt;save();
        } <span class="code-keyword">else</span> {
            $object-&gt;xpdo-&gt;log(xPDO::LOG_LEVEL_ERROR,'[Quip] emailsReplyTo setting could not be found, so the setting could not be changed.');
        }

        $success= <span class="code-keyword">true</span>;
        <span class="code-keyword">break</span>;
    <span class="code-keyword">case</span> xPDOTransport::ACTION_UNINSTALL:
        $success= <span class="code-keyword">true</span>;
        <span class="code-keyword">break</span>;
}
<span class="code-keyword">return</span> $success;
</pre>
</div></div>
<p>Note that $modx is not available here; you're actually running these scripts from within the transport object. The $modx object is available as a different name, however: $object-&gt;xpdo. $object is the object that the resolver is attached to; here, it would be the modCategory.</p>

<p>Our script, then, is setting the values set in the setup-options to the newly installed system settings.</p>

<p>And now that we've got everything packaged and ready to go, let's pack the package into a zip file and give us the time it took to build the package:</p>
<div class="code panel" style="border-width: 1px;"><div class="codeContent panelContent">
<pre class="code-java">$builder-&gt;pack();

$mtime= microtime();
$mtime= explode(<span class="code-quote">" "</span>, $mtime);
$mtime= $mtime[1] + $mtime[0];
$tend= $mtime;
$totalTime= ($tend - $tstart);
$totalTime= sprintf(<span class="code-quote">"%2.4f s"</span>, $totalTime);

$modx-&gt;log(modX::LOG_LEVEL_INFO,<span class="code-quote">"\nPackage Built.\nExecution time: {$totalTime}\n"</span>);

session_write_close();
exit();
</pre>
</div></div>
<p>Great, we're done&#33; You'll only need to run this script now, and viola&#33; A fully zipped transport package file will appear in your core/packages directory.</p>


<h2><a name="Creatinga3rdPartyComponentBuildScript-RelatedPages"></a>Related Pages</h2>

<ul>
	<li><a href="/display/revolution20/Package+Management" title="Package Management">Package Management</a></li>
	<li><a href="/display/revolution20/Transport+Packages" title="Transport Packages">Transport Packages</a></li>
	<li><a href="/display/revolution20/Providers" title="Providers">Transport Providers</a></li>
</ul>


<style type='text/css'>/*<![CDATA[*/
table.ScrollbarTable  {border: none;padding: 3px;width: 100%;padding: 3px;margin: 0px;background-color: #f0f0f0}
table.ScrollbarTable td.ScrollbarPrevIcon {text-align: center;width: 16px;border: none;}
table.ScrollbarTable td.ScrollbarPrevName {text-align: left;border: none;}
table.ScrollbarTable td.ScrollbarParent {text-align: center;border: none;}
table.ScrollbarTable td.ScrollbarNextName {text-align: right;border: none;}
table.ScrollbarTable td.ScrollbarNextIcon {text-align: center;width: 16px;border: none;}

/*]]>*/</style><div class="Scrollbar"><table class='ScrollbarTable'><tr><td class='ScrollbarPrevIcon'><a href="/display/revolution20/Providers"><img border='0' align='middle' src='/images/icons/back_16.gif' width='16' height='16'></a></td><td width='33%' class='ScrollbarPrevName'><a href="/display/revolution20/Providers">Providers</a>&nbsp;</td><td width='33%' class='ScrollbarParent'><sup><a href="/display/revolution20/Package+Management"><img border='0' align='middle' src='/images/icons/up_16.gif' width='8' height='8'></a></sup><a href="/display/revolution20/Package+Management">Package Management</a></td><td width='33%' class='ScrollbarNextName'>&nbsp;</td></tr></table></div>
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://oldrtfm.modx.com/display/revolution20/Creating+a+3rd+Party+Component+Build+Script"
    dc:identifier="http://oldrtfm.modx.com/display/revolution20/Creating+a+3rd+Party+Component+Build+Script"
    dc:title="Creating a 3rd Party Component Build Script"
    trackback:ping="http://oldrtfm.modx.com/rpc/trackback/18678073"/>
</rdf:RDF>
-->

            
    


<fieldset class="hidden parameters">
    <legend>Labels parameters</legend>
    <input type="hidden" id="editLabel" value="Edit">
    <input type="hidden" id="addLabel" value="Add Labels">
    <input type="hidden" id="domainName" value="http://oldrtfm.modx.com">
    <input type="hidden" id="pageId" value="18678073">
    <input type="hidden" id="spaceKey" value="revolution20">
</fieldset>

<div id="labels-section" class="pageSection">
    <div id="default-labels-header" class="section-header">
        <h2 id="labels-section-title" class="section-title  hidden ">Labels</h2>
            </div>

    <div class="labels-editor">
        <div id="labelsList">
                    </div>

        <span class="errorMessage error" id="errorSpan"></span>
        <form method="GET" action="" id="add-labels-form">
            <div id="labelInputSpan" class="labels-input">
                <div id="labelOperationErrorContainer" class="hidden">
                    <span class="error"><span class="errorMessage" id="labelOperationErrorMessage"></span></span>
                </div>

                <div class="caption">Enter labels to add to this page:</div>
                <div id="label-input-fields">
                    <input autocomplete="off" id="labelsString" name="labelsString" value="" size="40">
                    <input id="add-labels-editor-button" type="submit" class="add-labels" value="Add">
                    <input id="close-labels-editor-button" type="submit" class="hide-labels-editor" value="Done">
                </div>
                <div id="waitImageAndStatus">
                    <img class="waiting" alt="Please wait" src="/s/1911/69/_/images/icons/wait.gif">&nbsp;
                    <span id="labelOperationStatus" class="smalltext"></span>
                </div>
                <div id="labelsAutocompleteList" class="aui-dd-parent"></div>
                <div class="labels-tip">
                    <div id="suggestedLabelsSpan"></div>
                    Looking for a label? Just start typing.
                </div>
            </div>
        </form>
    </div>
</div>

            
            




            
    

        
<fieldset class="parameters hidden">
    <input type="hidden" id="deleteCommentConfirmMessage" value="Are you sure you want to remove the comment?">
    <input type="hidden" id="collapseTooltip" value="Click to toggle the display of this comment.">
        </fieldset>






<div id="comments-section" class="pageSection">
    
    
    
    
                                    </div>


            
</div>


    




        
        

    
    
    


<fieldset class="hidden parameters">
        <input type="hidden" id="i18n.manage.watchers.dialog.title" value="Manage Watchers">
        <input type="hidden" id="i18n.manage.watchers.unable.to.remove.error" value="Failed to remove watcher. Refresh page to see latest status.">
        <input type="hidden" id="i18n.manage.watchers.status.adding.watcher" value="Adding watcher&amp;hellip;">
</fieldset>
<script type="text/x-template" title="manage-watchers-dialog">
<div class="dialog-content">
    <div class="column page-watchers">
        <h3>Watching this page</h3>
        <p class="description">These people are notified when the page is changed. You can add or remove people from this list.</p>
        <form action="/json/addwatch.action" method="POST">
                <input type="hidden" name="atl_token" value="Ue9I4urNih">
            <input type="hidden" name="pageId" value="18678073"/>
            <input type="hidden" id="add-watcher-username" name="username" value=""/>
            <label for="add-watcher-user">User</label>
            <input id="add-watcher-user" name="userFullName" type="search" class="has-placeholder autocomplete-user"
               value="" placeholder="Full name or username" autocomplete="off"
               data-max="10" data-target="#add-watcher-username" data-dropdown-target="#add-watcher-dropdown"
               data-template="{title}" data-none-message="No matching users found.">
            <input id="add-watcher-submit" type="submit" name="add" value="Add">
            <div id="add-watcher-dropdown" class="aui-dd-parent autocomplete"></div>
            <div class="status hidden"></div>
        </form>
        <ul class="user-list">
            <li class="loading">Loading&hellip;</li>
            <li class="no-users hidden">No page watchers</li>
        </ul>
    </div>
    <div class="column space-watchers">
        <h3>Watching this space</h3>
        <p class="description">These people are notified when any content in the space is changed. You cannot modify this list.</p>
        <ul class="user-list">
            <li class="loading">Loading&hellip;</li>
            <li class="no-users hidden">No space watchers</li>
        </ul>
    </div>
</div>
</script>
<script type="text/x-template" title="manage-watchers-user">
    <li class="watch-user">
        <img class="profile-picture confluence-userlink" src="{iconUrl}" data-username="{username}">
        <a class="confluence-userlink" href="{url}" data-username="{username}">{fullName} <span class="username">({username})</span></a>
        <span class="remove-watch" title="Remove"
            data-username="{username}">Remove</span>
    </li>
</script>
<script type="text/x-template" title="manage-watchers-help-link">
    <div class="dialog-help-link">
            <a href="http://docs.atlassian.com/confluence/docs-33/Managing+Watchers" target="_blank">Help</a>
    </div>
</script>
    <br class="clear">
</div>
  
    </div>
</div>

<div id="footer">
                                                <p class="license license-opensource">
                  Powered by a free <b>Atlassian Confluence Open Source Project License</b> granted to MODx CMS / xPDO. <a href="http://www.atlassian.com/c/conf/11461">Evaluate Confluence today</a>.<br>
                </p>
                        
    <ul id="poweredby">
        <li class="noprint">Powered by <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link">Atlassian Confluence</a> 3.3, the <a href="http://www.atlassian.com/software/confluence/tour/enterprise-wiki.jsp" class="hover-footer-link">Enterprise Wiki</a></li>
        <li class="print-only">Printed by Atlassian Confluence 3.3, the Enterprise Wiki.</li>        
        <li class="noprint"> &nbsp; |&nbsp; <a href="http://jira.atlassian.com/secure/BrowseProject.jspa?id=10470" class="hover-footer-link">Report a bug</a></li>
        <li class="noprint"> &nbsp;|&nbsp; <a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link">Atlassian News</a></li>
    </ul>

    

            <script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-71684-1']);
  _gaq.push(['_setDomainName', 'oldrtfm.modx.com']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
    </div>    <!-- include system javascript resources -->
                        
    
    
    <!-- end system javascript resources -->
</div>
</body>
</html>

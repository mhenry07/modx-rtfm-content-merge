<div>
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.console#MODx.Console-WhatistheMODx.Console%3F">What is the MODx.Console?</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.console#MODx.Console-HowitWorks">How it Works</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/advanced-development/custom-manager-pages/modext/modx.console#MODx.Console-Usage">Usage</a>
</li>
</ul>
</div>

<h2>
<a name="MODx.Console-WhatistheMODx.Console%3F"></a>What is the MODx.Console?
</h2>

<p>
The MODx.Console is a special Ext widget that has been built to act as a terminal-like output console for processors that need to return more detailed information. It can be found in <a href="display/revolution20/Package+Management" title="Package Management">Package Management</a>, clearing the cache, or in other areas of MODX:
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/34636260/modx-console.png?version=1&amp;modificationDate=1302185248000" style="border: 0px solid black" /></span>
</p>

<h2>
<a name="MODx.Console-HowitWorks" id="MODx.Console-HowitWorks"></a>How it Works
</h2>

<p>
The Console relies on two parameters to function:
</p>

<ul>
<li>
<b>register</b> - The registry to pull from
</li>

<li>
<b>topic</b> - The topic in the registry to read
</li>
</ul>

<p>
First off, the Console starts up a Polling panel that queries the Registry with those two variables. It will continue to poll the Registry until the Console JS object has had its "complete" event fired; or a COMPLETED message is sent. Once that occurs, the Console will stop polling the Registry, and its "OK" button will be enabled. The user can then choose to close the console or download the output to a file. Once the user clicks the OK button, the "shutdown" event will be fired on the console.
</p>

<h2>
<a name="MODx.Console-Usage" id="MODx.Console-Usage"></a>Usage
</h2>

<p>
The console can easily be hooked up to nearly any processor and JS custom application in MODX. Simply instantiate a new console object:
</p>

<pre class="brush: php">
    
MODx.Ajax.request({
    url: URL_TO_MY_CONNECTOR
    ,params: {
        action: MY_ACTION
        ,register: register
        ,topic: topic
    }
    ,listeners: {
        'success':{fn:function() {
            console.fireEvent('complete');
        },scope:this}
    }
});

    
</pre>
<p>
You'll need to specify the URL of your connector url, as well as the action you want to load (the processor). In your processor, you can output to the Console by using $modx-&gt;log:
</p>

<pre class="brush: php">
    $modx-&gt;log(modX::LOG_LEVEL_INFO,'COMPLETED');
    
</pre>
<p>
This tells the console to stop polling, and enables the "OK" button which closes the console.
</p>

<div class="note">
MODX Revolution 2.1.0-rc2 and later do not need you to send the COMPLETED message in the registry - just firing the 'complete' event on the JS Console object will work. All prior versions require the COMPLETED message.
</div>

<p>
After that, once the user clicks the "OK" button, MODx.Console will fire its "shutdown" event. Here you can fire any code you wish to do at that time.
</p>
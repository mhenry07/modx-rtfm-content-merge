<div>
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-Overview">Overview</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-WhatisaSnippet%3F">What is a Snippet?</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-HowDoTheyWork%3F">How Do They Work?</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-SimpleExample">Simple Example</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-PassingValuesIntoaSnippet">Passing Values Into a Snippet</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-ReadingValuesinyourSnippets">Reading Values in your Snippets</a>
</li>
</ul>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-DatabaseInteractioninSnippets">Database Interaction in Snippets</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-WhyanORM%3F">Why an ORM?</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-ExampleDBCode">Example DB Code</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-FurtherDatabaseReading">Further Database Reading</a>
</li>
</ul>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-RecommendedMethodsandTips">Recommended Methods and Tips</a>
</li>

<li style="list-style: none; display: inline">
<ul>
<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-WriteyourSnippetsoutsideofMODx.">Write your Snippets outside of MODx.</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-Don%27ttrytomixPHPandHTMLinaSnippet.">Don't try to mix PHP and HTML in a Snippet.</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-Don%27tWorkonLiveSnippets">Don't Work on Live Snippets</a>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-UseDefaultProperties">Use Default Properties</a>
</li>
</ul>
</li>

<li>
<a href="revolution/2.x/developing-in-modx/basic-development/snippets#Snippets-SeeAlso">See Also</a>
</li>
</ul>
</div>

<h2>
<a name="Snippets-Overview" id="Snippets-Overview"></a>Overview
</h2>

<p>
Snippets are the method by which MODx allows you to run dynamic PHP code in any of your pages. They are the main development vehicle for most developers.
</p>

<h3>
<a name="Snippets-WhatisaSnippet%3F"></a>What is a Snippet?
</h3>

<p>
According to one definition, a "snippet" is "a short reusable piece of computer source code". Some people have a hard time distinguishing this from a "chunk", so a helpful mnemonic might lie in the p's... as in "PHP", e.g. sni-"P(h)P"-et.
</p>

<h3>
<a name="Snippets-HowDoTheyWork%3F"></a>How Do They Work?
</h3>

<p>
First off, most Snippets are <em>cached</em>, meaning they're stored as a temporary, dynamic function in the cache. If they're flagged as uncached, then they are not parsed until the parser has done all of the other cached content.
</p>

<p>
Then, once they're up to be cached, Snippets are then parsed by the MODx Parser. They have access to the $modx object.
</p>

<h3>
<a name="Snippets-SimpleExample" id="Snippets-SimpleExample"></a>Simple Example
</h3>

<p>
Here's the perfunctory super-basic example of what a Snippet's code might look like:
</p>

<pre class="brush: php">
    [[!mySnippet? &amp;input=`Hello World`]]
    
</pre>
<p>
And the code for your Snippet might look something like this:
</p>

<pre class="brush: php">
    
[[!mySnippet? &amp;x=`x-ray` &amp;y=`yellow`]]

    
</pre>
<p>
Then the <b>$scriptProperties</b> array will contain this:
</p>

<pre class="brush: php">
    
$chunk = $modx-&gt;getObject('modChunk',array(
   'name' =&gt; 'LineItem',
));
if (!$chunk) return 'No line item chunk!';

return $chunk-&gt;process(array(
   'name' =&gt; 'G.I. Joe',
   'grenades' =&gt; 42,
));

    
</pre>
<p>
That code would get a chunk with the name of 'LineItem', and return it processed with the placeholders set. The $chunk variable there is actually an <a href="display/xPDO20/xPDOObject" title="xPDOObject">xPDOObject</a>, which is an object representation of the Resource.
</p>

<p>
What about more complex queries? Like, say, getting the first 10 Resources with a parent of 23, 24 or 25. And let's make it so they aren't hidden from menus or deleted, are published, and sort them by menuindex. That's when we use the powerful $modx-&gt;newQuery() method:
</p>

<pre class="brush: php">
    
if (file_exists($file)) {
   $o = include $file;
} else { $o = 'File not found at: '.$file; }
return $o;

    
</pre>
<p>
You can use the include snippet on a page like such:
</p>

<pre class="brush: php">
    &lt;p&gt;This is a horrible mixture of HTML and PHP&lt;/p&gt;
&lt;?php
return "&lt;p&gt;and PHP!&amp;nbsp; Don't try it!&amp;nbsp; It's bad architecture and it won't work!!&lt;/p&gt;";
?&gt;
    
</pre>
<p>
You'll find that MODx will append PHP tags to beginning and end of the snippet, creating an invalid syntax, e.g.:
</p>

<pre class="brush: php">
    
$output = $modx-&gt;getChunk('myChunk',array(
  'placeholderOne' =&gt; 'test',
  'name' =&gt; 'Harry',
  'scar' =&gt; 'Lightning',
));
return $output;

    
</pre>
<h3>
<a name="Snippets-Don%27tWorkonLiveSnippets"></a>Don't Work on Live Snippets
</h3>

<p>
If you're writing new versions of Snippets, <em>duplicate</em> the old version! That way you can go back to the old version of the code if something doesn't work correctly! MODx doesn't inherently do versioning control, so you have to backup code yourself.
</p>

<h3>
<a name="Snippets-UseDefaultProperties" id="Snippets-UseDefaultProperties"></a>Use Default Properties
</h3>

<p>
Consider adding your properties for your snippet into the Properties grid, so that the user can add custom <a href="display/revolution20/Properties+and+Property+Sets" title="Properties and Property Sets">Property Sets</a> to override them.
</p>

<h2>
<a name="Snippets-SeeAlso" id="Snippets-SeeAlso"></a>See Also
</h2>

<ol class="ug-toc">
<li>
<a href="/revolution/2.x/developing-in-modx/basic-development/snippets/adding-css-and-js-to-your-pages-through-snippets">Adding CSS and JS to Your Pages Through Snippets</a>
</li>

<li>
<a href="/revolution/2.x/developing-in-modx/basic-development/snippets/how-to-write-a-good-chunk">How to Write a Good Chunk</a>
</li>

<li>
<a href="/revolution/2.x/developing-in-modx/basic-development/snippets/how-to-write-a-good-snippet">How to Write a Good Snippet</a>
</li>

<li>
<a href="/revolution/2.x/developing-in-modx/basic-development/snippets/templating-your-snippets">Templating Your Snippets</a>
</li>
</ol>

<ul>
<li>
<a href="display/revolution20/modX.runSnippet" title="modX.runSnippet">modX.runSnippet</a>
</li>

<li>
<a href="display/revolution20/modX.setPlaceholder" title="modX.setPlaceholder">modX.setPlaceholder</a>
</li>

<li>
<a href="display/revolution20/modX.regClientCSS" title="modX.regClientCSS">modX.regClientCSS</a>
</li>
</ul>
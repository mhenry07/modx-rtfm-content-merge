<h2 id="MODx.msg-MODx.msg">
MODx.msg
</h2>

<p>
<strong>Extends:</strong> Ext.Component
<br />
<strong>Key Features:</strong> AJAX connector features.
</p>

<p>
<img src="/download/attachments/18678080/confirm.png?version=1&amp;modificationDate=1302195122000" />
</p>

<p>
The MODx.msg class provides the functionality of the Ext.MessageBox class, with the added benefit of using an AJAX callback function (for confirmation dialogs). Simply provide a URL and optional parameters and a connector request will be sent after the user confirms the prompt. It defaults to a minimum width of 200px.
</p>

<h2 id="MODx.msg-Methods">
Methods
</h2>

<h3 id="MODx.msg-alert">
alert
</h3>

<blockquote>
<p>
MODx.msg.alert(title,text,fn,scope)
</p>
</blockquote>

<p>
Used to display an alert dialog box on the page. Example:
</p>

<pre class="brush: php">
MODx.msg.alert('Warning!','You are out of space! We should clear the cache.',function() {
  MODx.clearCache();
},MODx);
</pre>
<h3 id="MODx.msg-confirm">
confirm
</h3>

<blockquote>
<p>
MODx.msg.confirm(config)
</p>
</blockquote>

<p>
Loads a confirmation dialog that prompts the user for a Yes/No response. If Yes is selected, fires an AJAX request to a specific connector. The properties for the config parameter are:
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
</tr>

<tr>
<td>
title
</td>
<td>
The title of the confirmation box.
</td>
</tr>

<tr>
<td>
text
</td>
<td>
The text in the confirmation box.
</td>
</tr>

<tr>
<td>
url
</td>
<td>
The URL to send the AJAX request to.
</td>
</tr>

<tr>
<td>
params
</td>
<td>
The REQUEST params to send with the AJAX request.
</td>
</tr>

<tr>
<td>
listeners
</td>
<td>
Any listeners to look for on the request.
</td>
</tr>
</tbody>
</table>

<p>
An example:
</p>

<pre class="brush: php">
MODx.msg.confirm({
   title: 'Are you sure?',
   text: 'Do you want to delete the world? This is irreversible.',
   url: 'http://rest.endofdays.com/armageddon/',
   params: {
      deleteWorld: true
   },
   listeners: {
        'success':{fn: function(r) {
             MODx.clearCache(); /* clear cache after world destruction, so we dont have latent data */
        },scope:true}
   }
});
</pre>
<h4 id="MODx.msg-MODx.msg.confirmCustomEvents">
MODx.msg.confirm Custom Events
</h4>

<p>
MODx.msg.confirm adds a few custom events that fire:
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
</tr>

<tr>
<td>
success
</td>
<td>
Fires on a successful response from the AJAX submission.
</td>
</tr>

<tr>
<td>
failure
</td>
<td>
Fires on a failed response from the AJAX submission.
</td>
</tr>

<tr>
<td>
cancel
</td>
<td>
Fires when the user cancels the confirmation dialog.
</td>
</tr>
</tbody>
</table>

<h3 id="MODx.msg-status">
status
</h3>

<pre class="brush: php">
MODx.msg.status(opt)
</pre>
<p>
Loads a temporary status message in the top-right of the screen, that fades away. The properties for the opt parameter are:
</p>

<table>
<tbody>
<tr>
<th>
Name
</th>
<th>
Description
</th>
<th>
Default
</th>
</tr>

<tr>
<td>
title
</td>
<td>
Optional. The title of the message.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
message
</td>
<td>
The text of the status message.
</td>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
dontHide
</td>
<td>
If true, will not automatically hide the status message. Will stay until it is clicked.
</td>
<td>
false
</td>
</tr>

<tr>
<td>
delay
</td>
<td>
The number of seconds to show the message.
</td>
<td>
1.5
</td>
</tr>
</tbody>
</table>

<p>
You could use this in custom manager pages to provide confirmation your object was saved. You could add something like this to your FormPanel definition:
</p>

<pre class="brush: php">
        listeners: {
            'success': function (res) {
                MODx.msg.status({
                    title: _('save_successful'),
                    message: res.result['message'],
                    delay: 3
                });
            }
        }
</pre>
<p>
The 'success' listener is part of modExt and comes with <a href="/display/revolution20/MODx.FormPanel" title="MODx.FormPanel">MODx.FormPanel</a>.
</p>

<h2 id="MODx.msg-SeeAlso">
See Also
</h2>

<ol class="ug-toc see-also">
<li>
<a href="/display/revolution20/MODExt+MODx+Object">MODExt MODx Object</a>
</li>

<li>
<a href="/display/revolution20/MODExt+Tutorials">MODExt Tutorials</a>
<ol class="ug-toc">
<li>
<a href="/display/revolution20/1.+Ext+JS+Tutorial+-+Message+Boxes">1. Ext JS Tutorial - Message Boxes</a>
</li>

<li>
<a href="/display/revolution20/2.+Ext+JS+Tutorial+-+Ajax+Include">2. Ext JS Tutorial - Ajax Include</a>
</li>

<li>
<a href="/display/revolution20/3.+Ext+JS+Tutorial+-+Animation">3. Ext JS Tutorial - Animation</a>
</li>

<li>
<a href="/display/revolution20/4.+Ext+JS+Tutorial+-+Manipulating+Nodes">4. Ext JS Tutorial - Manipulating Nodes</a>
</li>

<li>
<a href="/display/revolution20/5.+Ext+JS+Tutorial+-+Panels">5. Ext JS Tutorial - Panels</a>
</li>

<li>
<a href="/display/revolution20/7.+Ext+JS+Tutoral+-+Advanced+Grid">7. Ext JS Tutoral - Advanced Grid</a>
</li>

<li>
<a href="/display/revolution20/8.+Ext+JS+Tutorial+-+Inside+a+CMP">8. Ext JS Tutorial - Inside a CMP</a>
</li>
</ol>
</li>

<li>
<a href="/display/revolution20/MODx.combo.ComboBox">MODx.combo.ComboBox</a>
</li>

<li>
<a href="/display/revolution20/MODx.Console">MODx.Console</a>
</li>

<li>
<a href="/display/revolution20/MODx.FormPanel">MODx.FormPanel</a>
</li>

<li>
<a href="/display/revolution20/MODx.grid.Grid">MODx.grid.Grid</a>
</li>

<li>
<a href="/display/revolution20/MODx.grid.LocalGrid">MODx.grid.LocalGrid</a>
</li>

<li>
<a href="/display/revolution20/MODx.msg">MODx.msg</a>
</li>

<li>
<a href="/display/revolution20/MODx.tree.Tree">MODx.tree.Tree</a>
</li>

<li>
<a href="/display/revolution20/MODx.Window">MODx.Window</a>
</li>
</ol>
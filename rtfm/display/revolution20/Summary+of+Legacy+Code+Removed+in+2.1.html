<div>
<ul>
<li>
<a href="#SummaryofLegacyCodeRemovedin2.1-Functionality">Functionality</a>
<ul>
<li>
<a href="#SummaryofLegacyCodeRemovedin2.1-TVInputTypes">TV Input Types</a>
</li>
</ul>
</li>

<li>
<a href="#SummaryofLegacyCodeRemovedin2.1-Methods%2CConstantsandVariables">Methods, Constants and Variables</a>
</li>
</ul>
</div>

<div class="note">
<strong>In progress</strong>
<br />
</div>

<h2 id="SummaryofLegacyCodeRemovedin2.1-Functionality">
Functionality
</h2>

<h3 id="SummaryofLegacyCodeRemovedin2.1-TVInputTypes">
TV Input Types
</h3>

<p>
The following input types were removed:
</p>

<ul>
<li>htmlarea, dropdown (use listbox), textareamini
</li>
</ul>

<h2 id="SummaryofLegacyCodeRemovedin2.1-Methods,ConstantsandVariables">
Methods, Constants and Variables
</h2>

<p>
Many constants, variables and api methods have been long deprecated, marked for removal in 2.0 or 2.1 and are now finally removed from the MODX Revolution 2.1 codebase.
</p>

<table>
<tbody>
<tr>
<th>
Item Removed
</th>
<th>
Notes on Replacement or Potential Workaround
</th>
</tr>

<tr>
<td>
IN_PARSER_MODE
</td>
<td>
check context is not mgr
</td>
</tr>

<tr>
<td>
IN_MANAGER_MODE
</td>
<td>
check context is mgr
</td>
</tr>

<tr>
<td>
IN_MANAGER_MODE
</td>
<td>
check context is mgr
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
<pre>
$_SESSION["mgrValidated"]
</pre>
</td>
<td>
modX-&gt;user-&gt;isAuthenticated('mgr')
</td>
</tr>

<tr>
<td>
<pre>
$_SESSION["webValidated"]
</pre>
</td>
<td>
modX-&gt;user-&gt;isAuthenticated('web')
</td>
</tr>

<tr>
<td>
<pre>
$_SESSION["mgrInternalKey"]
</pre>
</td>
<td>
modX-&gt;user-&gt;get('id') when modX-&gt;user-&gt;isAuthenticated('mgr')
</td>
</tr>

<tr>
<td>
<pre>
$_SESSION["webInternalKey"]
</pre>
</td>
<td>
modX-&gt;user-&gt;get('id') when modX-&gt;user-&gt;isAuthenticated('web')
</td>
</tr>

<tr>
<td>
<pre>
$_SESSION["mgrShortname"]
</pre>
</td>
<td>
modX-&gt;user-&gt;get('username') when modX-&gt;user-&gt;isAuthenticated('mgr')
</td>
</tr>

<tr>
<td>
<pre>
$_SESSION["webShortname"]
</pre>
</td>
<td>
modX-&gt;user-&gt;get('username') when modX-&gt;user-&gt;isAuthenticated('web')
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
DBAPI: modX-&gt;db
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;config
</td>
<td>
<a href="/display/xPDO20/getOption" title="getOption">modX-&gt;getOption()</a>
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;connect()
</td>
<td>
modX automatically connects to MODX database. If you're looking to set up another connection, you could instantiate xPDO again.
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;disconnect()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;escape($s)
</td>
<td>
modX-&gt;quote()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;query($sql)
</td>
<td>
modX-&gt;query() or modX-&gt;execute($criteria) see manual for PDO query
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;delete($from, $where= "",$fields='')
</td>
<td>
see modX-&gt;query()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;select($fields= "*", $from= "", $where= "", $orderby= "", $limit= "")
</td>
<td>
see modX-&gt;query()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;update($fields, $table, $where= "")
</td>
<td>
see modX-&gt;query()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;insert($fields, $intotable, $fromfields= "*", $fromtable= "", $where= "", $limit= "")
</td>
<td>
see modX-&gt;query()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;exec($sql)
</td>
<td>
see modX-&gt;execute($criteria)
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getInsertId()
</td>
<td>
see modX-&gt;lastInsertId()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getAffectedRows()
</td>
<td>
see modX-&gt;getCount() or xPDOCriteria-&gt;stmt-&gt;rowCount()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getLastError()
</td>
<td>
see xPDOCriteria-&gt;stmt-&gt;errorCode or xPDOCriteria-&gt;stmt-&gt;errorInfo
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getRecordCount($ds)
</td>
<td>
modX-&gt;getCount($className, $criteria= null)
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getRow($ds, $mode= 'assoc')
</td>
<td>
see xPDOCriteria-&gt;stmt-&gt;fetch()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getColumn($name, $dsq)
</td>
<td>
see xPDOCriteria-&gt;stmt-&gt;fetchColumn()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getColumnNames($dsq)
</td>
<td>
see modX-&gt;getFields($className) (note: not exactly the same .. gives you column names for a specific class)
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getValue($dsq)
</td>
<td>
see xPDOCriteria-&gt;stmt-&gt;fetchColumn()
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getXML($dsq)
</td>
<td>
no direct analog
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getTableMetaData($table)
</td>
<td>
modX-&gt;map property
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;prepareDate($timestamp, $fieldType= 'DATETIME')
</td>
<td>
php to sql conversion of datetypes are handled automatically in the modX model (or a custom xPDO model)
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;getHTMLGrid($dsq, $params)
</td>
<td>
no direct analog
</td>
</tr>

<tr>
<td>
modX-&gt;db-&gt;makeArray($rs= '')
</td>
<td>
see xPDOCriteria-&gt;stmt-&gt;fetch()
</td>
</tr>

<tr>
<td>
modX-&gt;getFullTableName()
</td>
<td>
modX-&gt;getTableName($className, $includeDb=false)
<br />
or modX-&gt;escape($customTableName)
</td>
</tr>

<tr>
<td>
modX-&gt;dbConfig
</td>
<td>
modX-&gt;getOption() (NOTE: some of the configuration keys are different, i.e. dbuser = username, dbpass = password, dbase = dbname)
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modX-&gt;putChunk()
</td>
<td>
modX-&gt;getChunk()
</td>
</tr>

<tr>
<td>
modX-&gt;isFrontend()
</td>
<td>
modX-&gt;context-&gt;get('key') == 'web' or other front-end context
</td>
</tr>

<tr>
<td>
modX-&gt;isBackend()
</td>
<td>
modX-&gt;context-&gt;get('key') == 'mgr'
</td>
</tr>

<tr>
<td>
modX-&gt;getSettings()
</td>
<td>
modX-&gt;config after $modx-&gt;getConfig()
</td>
</tr>

<tr>
<td>
modX-&gt;getDocumentObject($method, $identifier)
</td>
<td>
not public API method; no replacement (see modRequest-&gt;getResource())
</td>
</tr>

<tr>
<td>
modX-&gt;isMemberOfWebGroup()
</td>
<td>
modX-&gt;user-&gt;isMember or modUser-&gt;isMember
</td>
</tr>

<tr>
<td>
modX-&gt;getDocument
</td>
<td>
modX-&gt;getObject('modResource', $criteria)
</td>
</tr>

<tr>
<td>
modX-&gt;getDocuments
</td>
<td>
modX-&gt;getCollection('modResource', $criteria)
<br />
or modX-&gt;getIterator('modResource', $criteria)
</td>
</tr>

<tr>
<td>
modX-&gt;getAllChildren()
</td>
<td>
modX-&gt;getCollection('modResource', $criteria) , $criteria having where condition 'parent' = $id
</td>
</tr>

<tr>
<td>
modX-&gt;getActiveChildren()
</td>
<td>
modX-&gt;getCollection('modResource', $criteria) , $criteria having where conditions 'parent' = $id, 'published' = 1, 'deleted' = 0
</td>
</tr>

<tr>
<td>
modX-&gt;getDocumentChildren()
</td>
<td>
as above, modX-&gt;getCollection('modResource', $criteria) with specific criteria
</td>
</tr>

<tr>
<td>
modX-&gt;getDocumentChildrenTVars()
</td>
<td>
<ul>
<li>to get document child resources and their TVs all at once:
</li>

<li>modResource-&gt;getMany('Children') and iterate the children and you can modResource-&gt;getTVValue()
</li>

<li>or to get TVs of any modResource object, modResource-&gt;getTemplateVars()
</li>

<li>or get a modTemplateVar with modX-&gt;getObject('modTemplateVar', array('name' =&gt; $tvName)) and then modTemplateVar-&gt;getValue($resourceId)/renderOutput($resourceId)
</li>
</ul>
</td>
</tr>

<tr>
<td>
modX-&gt;getTemplateVar()
</td>
<td>
modX-&gt;getObject('modTemplateVar', $criteria)
</td>
</tr>

<tr>
<td>
modX-&gt;getTemplateVars()
</td>
<td>
modX-&gt;getCollection('modTemplateVar', $criteria)
</td>
</tr>

<tr>
<td>
modX-&gt;getTemplateVarOutput()
</td>
<td>
use modTemplateVar-&gt;renderOutput() on a collection of modTemplateVar objects
</td>
</tr>

<tr>
<td>
modX-&gt;getParent()
</td>
<td>
modX-&gt;getObject('modResource', $modx-&gt;resource-&gt;get('parent')) or pass in additional criteria as needed
</td>
</tr>

<tr>
<td>
modX-&gt;getPageInfo()
</td>
<td>
modX-&gt;getObject('modResource', $criteria)
</td>
</tr>

<tr>
<td>
modX-&gt;getUserInfo()
</td>
<td>
$user= $this-&gt;getObjectGraph('modUser', '{"Profile":{}}', $uid, true)
<br />
access fields of modUser and fields of related modUserProfile
</td>
</tr>

<tr>
<td>
modX-&gt;getWebUserInfo()
</td>
<td>
as above
</td>
</tr>

<tr>
<td>
modX-&gt;changeWebUserPassword()
</td>
<td>
modUser-&gt;changePassword()
</td>
</tr>

<tr>
<td>
modX-&gt;changePassword()
</td>
<td>
modUser-&gt;changePassword()
</td>
</tr>

<tr>
<td>
modX-&gt;cleanDocumentIdentifier()
</td>
<td>
modRequest-&gt;_cleanResourceIdentifier(), but is not a public API method (DO NOT USE)
</td>
</tr>

<tr>
<td>
modX-&gt;getDocumentIdentifier()
</td>
<td>
modRequest-&gt;getResourceIdentifier()
</td>
</tr>

<tr>
<td>
modX-&gt;getDocumentMethod()
</td>
<td>
modRequest-&gt;getResourceMethod()
</td>
</tr>

<tr>
<td>
modX-&gt;checkPreview()
</td>
<td>
not valid anymore, removing for 2.1.0-rc1
</td>
</tr>

<tr>
<td>
modX-&gt;getManagerPath()
</td>
<td>
Use modX-&gt;getOption('manager_url', null, MODX_MANAGER_URL)
</td>
</tr>

<tr>
<td>
modX-&gt;mergeDocumentContent()
</td>
<td>
see modParser-&gt;processElementTags()
</td>
</tr>

<tr>
<td>
modX-&gt;mergeSettingsContent()
</td>
<td>
see modParser-&gt;processElementTags()
</td>
</tr>

<tr>
<td>
modX-&gt;mergeChunkContent()
</td>
<td>
see modParser-&gt;processElementTags()
</td>
</tr>

<tr>
<td>
modX-&gt;mergePlaceholderContent()
</td>
<td>
see modParser-&gt;processElementTags()
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modX-&gt;documentObject
</td>
<td>
access via modX-&gt;resource-&gt;get($field) or modX-&gt;resource-&gt;$field directly for raw data
</td>
</tr>

<tr>
<td>
modX-&gt;documentIdentifier
</td>
<td>
modX-&gt;resourceIdentifier
</td>
</tr>

<tr>
<td>
modX-&gt;documentMethod
</td>
<td>
modX-&gt;resourceMethod
</td>
</tr>

<tr>
<td>
modX-&gt;documentContent
</td>
<td>
modX-&gt;resource-&gt;getContent()
</td>
</tr>

<tr>
<td>
modX-&gt;documentGenerated
</td>
<td>
modX-&gt;resourceGenerated
</td>
</tr>

<tr>
<td>
modX-&gt;dumpSQL
</td>
<td>
see xPDOQuery-&gt;toSQL() (after xPDOQuery-&gt;prepare())
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modKeyword classes and related code
</td>
<td>
gone from framework, to be implemented more efficiently as developer sees fit
</td>
</tr>

<tr>
<td>
modMetatag classes and related code
</td>
<td>
gone from framework, to be implemented more efficiently as developer sees fit
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modElement-&gt;toPlaceholders()
</td>
<td>
modX-&gt;toPlaceholders()
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modManagerUser and related classes and code
</td>
<td>
see modUser
</td>
</tr>

<tr>
<td>
modUserRole class and related code
</td>
<td>
see Revo abac permissions
</td>
</tr>

<tr>
<td>
modWebUser and related classes and code
</td>
<td>
see modUser
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modEventLog class and modX-&gt;logEvent()
</td>
<td>
see modX-&gt;log()
</td>
</tr>

<tr>
<td>
modLexiconFocus/Topic/Language and related classes and code
</td>
<td>
see modLexicon and modLexiconEntry
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modX-&gt;executeProcessor()
</td>
<td>
see modX-&gt;runProcessor()
</td>
</tr>

<tr>
<td>
&nbsp;
</td>
</tr>

<tr>
<td>
modTemplate-&gt;getTVs()
</td>
<td>
modTemplate-&gt;getTemplateVars()
</td>
</tr>
</tbody>
</table>
<p>
This tutorial will demonstrate how to use a Context to create and manage a separate subdomain in a single Revolution install. We're going to create a subdomain at dev.modxcms.com (of course, not really, but you get the idea).
</p>

<h2>
<a name="CreatingaSubdomainfromaFolderusingVirtualHosts-CreatingtheContext" id="CreatingaSubdomainfromaFolderusingVirtualHosts-CreatingtheContext"></a>Creating the Context
</h2>

<p>
Navigate to System -&gt; Contexts. Click <em>Create New</em> to create a new context. Give it a name of "dev" and click <em>Save</em>.
</p>

<p>
Next, in the Resource Tree (to the left) create a "Dev Home" Resource. Place it in the root of the "dev" context. Also, while you're at it, create a "Dev Docs" Resource as well with an alias of "documentation". We'll use this to test our context links.
</p>

<p>
Your tree should look something like this:
</p>

<p>
<span class="image-wrap" style=""><img src="download/attachments/18678054/subctx1.png?version=1&amp;modificationDate=1269522960000" style="border: 0px solid black" /></span>
</p>

<p>
From there, go ahead and right-click on the "dev" Context in the tree, and click "Edit Context". From here we'll see a Context Settings tab. Click on it, and you'll need to add a few settings:
</p>

<ul>
<li>
<b>base_url</b> - Set this to "<b>/</b>" (no quotes) since we're making the root of the URL our base.
</li>

<li>
<b>http_host</b> - Set this to <b>dev.modxcms.com</b> (or your subdomain name)
</li>

<li>
<b>site_start</b>&nbsp;- Set this to the <b>ID of your "Dev Home" resource</b>.
</li>

<li>
<b>site_url</b> - Set this to <b>&nbsp;</b><b><a href="http://dev.modxcms.com/" class="external-link" rel="nofollow">http://dev.modxcms.com/</a></b> <b>&nbsp;</b>(or your subdomain url). Don't forget the <b><em>trailing slash</em></b>. Remember this setting is: <b>scheme + <em>http_host</em> + base_url</b>
</li>
</ul>

<p>
You can add other context-specific settings, such as error_page, unauthorized_page, cultureKey, and others if you so choose. All system settings can be overridden by setting them on a context.
</p>

<div class="note">
<b>Note: LINKING BETWEEN CONTEXTS</b>
<br />
If you're going to be <b>linking back to the 'web' context from this context ('dev')</b>, you'll want to <b>add those same Context Settings (with 'web'-specific values, of course) to the 'web' context</b>. This allows MODx to know where to redirect 'web' context URLs back to.
</div>

<p>
After creating the settings, clear your site cache.
</p>

<h2>
<a name="CreatingaSubdomainfromaFolderusingVirtualHosts-CreatingtheVirtualHost" id="CreatingaSubdomainfromaFolderusingVirtualHosts-CreatingtheVirtualHost"></a>Creating the Virtual Host
</h2>

<div class="note">
<b>cPanel Users</b>
<br />
cPanel will make the necessary changes automatically when you create a new sub domain. Manually editing the Virtual Hosts is not recommended.
</div>

<p>
Now we need to do some Apache work. (If you're not using Apache, you can at least follow the same idea and customize it to your server.) Go to Apache's httpd.conf file, and add these lines, changing where necessary for your domain name:
</p>

<pre class="brush: php">
    $modx-&gt;initialize('web');
    
</pre>
<p>
Change 'web' to 'dev'. Save the file and close.
</p>

<h4>
<a name="CreatingaSubdomainfromaFolderusingVirtualHosts-.htaccess" id="CreatingaSubdomainfromaFolderusingVirtualHosts-.htaccess"></a>.htaccess
</h4>

<p>
You'll only need to edit one line here (and maybe not at all). Find this line (near the top):
</p>

<pre class="brush: php">
    
 define('MODX_CORE_PATH', dirname(__FILE__) . '/core/');

    
</pre>
<p>
If the main domain is "up one level" on the filesystem, you should be able to use the following:
</p>

<div class="code panel" style="border-width: 1px;">
<div class="codeContent panelContent">
<pre class="code-java">
 define('MODX_CORE_PATH', dirname(dirname(__FILE__)) . '/core/');
</pre>
</div>
</div>

<h2>
<a name="CreatingaSubdomainfromaFolderusingVirtualHosts-FinalSteps" id="CreatingaSubdomainfromaFolderusingVirtualHosts-FinalSteps"></a>Final Steps
</h2>

<p>
Clear your site cache again, refresh the Resource tree, and click 'Preview' on your "Dev Home" document. You should now be showing the page at the following URL:
</p>

<blockquote>
<p>
<a href="http://dev.modxcms.com/" class="external-link" rel="nofollow">http://dev.modxcms.com/</a>
</p>
</blockquote>

<p>
Create a [[~135]] link to the "Dev Docs" Resource in the "Dev Home" Resource. Reload your page. Note the link properly builds to:
</p>

<blockquote>
<p>
<a href="http://dev.modxcms.com/documentation.html" class="external-link" rel="nofollow">http://dev.modxcms.com/documentation.html</a>
</p>
</blockquote>

<p>
And you're done!
</p>

<h2>
<a name="CreatingaSubdomainfromaFolderusingVirtualHosts-SeeAlso" id="CreatingaSubdomainfromaFolderusingVirtualHosts-SeeAlso"></a>See Also
</h2>

<ul>
<li>
<a href="display/revolution20/Contexts" title="Contexts">Contexts</a>
</li>

<li>Contexts as subfolders (from the forums:&nbsp;<a href="http://modxcms.com/forums/index.php/topic,51346.0.html" class="external-link" rel="nofollow">http://modxcms.com/forums/index.php/topic,51346.0.html</a>)
</li>
</ul>
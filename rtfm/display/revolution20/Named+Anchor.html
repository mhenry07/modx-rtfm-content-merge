<h2>
<a name="NamedAnchor-WhatisaNamedAnchor%3F"></a>What is a Named Anchor?
</h2>

<p>
A named anchor is a link to content within the current resource.
</p>

<p>
A typical named anchor will be similar to:
</p>

<pre class="brush: php">
&lt;a name="prohibited"&gt;&lt;/a&gt;
or more commonly, the id attribute is used:
&lt;a id="prohibited"&gt;&lt;/a&gt;
</pre>
<p>
You can link to any section of your HTML document that uses the id tag.
</p>

<p>
Named anchors can be problematic in MODX if you have friendly URLs enabled and your templates are using the <code>&lt;base href=""&gt;</code> tag. Although the base tag helps maintain relative urls in a deep page hierarchy, it can confuse certain browsers. There are several ways to overcome this issue.
</p>

<h2>
Adjust Your Link Scheme Settings
</h2>

<p>
Probably the easiest solution to this problem is to avoid using the base tag and instead adjust your <strong>link_tag_scheme</strong> to use "abs" instead of the default. This will cause MODX to generate a full link to your resources so the base tag becomes unnecessary, and once the base tag is gone, named anchors should work normally.
</p>

<h2>
Accessing the Named Anchor by adding the URL manually
</h2>

<p>
To generate a link on the current page while using a named anchor of "jump_here":
</p>

<pre class="brush: php">
Instead of this:
&lt;a href="#jump_here"&gt;Some ID&lt;/a&gt;
Verbosely include the current page's URL:
&lt;a href="[[~[[*id]]]]#jump_here"&gt;Some ID&lt;/a&gt;
</pre>
<p>
To generate a link to a Resource with ID 12 while using a named anchor of "prohibited":
</p>

<pre class="brush: php">
&lt;a href="[[~12]]#prohibited"&gt;Prohibited Activities&lt;/a&gt;
</pre>
<h2>
Using a Plugin to automatically add the URL when using anchors
</h2>

<p>
Finally, you could use a plugin to automatically prepend a link to the current resource before the actual anchor.
</p>

<p>
Put the following code into a new plugin, and on the System Events tab assign it to the "OnWebPagePrerender" event (based on <a href="http://forums.modx.com/thread/35800/plugin-anchorsaway?page=3#dis-post-199475" class="external-link" rel="nofollow">this post</a>).
</p>

<pre class="brush: php">
if ($modx-&gt;resource-&gt;get('id') != $modx-&gt;config['site_start']) {
    $modx-&gt;resource-&gt;_output = str_replace('href="#', 'href="' . $modx-&gt;makeUrl($modx-&gt;resource-&gt;get('id')) . '#', $modx-&gt;resource-&gt;_output);
}
</pre>
<p>
The code first makes sure we are not on the homepage (if we are, there is no need to add the url to the page). When we're not it will replace any occurrences of <ins>href="revolution/2.x/making-sites-with-modx/structuring-your-site/resources/named-anchor#</ins> with <ins>href="link-to-page.html#</ins>, making sure your anchors will work as intended.
</p>

<p>
With this solution, you can still refer to anchors on other pages using the second example above, but this is more complex, so if possible, use one of the previous solutions.
</p>